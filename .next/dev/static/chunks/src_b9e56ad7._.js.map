{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/SMAdmin/SMAdminSkeleton.tsx"],"sourcesContent":["'use client';\r\n\r\n// Базовый компонент скелетона\r\nfunction Skeleton({ className = '' }: { className?: string }) {\r\n  return (\r\n    <div className={`animate-pulse bg-gray-200 rounded ${className}`} />\r\n  );\r\n}\r\n\r\n// Скелетон для карточки в админке\r\nexport function AdminItemCardSkeleton() {\r\n  return (\r\n    <div className=\"bg-white rounded-xl p-5 border border-gray-100 shadow-sm\">\r\n      <div className=\"flex gap-4 mb-4\">\r\n        {/* Изображение/Аватар */}\r\n        <Skeleton className=\"w-16 h-16 rounded-xl flex-shrink-0\" />\r\n\r\n        {/* Информация */}\r\n        <div className=\"flex-1 min-w-0 space-y-2\">\r\n          <Skeleton className=\"h-5 w-3/4\" />\r\n          <Skeleton className=\"h-4 w-full\" />\r\n          <Skeleton className=\"h-4 w-2/3\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Теги/Badges */}\r\n      <div className=\"flex items-center gap-2 mb-4\">\r\n        <Skeleton className=\"h-6 w-20 rounded-full\" />\r\n        <Skeleton className=\"h-6 w-16 rounded-full\" />\r\n      </div>\r\n\r\n      {/* Нижняя часть с кнопками */}\r\n      <div className=\"flex items-center justify-between pt-4 border-t border-gray-100\">\r\n        <Skeleton className=\"h-4 w-24\" />\r\n        <div className=\"flex gap-2\">\r\n          <Skeleton className=\"h-8 w-8 rounded-lg\" />\r\n          <Skeleton className=\"h-8 w-8 rounded-lg\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для верхней части секции (заголовок + поиск + кнопка)\r\nexport function AdminSectionHeaderSkeleton() {\r\n  return (\r\n    <div className=\"bg-white rounded-2xl p-6 mb-6 border border-gray-100\">\r\n      <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\r\n        {/* Заголовок с иконкой */}\r\n        <div className=\"flex items-center gap-3\">\r\n          <Skeleton className=\"w-10 h-10 rounded-xl\" />\r\n          <div>\r\n            <Skeleton className=\"h-7 w-40 mb-2\" />\r\n            <Skeleton className=\"h-4 w-32\" />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Поиск и кнопка */}\r\n        <div className=\"flex flex-col sm:flex-row gap-3 lg:w-auto w-full\">\r\n          <Skeleton className=\"h-11 w-full sm:w-64 rounded-xl\" />\r\n          <Skeleton className=\"h-11 w-full sm:w-48 rounded-xl\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для сетки карточек\r\nexport function AdminGridSkeleton({ count = 12 }: { count?: number }) {\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\">\r\n      {Array.from({ length: count }).map((_, i) => (\r\n        <AdminItemCardSkeleton key={i} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Полный скелетон для секции админки\r\nexport function AdminSectionSkeleton({ itemCount = 12 }: { itemCount?: number }) {\r\n  return (\r\n    <>\r\n      <AdminSectionHeaderSkeleton />\r\n      <AdminGridSkeleton count={itemCount} />\r\n    </>\r\n  );\r\n}\r\n\r\n// Скелетон для списка (2 колонки, как в отзывах)\r\nexport function AdminListSkeleton({ count = 6 }: { count?: number }) {\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n      {Array.from({ length: count }).map((_, i) => (\r\n        <AdminItemCardSkeleton key={i} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для карточки отзыва\r\nexport function AdminFeedbackCardSkeleton() {\r\n  return (\r\n    <div className=\"bg-white rounded-xl p-5 border border-gray-100 shadow-sm\">\r\n      <div className=\"flex gap-4 mb-3\">\r\n        {/* Круглое фото автора */}\r\n        <Skeleton className=\"w-14 h-14 rounded-full flex-shrink-0\" />\r\n\r\n        {/* Информация */}\r\n        <div className=\"flex-1 min-w-0 space-y-2\">\r\n          <Skeleton className=\"h-5 w-2/5\" />\r\n          {/* Звезды и дата */}\r\n          <div className=\"flex items-center gap-3\">\r\n            <Skeleton className=\"h-4 w-24\" />\r\n            <Skeleton className=\"h-3 w-20\" />\r\n          </div>\r\n          <Skeleton className=\"h-4 w-full\" />\r\n          <Skeleton className=\"h-4 w-4/5\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Badges */}\r\n      <div className=\"flex items-center gap-2 mb-4\">\r\n        <Skeleton className=\"h-6 w-32 rounded-full\" />\r\n        <Skeleton className=\"h-6 w-28 rounded-full\" />\r\n      </div>\r\n\r\n      {/* Actions */}\r\n      <div className=\"flex items-center justify-end pt-4 border-t border-gray-100\">\r\n        <div className=\"flex gap-2\">\r\n          <Skeleton className=\"h-8 w-8 rounded-lg\" />\r\n          <Skeleton className=\"h-8 w-8 rounded-lg\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для сетки отзывов (2 колонки как в реальном компоненте)\r\nexport function AdminFeedbacksGridSkeleton({ count = 12 }: { count?: number }) {\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n      {Array.from({ length: count }).map((_, i) => (\r\n        <AdminFeedbackCardSkeleton key={i} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для карточки вопроса (длинная карточка на всю ширину)\r\nexport function AdminQuestionCardSkeleton() {\r\n  return (\r\n    <div className=\"bg-white rounded-xl p-5 border border-gray-100 shadow-sm\">\r\n      <div className=\"flex items-start justify-between gap-4\">\r\n        <div className=\"flex-1\">\r\n          {/* Вопрос */}\r\n          <Skeleton className=\"h-5 w-3/4 mb-2\" />\r\n\r\n          {/* Ответ */}\r\n          <Skeleton className=\"h-4 w-full mb-2\" />\r\n          <Skeleton className=\"h-4 w-5/6 mb-3\" />\r\n\r\n          {/* Badges */}\r\n          <div className=\"flex items-center gap-2\">\r\n            <Skeleton className=\"h-6 w-24 rounded-full\" />\r\n            <Skeleton className=\"h-6 w-32 rounded-full\" />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex gap-2\">\r\n          <Skeleton className=\"h-8 w-8 rounded-lg\" />\r\n          <Skeleton className=\"h-8 w-8 rounded-lg\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для списка вопросов (вертикально, одна карточка в строку)\r\nexport function AdminQuestionsGridSkeleton({ count = 12 }: { count?: number }) {\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {Array.from({ length: count }).map((_, i) => (\r\n        <AdminQuestionCardSkeleton key={i} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для страницы контактов\r\nexport function AdminContactsSkeleton() {\r\n  return (\r\n    <div className=\"bg-white rounded-2xl p-6 lg:p-8 border border-gray-100\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center gap-3 mb-8\">\r\n        <Skeleton className=\"w-12 h-12 rounded-xl\" />\r\n        <div>\r\n          <Skeleton className=\"h-7 w-40 mb-2\" />\r\n          <Skeleton className=\"h-4 w-64\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Form fields */}\r\n      <div className=\"space-y-6\">\r\n        {Array.from({ length: 7 }).map((_, i) => (\r\n          <div key={i}>\r\n            <Skeleton className=\"h-4 w-32 mb-2\" />\r\n            <Skeleton className=\"h-11 w-full rounded-lg\" />\r\n          </div>\r\n        ))}\r\n\r\n        {/* Button */}\r\n        <div className=\"pt-4\">\r\n          <Skeleton className=\"h-11 w-48 rounded-lg\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для загрузки доступа (начальная загрузка)\r\nexport function AdminAccessSkeleton() {\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 backdrop-blur-md\">\r\n      {/* Блюр оверлей */}\r\n      <div className=\"absolute inset-0 bg-white/50 backdrop-blur-sm\" />\r\n\r\n      {/* Центральный контент */}\r\n      <div className=\"relative z-10 text-center\">\r\n        {/* Анимированный спиннер */}\r\n        <div className=\"mb-6\">\r\n          <div className=\"w-16 h-16 mx-auto border-4 border-gray-200 border-t-[#18A36C] rounded-full animate-spin\" />\r\n        </div>\r\n\r\n        {/* Текст загрузки */}\r\n        <div className=\"space-y-3\">\r\n          <h2 className=\"text-xl font-semibold text-gray-800\">Проверка доступа...</h2>\r\n          <p className=\"text-sm text-gray-500\">Пожалуйста, подождите</p>\r\n        </div>\r\n\r\n        {/* Пульсирующие точки */}\r\n        <div className=\"flex justify-center gap-2 mt-6\">\r\n          <div className=\"w-2 h-2 bg-[#18A36C] rounded-full animate-pulse\" style={{ animationDelay: '0ms' }} />\r\n          <div className=\"w-2 h-2 bg-[#18A36C] rounded-full animate-pulse\" style={{ animationDelay: '150ms' }} />\r\n          <div className=\"w-2 h-2 bg-[#18A36C] rounded-full animate-pulse\" style={{ animationDelay: '300ms' }} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 781, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/common/SMBadge/SMBadge.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"../SMUtils/SMUtils\";\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"span\"> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : \"span\";\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Badge, badgeVariants };\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS","debugId":null}},
    {"offset": {"line": 833, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/utils/chatNotifications.ts"],"sourcesContent":["const NOTIFIED_CHATS_KEY = 'chat-notifications-notified';\r\n\r\n/**\r\n * Clear notification flag for a specific chat\r\n * Call this when user opens and reads a chat\r\n */\r\nexport function clearChatNotification(chatId: number): void {\r\n  if (typeof window === 'undefined') return;\r\n\r\n  const notifiedChats = JSON.parse(\r\n    localStorage.getItem(NOTIFIED_CHATS_KEY) || '[]'\r\n  ) as number[];\r\n\r\n  const updated = notifiedChats.filter((id) => id !== chatId);\r\n  localStorage.setItem(NOTIFIED_CHATS_KEY, JSON.stringify(updated));\r\n}\r\n\r\n/**\r\n * Clear all chat notifications\r\n */\r\nexport function clearAllChatNotifications(): void {\r\n  if (typeof window === 'undefined') return;\r\n  localStorage.removeItem(NOTIFIED_CHATS_KEY);\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,qBAAqB;AAMpB,SAAS,sBAAsB,MAAc;IAClD;;IAEA,MAAM,gBAAgB,KAAK,KAAK,CAC9B,aAAa,OAAO,CAAC,uBAAuB;IAG9C,MAAM,UAAU,cAAc,MAAM,CAAC,CAAC,KAAO,OAAO;IACpD,aAAa,OAAO,CAAC,oBAAoB,KAAK,SAAS,CAAC;AAC1D;AAKO,SAAS;IACd;;IACA,aAAa,UAAU,CAAC;AAC1B","debugId":null}},
    {"offset": {"line": 859, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/SMAdmin/ChatModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { X, Send, User, Bot, Clock, CheckCheck, Loader2, Ban, UserX, Trash2 } from 'lucide-react';\r\nimport { Button } from '../common/SMButton/SMButton';\r\nimport { Badge } from '../common/SMBadge/SMBadge';\r\nimport { useAlert } from '../common/SMAlert/AlertProvider';\r\nimport { clearChatNotification } from '@/utils/chatNotifications';\r\n\r\ninterface ChatMessage {\r\n  id: number;\r\n  chat_id: number;\r\n  sender_id: number;\r\n  sender_type: 'patient' | 'operator';\r\n  content: string;\r\n  created_at: string;\r\n  is_read: boolean;\r\n  sender: {\r\n    id: number;\r\n    name: string;\r\n    avatar_url: string | null;\r\n  };\r\n}\r\n\r\ninterface Chat {\r\n  id: number;\r\n  patient_id: number;\r\n  operator_id: number | null;\r\n  status: 'WAITING' | 'ACTIVE' | 'CLOSED';\r\n  created_at: string;\r\n  updated_at: string;\r\n  last_message_at: string | null;\r\n  has_unread_operator: boolean;\r\n  has_unread_patient: boolean;\r\n  patient: {\r\n    id: number;\r\n    name: string;\r\n    email: string;\r\n    avatar_url: string | null;\r\n    is_messages_blocked: boolean;\r\n  };\r\n  operator: {\r\n    id: number;\r\n    name: string;\r\n  } | null;\r\n  messages: ChatMessage[];\r\n}\r\n\r\ninterface ChatModalProps {\r\n  chatId: number;\r\n  onClose: () => void;\r\n}\r\n\r\nexport function ChatModal({ chatId, onClose }: ChatModalProps) {\r\n  const [chat, setChat] = useState<Chat | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [message, setMessage] = useState('');\r\n  const [sending, setSending] = useState(false);\r\n  const [showBlockConfirm, setShowBlockConfirm] = useState(false);\r\n  const [blocking, setBlocking] = useState(false);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n  const [deleting, setDeleting] = useState(false);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const alert = useAlert();\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const loadChat = useCallback(async () => {\r\n    try {\r\n      const response = await fetch(`/api/operator-chat/${chatId}`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setChat(data.chat);\r\n        // Clear notification when chat is opened and loaded\r\n        clearChatNotification(chatId);\r\n      } else {\r\n        alert.error('Не удалось загрузить чат', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading chat:', error);\r\n      alert.error('Ошибка при загрузке чата', 'Ошибка');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [chatId, alert]);\r\n\r\n  useEffect(() => {\r\n    loadChat();\r\n    // Автообновление убрано - обновляется только при отправке сообщения и открытии\r\n  }, [loadChat]);\r\n\r\n  useEffect(() => {\r\n    if (chat) {\r\n      scrollToBottom();\r\n    }\r\n  }, [chat?.messages]);\r\n\r\n  const handleTakeChat = async () => {\r\n    try {\r\n      const response = await fetch(`/api/operator-chat/${chatId}`, {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ action: 'take' }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert.success('Вы взяли чат', 'Успех');\r\n        loadChat();\r\n      } else {\r\n        alert.error('Не удалось взять чат', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error taking chat:', error);\r\n      alert.error('Ошибка при взятии чата', 'Ошибка');\r\n    }\r\n  };\r\n\r\n  const handleCloseChat = async () => {\r\n    try {\r\n      const response = await fetch(`/api/operator-chat/${chatId}`, {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ status: 'CLOSED' }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert.success('Чат закрыт', 'Успех');\r\n        onClose();\r\n      } else {\r\n        alert.error('Не удалось закрыть чат', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error closing chat:', error);\r\n      alert.error('Ошибка при закрытии чата', 'Ошибка');\r\n    }\r\n  };\r\n\r\n  const handleBlockUser = () => {\r\n    if (!chat) return;\r\n    setShowBlockConfirm(true);\r\n  };\r\n\r\n  const confirmBlockUser = async () => {\r\n    if (!chat || blocking) return;\r\n\r\n    const action = chat.patient.is_messages_blocked ? 'unblock' : 'block';\r\n    setBlocking(true);\r\n\r\n    try {\r\n      const response = await fetch(`/api/operator-chat/${chatId}/block`, {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ action }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        alert.success(\r\n          action === 'block' ? 'Пользователь заблокирован и все его чаты удалены' : 'Пользователь разблокирован',\r\n          'Успех'\r\n        );\r\n        if (action === 'block') {\r\n          // Чат удален, закрываем модалку\r\n          onClose();\r\n        } else {\r\n          await loadChat();\r\n          setShowBlockConfirm(false);\r\n        }\r\n      } else {\r\n        alert.error(data.error || 'Не удалось ' + (action === 'block' ? 'заблокировать' : 'разблокировать') + ' пользователя', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error blocking/unblocking user:', error);\r\n      alert.error('Ошибка при блокировке/разблокировке', 'Ошибка');\r\n    } finally {\r\n      setBlocking(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteChat = () => {\r\n    setShowDeleteConfirm(true);\r\n  };\r\n\r\n  const confirmDeleteChat = async () => {\r\n    if (!chat || deleting) return;\r\n\r\n    setDeleting(true);\r\n\r\n    try {\r\n      const response = await fetch(`/api/operator-chat/${chatId}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        alert.success('Чат удален', 'Успех');\r\n        onClose();\r\n      } else {\r\n        alert.error(data.error || 'Не удалось удалить чат', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting chat:', error);\r\n      alert.error('Ошибка при удалении чата', 'Ошибка');\r\n    } finally {\r\n      setDeleting(false);\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!message.trim() || sending) return;\r\n\r\n    setSending(true);\r\n    try {\r\n      const response = await fetch(`/api/operator-chat/${chatId}`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ content: message.trim() }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMessage('');\r\n        loadChat();\r\n      } else {\r\n        const data = await response.json();\r\n        alert.error(data.error || 'Не удалось отправить сообщение', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      alert.error('Ошибка при отправке сообщения', 'Ошибка');\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    switch (status) {\r\n      case 'WAITING':\r\n        return <Badge variant=\"outline\" className=\"border-amber-400 text-amber-700 bg-amber-50\">Ожидает</Badge>;\r\n      case 'ACTIVE':\r\n        return <Badge variant=\"default\" className=\"bg-emerald-500 text-white border-transparent shadow-sm\">Активный</Badge>;\r\n      case 'CLOSED':\r\n        return <Badge variant=\"secondary\" className=\"bg-gray-200 text-gray-700\">Закрыт</Badge>;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const formatTime = (date: string) => {\r\n    const d = new Date(date);\r\n    return d.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4\">\r\n        {/* Overlay */}\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          exit={{ opacity: 0 }}\r\n          onClick={onClose}\r\n          className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\r\n        />\r\n\r\n        {/* Modal */}\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n          animate={{ opacity: 1, scale: 1, y: 0 }}\r\n          exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n          className=\"relative z-10 w-full max-w-3xl bg-white rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh]\"\r\n        >\r\n          {loading ? (\r\n            <div className=\"flex items-center justify-center h-96\">\r\n              <Loader2 className=\"w-8 h-8 text-[#18A36C] animate-spin\" />\r\n            </div>\r\n          ) : chat ? (\r\n            <>\r\n              {/* Header */}\r\n              <div className=\"bg-white border-b border-gray-200 p-4 sm:p-6 flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n                <div className=\"flex items-center gap-3 sm:gap-4 min-w-0\">\r\n                  {chat.patient.avatar_url ? (\r\n                    <img\r\n                      src={chat.patient.avatar_url}\r\n                      alt={chat.patient.name}\r\n                      className=\"w-12 h-12 sm:w-14 sm:h-14 rounded-full object-cover border-2 border-gray-200 flex-shrink-0\"\r\n                    />\r\n                  ) : (\r\n                    <div className=\"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-full flex items-center justify-center shadow-md flex-shrink-0\">\r\n                      <User className=\"w-6 h-6 sm:w-7 sm:h-7 text-white\" />\r\n                    </div>\r\n                  )}\r\n                  <div className=\"min-w-0 flex-1\">\r\n                    <h2 className=\"text-lg sm:text-xl font-bold text-gray-900 truncate\">{chat.patient.name}</h2>\r\n                    <p className=\"text-gray-600 text-xs sm:text-sm truncate\">{chat.patient.email}</p>\r\n                    <div className=\"mt-1.5 flex items-center gap-2 flex-wrap\">\r\n                      {getStatusBadge(chat.status)}\r\n                      {chat.patient.is_messages_blocked && (\r\n                        <Badge variant=\"secondary\" className=\"bg-gray-700 text-white text-xs\">\r\n                          <Ban className=\"w-3 h-3 mr-1\" />\r\n                          Заблокирован\r\n                        </Badge>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n                  {chat.status !== 'CLOSED' && (\r\n                    <>\r\n                      {chat.status === 'WAITING' && (\r\n                        <Button\r\n                          onClick={handleTakeChat}\r\n                          className=\"bg-[#18A36C] text-white hover:bg-[#15905f] shadow-sm\"\r\n                        >\r\n                          Взять чат\r\n                        </Button>\r\n                      )}\r\n                      {chat.status === 'ACTIVE' && (\r\n                        <Button\r\n                          onClick={handleCloseChat}\r\n                          variant=\"outline\"\r\n                          className=\"text-gray-700 border-gray-300\"\r\n                        >\r\n                          Закрыть чат\r\n                        </Button>\r\n                      )}\r\n                    </>\r\n                  )}\r\n                  <button\r\n                    onClick={handleDeleteChat}\r\n                    title=\"Удалить чат\"\r\n                    className=\"w-10 h-10 rounded-lg flex items-center justify-center transition-all bg-red-50 text-red-600 hover:bg-red-100\"\r\n                  >\r\n                    <Trash2 className=\"w-5 h-5\" />\r\n                  </button>\r\n                  <button\r\n                    onClick={handleBlockUser}\r\n                    title={chat.patient.is_messages_blocked ? 'Разблокировать' : 'Заблокировать'}\r\n                    className={`w-10 h-10 rounded-lg flex items-center justify-center transition-all ${chat.patient.is_messages_blocked\r\n                      ? 'bg-blue-50 text-blue-600 hover:bg-blue-100'\r\n                      : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                      }`}\r\n                  >\r\n                    {chat.patient.is_messages_blocked ? (\r\n                      <UserX className=\"w-5 h-5\" />\r\n                    ) : (\r\n                      <Ban className=\"w-5 h-5\" />\r\n                    )}\r\n                  </button>\r\n                  <button\r\n                    onClick={onClose}\r\n                    className=\"w-10 h-10 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 transition-colors\"\r\n                  >\r\n                    <X className=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Messages */}\r\n              <div className=\"flex-1 overflow-y-auto p-6 space-y-4 bg-gradient-to-b from-gray-50 to-white\">\r\n                {chat.messages.map((msg) => (\r\n                  <motion.div\r\n                    key={msg.id}\r\n                    initial={{ opacity: 0, y: 10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    className={`flex gap-3 ${msg.sender_type === 'operator' ? 'flex-row-reverse' : ''}`}\r\n                  >\r\n                    {msg.sender.avatar_url ? (\r\n                      <img\r\n                        src={msg.sender.avatar_url}\r\n                        alt={msg.sender.name}\r\n                        className=\"w-10 h-10 rounded-full object-cover flex-shrink-0 shadow-sm\"\r\n                      />\r\n                    ) : (\r\n                      <div\r\n                        className={`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 shadow-sm ${msg.sender_type === 'operator'\r\n                          ? 'bg-gradient-to-br from-emerald-500 to-emerald-600'\r\n                          : 'bg-gradient-to-br from-gray-400 to-gray-500'\r\n                          }`}\r\n                      >\r\n                        {msg.sender_type === 'operator' ? (\r\n                          <Bot className=\"w-5 h-5 text-white\" />\r\n                        ) : (\r\n                          <User className=\"w-5 h-5 text-white\" />\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                    <div className={`max-w-[70%] ${msg.sender_type === 'operator' ? 'items-end' : 'items-start'} flex flex-col`}>\r\n                      <div\r\n                        className={`rounded-2xl p-4 shadow-sm ${msg.sender_type === 'operator'\r\n                          ? 'bg-gradient-to-br from-emerald-500 to-emerald-600 text-white'\r\n                          : 'bg-white text-gray-800 border border-gray-200'\r\n                          }`}\r\n                      >\r\n                        <p className=\"text-sm leading-relaxed whitespace-pre-wrap\">{msg.content}</p>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2 mt-1.5 px-2\">\r\n                        <Clock className=\"w-3 h-3 text-gray-400\" />\r\n                        <span className=\"text-xs text-gray-500\">{formatTime(msg.created_at)}</span>\r\n                        {msg.sender_type === 'operator' && msg.is_read && (\r\n                          <CheckCheck className=\"w-4 h-4 text-emerald-500\" />\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </motion.div>\r\n                ))}\r\n                <div ref={messagesEndRef} />\r\n              </div>\r\n\r\n              {/* Input */}\r\n              {chat.status !== 'CLOSED' && (\r\n                <div className=\"p-4 bg-white border-t border-gray-200\">\r\n                  <div className=\"flex gap-3\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={message}\r\n                      onChange={(e) => setMessage(e.target.value)}\r\n                      onKeyPress={handleKeyPress}\r\n                      placeholder=\"Напишите сообщение...\"\r\n                      disabled={sending}\r\n                      className=\"flex-1 px-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all disabled:opacity-50\"\r\n                    />\r\n                    <button\r\n                      onClick={handleSendMessage}\r\n                      disabled={sending || !message.trim()}\r\n                      className=\"w-12 h-12 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center text-white hover:shadow-md hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100\"\r\n                    >\r\n                      {sending ? (\r\n                        <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                      ) : (\r\n                        <Send className=\"w-5 h-5\" />\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <div className=\"flex items-center justify-center h-96\">\r\n              <p className=\"text-gray-600\">Чат не найден</p>\r\n            </div>\r\n          )}\r\n        </motion.div>\r\n\r\n        {/* Block Confirmation Modal */}\r\n        {showBlockConfirm && chat && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"absolute inset-0 z-20 flex items-center justify-center bg-black/40 backdrop-blur-sm\"\r\n            onClick={() => setShowBlockConfirm(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.9, y: 20 }}\r\n              animate={{ opacity: 1, scale: 1, y: 0 }}\r\n              exit={{ opacity: 0, scale: 0.9, y: 20 }}\r\n              onClick={(e) => e.stopPropagation()}\r\n              className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden\"\r\n            >\r\n              {/* Header */}\r\n              <div className={`p-6 ${chat.patient.is_messages_blocked\r\n                ? 'bg-gradient-to-r from-[#18A36C] to-[#15905f]'\r\n                : 'bg-gradient-to-r from-[#18A36C] to-[#15905f]'\r\n                }`}>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center\">\r\n                    {chat.patient.is_messages_blocked ? (\r\n                      <UserX className=\"w-6 h-6 text-white\" />\r\n                    ) : (\r\n                      <Ban className=\"w-6 h-6 text-white\" />\r\n                    )}\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-lg font-bold text-white\">\r\n                      {chat.patient.is_messages_blocked ? 'Разблокировать пользователя?' : 'Заблокировать пользователя?'}\r\n                    </h3>\r\n                    <p className=\"text-sm text-white/80\">{chat.patient.name}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Content */}\r\n              <div className=\"p-6\">\r\n                <p className=\"text-gray-700 leading-relaxed\">\r\n                  {chat.patient.is_messages_blocked\r\n                    ? 'Пользователь сможет снова создавать новые чаты и отправлять сообщения.'\r\n                    : 'Пользователь не сможет создавать новые чаты и отправлять сообщения. Все его чаты будут удалены.'}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Actions */}\r\n              <div className=\"px-6 pb-6 flex gap-3 justify-end\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={() => setShowBlockConfirm(false)}\r\n                  disabled={blocking}\r\n                  className=\"border-gray-300 text-gray-700 hover:bg-gray-50\"\r\n                >\r\n                  Отмена\r\n                </Button>\r\n                <Button\r\n                  onClick={confirmBlockUser}\r\n                  disabled={blocking}\r\n                  className={\r\n                    chat.patient.is_messages_blocked\r\n                      ? 'bg-blue-500 hover:bg-blue-600 text-white shadow-md flex items-center gap-2'\r\n                      : 'bg-gray-700 hover:bg-gray-800 text-white shadow-md flex items-center gap-2'\r\n                  }\r\n                >\r\n                  {blocking && <Loader2 className=\"w-4 h-4 animate-spin\" />}\r\n                  {chat.patient.is_messages_blocked ? 'Разблокировать' : 'Заблокировать'}\r\n                </Button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n\r\n        {/* Delete Confirmation Modal */}\r\n        {showDeleteConfirm && chat && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"absolute inset-0 z-20 flex items-center justify-center bg-black/40 backdrop-blur-sm\"\r\n            onClick={() => setShowDeleteConfirm(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.9, y: 20 }}\r\n              animate={{ opacity: 1, scale: 1, y: 0 }}\r\n              exit={{ opacity: 0, scale: 0.9, y: 20 }}\r\n              onClick={(e) => e.stopPropagation()}\r\n              className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden\"\r\n            >\r\n              {/* Header */}\r\n              <div className=\"p-6 bg-gradient-to-r from-red-500 to-red-600\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center\">\r\n                    <Trash2 className=\"w-6 h-6 text-white\" />\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-lg font-bold text-white\">\r\n                      Удалить чат?\r\n                    </h3>\r\n                    <p className=\"text-sm text-white/80\">{chat.patient.name}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Content */}\r\n              <div className=\"p-6\">\r\n                <p className=\"text-gray-700 leading-relaxed\">\r\n                  Все сообщения в этом чате будут удалены безвозвратно. Это действие нельзя отменить.\r\n                </p>\r\n              </div>\r\n\r\n              {/* Actions */}\r\n              <div className=\"px-6 pb-6 flex gap-3 justify-end\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={() => setShowDeleteConfirm(false)}\r\n                  disabled={deleting}\r\n                  className=\"border-gray-300 text-gray-700 hover:bg-gray-50\"\r\n                >\r\n                  Отмена\r\n                </Button>\r\n                <Button\r\n                  onClick={confirmDeleteChat}\r\n                  disabled={deleting}\r\n                  className=\"bg-red-500 hover:bg-red-600 text-white shadow-md flex items-center gap-2\"\r\n                >\r\n                  {deleting && <Loader2 className=\"w-4 h-4 animate-spin\" />}\r\n                  Удалить\r\n                </Button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </div>\r\n    </AnimatePresence>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1882, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/common/SMPagination/SMPagination.tsx"],"sourcesContent":["\"use client\";\n\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { Button } from \"../SMButton/SMButton\";\n\ninterface PaginationProps {\n  currentPage: number;\n  totalPages: number;\n  onPageChange: (page: number) => void;\n  className?: string;\n}\n\nexport function Pagination({\n  currentPage,\n  totalPages,\n  onPageChange,\n  className = \"\",\n}: PaginationProps) {\n  // \u001d5 ?>:07K205< ?038=0F8N 5A;8 2A53> 1 AB@0=8F0\n  if (totalPages <= 1) return null;\n\n  // \u00135=5@8@C5< <0AA82 =><5@>2 AB@0=8F 4;O >B>1@065=8O\n  const getPageNumbers = () => {\n    const pages: (number | string)[] = [];\n    const maxVisible = 5; // \u001c0:A8<C< 2848<KE :=>?>: AB@0=8F\n\n    if (totalPages <= maxVisible) {\n      // \u0015A;8 AB@0=8F <0;>, ?>:07K205< 2A5\n      for (let i = 1; i <= totalPages; i++) {\n        pages.push(i);\n      }\n    } else {\n      // \u0012A5340 ?>:07K205< ?5@2CN AB@0=8FC\n      pages.push(1);\n\n      if (currentPage > 3) {\n        pages.push(\"...\");\n      }\n\n      // \u001f>:07K205< AB@0=8FK 2>:@C3 B5:CI59\n      const start = Math.max(2, currentPage - 1);\n      const end = Math.min(totalPages - 1, currentPage + 1);\n\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n\n      if (currentPage < totalPages - 2) {\n        pages.push(\"...\");\n      }\n\n      // \u0012A5340 ?>:07K205< ?>A;54=NN AB@0=8FC\n      pages.push(totalPages);\n    }\n\n    return pages;\n  };\n\n  const pages = getPageNumbers();\n\n  return (\n    <div className={`flex items-center justify-center gap-2 ${className}`}>\n      {/* \u001a=>?:0 \"\u001d0704\" */}\n      <Button\n        onClick={() => onPageChange(currentPage - 1)}\n        disabled={currentPage === 1}\n        variant=\"outline\"\n        className=\"h-10 w-10 p-0 border-gray-300 hover:bg-gray-50 disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed hidden sm:flex items-center justify-center\"\n      >\n        <ChevronLeft className=\"w-5 h-5\" />\n      </Button>\n\n      {/* \u001c>18;L=0O 25@A8O - B>;L:> B5:CI0O AB@0=8F0 */}\n      <div className=\"flex sm:hidden items-center gap-2\">\n        <Button\n          onClick={() => onPageChange(currentPage - 1)}\n          disabled={currentPage === 1}\n          variant=\"outline\"\n          className=\"h-10 px-3 border-gray-300 hover:bg-gray-50 disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed\"\n        >\n          <ChevronLeft className=\"w-4 h-4\" />\n        </Button>\n\n        <span className=\"text-sm text-gray-700 min-w-[80px] text-center\">\n          {currentPage} / {totalPages}\n        </span>\n\n        <Button\n          onClick={() => onPageChange(currentPage + 1)}\n          disabled={currentPage === totalPages}\n          variant=\"outline\"\n          className=\"h-10 px-3 border-gray-300 hover:bg-gray-50 disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed\"\n        >\n          <ChevronRight className=\"w-4 h-4\" />\n        </Button>\n      </div>\n\n      {/* \u00145A:B>?=0O 25@A8O - 2A5 =><5@0 AB@0=8F */}\n      <div className=\"hidden sm:flex items-center gap-2\">\n        {pages.map((page, index) => {\n          if (page === \"...\") {\n            return (\n              <span\n                key={`ellipsis-${index}`}\n                className=\"px-2 text-gray-500\"\n              >\n                ...\n              </span>\n            );\n          }\n\n          const pageNumber = page as number;\n          const isActive = pageNumber === currentPage;\n\n          return (\n            <Button\n              key={pageNumber}\n              onClick={() => onPageChange(pageNumber)}\n              variant={isActive ? \"default\" : \"outline\"}\n              className={`h-10 w-10 p-0 cursor-pointer ${\n                isActive\n                  ? \"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white border-[#18A36C]\"\n                  : \"border-gray-300 hover:bg-gray-50 text-gray-700\"\n              }`}\n            >\n              {pageNumber}\n            </Button>\n          );\n        })}\n      </div>\n\n      {/* \u001a=>?:0 \"\u0012?5@54\" */}\n      <Button\n        onClick={() => onPageChange(currentPage + 1)}\n        disabled={currentPage === totalPages}\n        variant=\"outline\"\n        className=\"h-10 w-10 p-0 border-gray-300 hover:bg-gray-50 disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed hidden sm:flex items-center justify-center\"\n      >\n        <ChevronRight className=\"w-5 h-5\" />\n      </Button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAHA;;;;AAYO,SAAS,WAAW,EACzB,WAAW,EACX,UAAU,EACV,YAAY,EACZ,YAAY,EAAE,EACE;IAChB,gDAAgD;IAChD,IAAI,cAAc,GAAG,OAAO;IAE5B,oDAAoD;IACpD,MAAM,iBAAiB;QACrB,MAAM,QAA6B,EAAE;QACrC,MAAM,aAAa,GAAG,kCAAkC;QAExD,IAAI,cAAc,YAAY;YAC5B,oCAAoC;YACpC,IAAK,IAAI,IAAI,GAAG,KAAK,YAAY,IAAK;gBACpC,MAAM,IAAI,CAAC;YACb;QACF,OAAO;YACL,oCAAoC;YACpC,MAAM,IAAI,CAAC;YAEX,IAAI,cAAc,GAAG;gBACnB,MAAM,IAAI,CAAC;YACb;YAEA,qCAAqC;YACrC,MAAM,QAAQ,KAAK,GAAG,CAAC,GAAG,cAAc;YACxC,MAAM,MAAM,KAAK,GAAG,CAAC,aAAa,GAAG,cAAc;YAEnD,IAAK,IAAI,IAAI,OAAO,KAAK,KAAK,IAAK;gBACjC,MAAM,IAAI,CAAC;YACb;YAEA,IAAI,cAAc,aAAa,GAAG;gBAChC,MAAM,IAAI,CAAC;YACb;YAEA,uCAAuC;YACvC,MAAM,IAAI,CAAC;QACb;QAEA,OAAO;IACT;IAEA,MAAM,QAAQ;IAEd,qBACE,6LAAC;QAAI,WAAW,CAAC,uCAAuC,EAAE,WAAW;;0BAEnE,6LAAC,iKAAM;gBACL,SAAS,IAAM,aAAa,cAAc;gBAC1C,UAAU,gBAAgB;gBAC1B,SAAQ;gBACR,WAAU;0BAEV,cAAA,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;0BAIzB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,iKAAM;wBACL,SAAS,IAAM,aAAa,cAAc;wBAC1C,UAAU,gBAAgB;wBAC1B,SAAQ;wBACR,WAAU;kCAEV,cAAA,6LAAC,sOAAW;4BAAC,WAAU;;;;;;;;;;;kCAGzB,6LAAC;wBAAK,WAAU;;4BACb;4BAAY;4BAAI;;;;;;;kCAGnB,6LAAC,iKAAM;wBACL,SAAS,IAAM,aAAa,cAAc;wBAC1C,UAAU,gBAAgB;wBAC1B,SAAQ;wBACR,WAAU;kCAEV,cAAA,6LAAC,yOAAY;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAK5B,6LAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM;oBAChB,IAAI,SAAS,OAAO;wBAClB,qBACE,6LAAC;4BAEC,WAAU;sCACX;2BAFM,CAAC,SAAS,EAAE,OAAO;;;;;oBAM9B;oBAEA,MAAM,aAAa;oBACnB,MAAM,WAAW,eAAe;oBAEhC,qBACE,6LAAC,iKAAM;wBAEL,SAAS,IAAM,aAAa;wBAC5B,SAAS,WAAW,YAAY;wBAChC,WAAW,CAAC,6BAA6B,EACvC,WACI,mEACA,kDACJ;kCAED;uBATI;;;;;gBAYX;;;;;;0BAIF,6LAAC,iKAAM;gBACL,SAAS,IAAM,aAAa,cAAc;gBAC1C,UAAU,gBAAgB;gBAC1B,SAAQ;gBACR,WAAU;0BAEV,cAAA,6LAAC,yOAAY;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIhC;KAlIgB","debugId":null}},
    {"offset": {"line": 2067, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/app/admin/chat/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { useSession } from 'next-auth/react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { AdminAccessSkeleton } from '@/components/SMAdmin/SMAdminSkeleton';\r\nimport { MessagesSquare, Clock, User, CheckCheck, MessageCircle, Ban, UserX, Loader2, ArrowLeft } from 'lucide-react';\r\nimport { Badge } from '@/components/common/SMBadge/SMBadge';\r\nimport { Button } from '@/components/common/SMButton/SMButton';\r\nimport { ChatModal } from '@/components/SMAdmin/ChatModal';\r\nimport { useAlert } from '@/components/common/SMAlert/AlertProvider';\r\nimport { Pagination } from '@/components/common/SMPagination/SMPagination';\r\n\r\ninterface ChatMessage {\r\n  id: number;\r\n  chat_id: number;\r\n  sender_id: number;\r\n  sender_type: 'patient' | 'operator';\r\n  content: string;\r\n  created_at: string;\r\n  is_read: boolean;\r\n}\r\n\r\ninterface Chat {\r\n  id: number;\r\n  patient_id: number;\r\n  operator_id: number | null;\r\n  status: 'WAITING' | 'ACTIVE' | 'CLOSED';\r\n  created_at: string;\r\n  updated_at: string;\r\n  last_message_at: string | null;\r\n  has_unread_operator: boolean;\r\n  has_unread_patient: boolean;\r\n  patient: {\r\n    id: number;\r\n    name: string;\r\n    email: string;\r\n    avatar_url: string | null;\r\n    is_messages_blocked: boolean;\r\n  };\r\n  operator: {\r\n    id: number;\r\n    name: string;\r\n  } | null;\r\n  messages: ChatMessage[];\r\n}\r\n\r\ninterface BlockedUser {\r\n  id: number;\r\n  name: string;\r\n  email: string;\r\n  avatar_url: string | null;\r\n  phone: string | null;\r\n  registration_date: string;\r\n}\r\n\r\nexport default function AdminChatPage() {\r\n  const { data: session, status } = useSession();\r\n  const router = useRouter();\r\n  const alert = useAlert();\r\n\r\n  const [hasAdminRole, setHasAdminRole] = useState<boolean | null>(null);\r\n  const [isCheckingRole, setIsCheckingRole] = useState(true);\r\n  const [chats, setChats] = useState<Chat[]>([]);\r\n  const [blockedUsers, setBlockedUsers] = useState<BlockedUser[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedChatId, setSelectedChatId] = useState<number | null>(null);\r\n  const [filterStatus, setFilterStatus] = useState<'ALL' | 'WAITING' | 'ACTIVE' | 'CLOSED' | 'BLOCKED'>('ALL');\r\n  const [unblockingUserId, setUnblockingUserId] = useState<number | null>(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const ITEMS_PER_PAGE = 9;\r\n\r\n  // Check admin role\r\n  const checkAdminRole = useCallback(async () => {\r\n    setIsCheckingRole(true);\r\n    try {\r\n      const res = await fetch('/api/admin/auth');\r\n      const data = await res.json();\r\n      setHasAdminRole(data.isAdmin || false);\r\n    } catch (error) {\r\n      console.error('Error checking admin role:', error);\r\n      setHasAdminRole(false);\r\n    } finally {\r\n      setIsCheckingRole(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (status === 'authenticated') {\r\n      checkAdminRole();\r\n    } else if (status === 'unauthenticated') {\r\n      setIsCheckingRole(false);\r\n      setHasAdminRole(false);\r\n    }\r\n  }, [status, checkAdminRole]);\r\n\r\n  // Load chats\r\n  const loadChats = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch('/api/operator-chat');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setChats(data.chats || []);\r\n      } else {\r\n        alert.error('Не удалось загрузить чаты', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading chats:', error);\r\n      alert.error('Ошибка при загрузке чатов', 'Ошибка');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [alert]);\r\n\r\n  // Load blocked users\r\n  const loadBlockedUsers = useCallback(async () => {\r\n    try {\r\n      const response = await fetch('/api/admin/blocked-users');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setBlockedUsers(data.users || []);\r\n      } else {\r\n        alert.error('Не удалось загрузить заблокированных пользователей', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading blocked users:', error);\r\n      alert.error('Ошибка при загрузке заблокированных пользователей', 'Ошибка');\r\n    }\r\n  }, [alert]);\r\n\r\n  // Unblock user\r\n  const handleUnblockUser = async (userId: number) => {\r\n    setUnblockingUserId(userId);\r\n    try {\r\n      const response = await fetch('/api/admin/blocked-users', {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ patientId: userId }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert.success('Пользователь разблокирован', 'Успех');\r\n        loadBlockedUsers(); // Reload blocked users\r\n      } else {\r\n        const data = await response.json();\r\n        alert.error(data.error || 'Не удалось разблокировать пользователя', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error unblocking user:', error);\r\n      alert.error('Ошибка при разблокировке пользователя', 'Ошибка');\r\n    } finally {\r\n      setUnblockingUserId(null);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (hasAdminRole) {\r\n      loadChats();\r\n      loadBlockedUsers();\r\n      // Автообновление убрано - список обновляется через уведомления и при закрытии модалки\r\n    }\r\n  }, [hasAdminRole, loadChats, loadBlockedUsers]);\r\n\r\n  // Redirect if not authenticated\r\n  useEffect(() => {\r\n    if (status === 'unauthenticated') {\r\n      router.push('/account?section=login');\r\n    }\r\n  }, [status, router]);\r\n\r\n  // Reset page when filter changes\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n  }, [filterStatus]);\r\n\r\n  // Show loading skeleton while checking role\r\n  if (status === 'loading' || hasAdminRole === null || isCheckingRole) {\r\n    return <AdminAccessSkeleton />;\r\n  }\r\n\r\n  // Redirect to home if no admin access\r\n  if (!hasAdminRole) {\r\n    router.push('/');\r\n    return <AdminAccessSkeleton />;\r\n  }\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    switch (status) {\r\n      case 'WAITING':\r\n        return <Badge variant=\"outline\" className=\"border-amber-400 text-amber-700 bg-amber-50\">Ожидает</Badge>;\r\n      case 'ACTIVE':\r\n        return <Badge variant=\"default\" className=\"bg-emerald-500 text-white border-transparent shadow-sm\">Активный</Badge>;\r\n      case 'CLOSED':\r\n        return <Badge variant=\"secondary\" className=\"bg-gray-200 text-gray-700\">Закрыт</Badge>;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const getTimeAgo = (date: string) => {\r\n    const now = new Date();\r\n    const messageDate = new Date(date);\r\n    const diffInMinutes = Math.floor((now.getTime() - messageDate.getTime()) / 60000);\r\n\r\n    if (diffInMinutes < 1) return 'только что';\r\n    if (diffInMinutes < 60) return `${diffInMinutes} мин назад`;\r\n    const diffInHours = Math.floor(diffInMinutes / 60);\r\n    if (diffInHours < 24) return `${diffInHours} ч назад`;\r\n    const diffInDays = Math.floor(diffInHours / 24);\r\n    return `${diffInDays} д назад`;\r\n  };\r\n\r\n  // Фильтрация - исключаем заблокированных из обычных чатов\r\n  let filteredChats = filterStatus === 'ALL'\r\n    ? chats\r\n    : chats.filter(chat => chat.status === filterStatus);\r\n\r\n  const waitingCount = chats.filter(c => c.status === 'WAITING').length;\r\n  const activeCount = chats.filter(c => c.status === 'ACTIVE').length;\r\n  const blockedCount = blockedUsers.length;\r\n\r\n  // Pagination for chats\r\n  const totalChatPages = Math.ceil(filteredChats.length / ITEMS_PER_PAGE);\r\n  const paginatedChats = filteredChats.slice(\r\n    (currentPage - 1) * ITEMS_PER_PAGE,\r\n    currentPage * ITEMS_PER_PAGE\r\n  );\r\n\r\n  // Pagination for blocked users\r\n  const totalBlockedPages = Math.ceil(blockedUsers.length / ITEMS_PER_PAGE);\r\n  const paginatedBlockedUsers = blockedUsers.slice(\r\n    (currentPage - 1) * ITEMS_PER_PAGE,\r\n    currentPage * ITEMS_PER_PAGE\r\n  );\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 py-6 lg:py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-6\">\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-md\">\r\n                <MessagesSquare className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-xl sm:text-2xl font-bold text-gray-900\">Чат с пациентами</h1>\r\n                <p className=\"text-xs sm:text-sm text-gray-600\">Управление обращениями</p>\r\n              </div>\r\n            </div>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => router.push('/admin')}\r\n              className=\"flex items-center gap-2 hover:bg-gray-50 self-start sm:self-auto\"\r\n            >\r\n              <ArrowLeft className=\"w-4 h-4\" />\r\n              <span className=\"hidden sm:inline\">Назад в админ-панель</span>\r\n              <span className=\"sm:hidden\">Назад</span>\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Filters */}\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            <Button\r\n              variant={filterStatus === 'ALL' ? 'default' : 'outline'}\r\n              onClick={() => setFilterStatus('ALL')}\r\n              className={filterStatus === 'ALL' ? 'bg-emerald-500 hover:bg-emerald-600 shadow-sm text-white' : 'hover:bg-gray-50'}\r\n            >\r\n              Все ({chats.length})\r\n            </Button>\r\n            <Button\r\n              variant={filterStatus === 'WAITING' ? 'default' : 'outline'}\r\n              onClick={() => setFilterStatus('WAITING')}\r\n              className={filterStatus === 'WAITING' ? 'bg-emerald-500 hover:bg-emerald-600 shadow-sm text-white' : 'hover:bg-gray-50'}\r\n            >\r\n              Ожидают ({waitingCount})\r\n            </Button>\r\n            <Button\r\n              variant={filterStatus === 'ACTIVE' ? 'default' : 'outline'}\r\n              onClick={() => setFilterStatus('ACTIVE')}\r\n              className={filterStatus === 'ACTIVE' ? 'bg-emerald-500 hover:bg-emerald-600 shadow-sm text-white' : 'hover:bg-gray-50'}\r\n            >\r\n              Активные ({activeCount})\r\n            </Button>\r\n            <Button\r\n              variant={filterStatus === 'CLOSED' ? 'default' : 'outline'}\r\n              onClick={() => setFilterStatus('CLOSED')}\r\n              className={filterStatus === 'CLOSED' ? 'bg-emerald-500 hover:bg-emerald-600 shadow-sm text-white' : 'hover:bg-gray-50'}\r\n            >\r\n              Закрытые\r\n            </Button>\r\n            <Button\r\n              variant={filterStatus === 'BLOCKED' ? 'default' : 'outline'}\r\n              onClick={() => setFilterStatus('BLOCKED')}\r\n              className={filterStatus === 'BLOCKED' ? 'bg-red-500 hover:bg-red-600 shadow-sm text-white' : 'hover:bg-gray-50 text-red-600 border-red-300'}\r\n            >\r\n              Заблокированные ({blockedCount})\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        {loading ? (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {[1, 2, 3, 4, 5, 6].map((i) => (\r\n              <div key={i} className=\"bg-white rounded-lg p-6 border border-gray-200 animate-pulse\">\r\n                <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-4\" />\r\n                <div className=\"h-3 bg-gray-200 rounded w-1/2\" />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : filterStatus === 'BLOCKED' ? (\r\n          // Blocked Users Cards\r\n          blockedUsers.length === 0 ? (\r\n            <div className=\"bg-white rounded-lg p-12 text-center border border-gray-200\">\r\n              <MessageCircle className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                Нет заблокированных пользователей\r\n              </h3>\r\n              <p className=\"text-gray-600\">\r\n                Заблокированные пользователи появятся здесь\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                {paginatedBlockedUsers.map((user) => (\r\n                <div\r\n                  key={user.id}\r\n                  className=\"bg-white rounded-xl p-5 border-2 border-red-300 bg-red-50/20 shadow-sm\"\r\n                >\r\n                  {/* Header */}\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      {user.avatar_url ? (\r\n                        <img\r\n                          src={user.avatar_url}\r\n                          alt={user.name}\r\n                          className=\"w-12 h-12 rounded-full object-cover shadow-sm\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"w-12 h-12 bg-gradient-to-br from-gray-400 to-gray-500 rounded-full flex items-center justify-center shadow-sm\">\r\n                          <User className=\"w-6 h-6 text-white\" />\r\n                        </div>\r\n                      )}\r\n                      <div>\r\n                        <h3 className=\"font-semibold text-gray-900\">{user.name}</h3>\r\n                        <p className=\"text-xs text-gray-500\">{user.email}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Info */}\r\n                  <div className=\"mb-4\">\r\n                    <Badge variant=\"secondary\" className=\"bg-red-100 text-red-700 border-red-300 mb-2\">\r\n                      <Ban className=\"w-3 h-3 mr-1\" />\r\n                      Заблокирован\r\n                    </Badge>\r\n                    {user.phone && (\r\n                      <p className=\"text-sm text-gray-600 mt-2\">{user.phone}</p>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Footer */}\r\n                  <div className=\"flex items-center justify-between pt-4 border-t border-gray-200\">\r\n                    <div className=\"flex items-center gap-1.5 text-xs text-gray-500\">\r\n                      <Clock className=\"w-3.5 h-3.5\" />\r\n                      <span>{new Date(user.registration_date).toLocaleDateString('ru-RU')}</span>\r\n                    </div>\r\n                    <Button\r\n                      onClick={() => handleUnblockUser(user.id)}\r\n                      disabled={unblockingUserId === user.id}\r\n                      className=\"bg-blue-500 hover:bg-blue-600 text-white text-xs px-3 py-1.5 flex items-center gap-1.5\"\r\n                    >\r\n                      {unblockingUserId === user.id ? (\r\n                        <Loader2 className=\"w-3.5 h-3.5 animate-spin\" />\r\n                      ) : (\r\n                        <UserX className=\"w-3.5 h-3.5\" />\r\n                      )}\r\n                      Разблокировать\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Pagination for blocked users */}\r\n            {totalBlockedPages > 1 && (\r\n              <Pagination\r\n                currentPage={currentPage}\r\n                totalPages={totalBlockedPages}\r\n                onPageChange={setCurrentPage}\r\n                className=\"mt-6\"\r\n              />\r\n            )}\r\n          </>\r\n          )\r\n        ) : (\r\n          // Chat Cards\r\n          filteredChats.length === 0 ? (\r\n            <div className=\"bg-white rounded-lg p-12 text-center border border-gray-200\">\r\n              <MessageCircle className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                {filterStatus === 'ALL' && 'Нет чатов'}\r\n                {filterStatus === 'WAITING' && 'Нет ожидающих чатов'}\r\n                {filterStatus === 'ACTIVE' && 'Нет активных чатов'}\r\n                {filterStatus === 'CLOSED' && 'Нет закрытых чатов'}\r\n              </h3>\r\n              <p className=\"text-gray-600\">\r\n                {filterStatus === 'WAITING' && 'Когда пациенты напишут, их чаты появятся здесь'}\r\n                {filterStatus === 'ACTIVE' && 'Нет активных чатов в данный момент'}\r\n                {filterStatus === 'CLOSED' && 'Нет закрытых чатов'}\r\n                {filterStatus === 'ALL' && 'Чаты появятся когда пациенты начнут писать'}\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                {paginatedChats.map((chat) => (\r\n                <div\r\n                  key={chat.id}\r\n                  className={`bg-white rounded-xl p-5 border-2 transition-all cursor-pointer ${\r\n                    chat.has_unread_operator\r\n                      ? 'border-emerald-400 bg-emerald-50/30 shadow-sm hover:shadow-md'\r\n                      : 'border-gray-200 hover:border-emerald-300 hover:shadow-md'\r\n                  }`}\r\n                  onClick={() => setSelectedChatId(chat.id)}\r\n                >\r\n                  {/* Header */}\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      {chat.patient.avatar_url ? (\r\n                        <img\r\n                          src={chat.patient.avatar_url}\r\n                          alt={chat.patient.name}\r\n                          className=\"w-12 h-12 rounded-full object-cover shadow-sm\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"w-12 h-12 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-full flex items-center justify-center shadow-sm\">\r\n                          <User className=\"w-6 h-6 text-white\" />\r\n                        </div>\r\n                      )}\r\n                      <div>\r\n                        <h3 className=\"font-semibold text-gray-900\">{chat.patient.name}</h3>\r\n                        <p className=\"text-xs text-gray-500\">{chat.patient.email}</p>\r\n                      </div>\r\n                    </div>\r\n                    {chat.has_unread_operator && (\r\n                      <div className=\"w-2.5 h-2.5 bg-red-500 rounded-full animate-pulse\" />\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Status */}\r\n                  <div className=\"flex items-center gap-2 mb-3 flex-wrap\">\r\n                    {getStatusBadge(chat.status)}\r\n                    {chat.operator && (\r\n                      <span className=\"text-xs text-gray-500\">\r\n                        Оператор: {chat.operator.name}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Last Message */}\r\n                  {chat.messages.length > 0 && (\r\n                    <div className=\"mb-3\">\r\n                      <p className=\"text-sm text-gray-700 line-clamp-2\">\r\n                        {chat.messages[0].content}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Footer */}\r\n                  <div className=\"flex items-center justify-between text-xs text-gray-500 pt-3 border-t border-gray-100\">\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                      <Clock className=\"w-3.5 h-3.5\" />\r\n                      <span>{chat.last_message_at ? getTimeAgo(chat.last_message_at) : 'Нет сообщений'}</span>\r\n                    </div>\r\n                    {chat.has_unread_operator ? (\r\n                      <span className=\"text-emerald-600 font-semibold\">Новое</span>\r\n                    ) : (\r\n                      <CheckCheck className=\"w-4 h-4 text-gray-400\" />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Pagination for chats */}\r\n            {totalChatPages > 1 && (\r\n              <Pagination\r\n                currentPage={currentPage}\r\n                totalPages={totalChatPages}\r\n                onPageChange={setCurrentPage}\r\n                className=\"mt-6\"\r\n              />\r\n            )}\r\n          </>\r\n          )\r\n        )}\r\n      </div>\r\n\r\n      {/* Chat Modal */}\r\n      {selectedChatId && (\r\n        <ChatModal\r\n          chatId={selectedChatId}\r\n          onClose={() => {\r\n            setSelectedChatId(null);\r\n            loadChats(); // Перезагружаем список чатов после закрытия\r\n            loadBlockedUsers(); // Перезагружаем заблокированных пользователей\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}