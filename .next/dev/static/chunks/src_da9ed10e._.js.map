{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/common/SMTabs/tabs.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\r\n\r\nimport { cn } from \"../SMUtils/SMUtils\";\r\n\r\nfunction Tabs({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\r\n  return (\r\n    <TabsPrimitive.Root\r\n      data-slot=\"tabs\"\r\n      className={cn(\"flex flex-col gap-2\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction TabsList({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\r\n  return (\r\n    <TabsPrimitive.List\r\n      data-slot=\"tabs-list\"\r\n      className={cn(\r\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction TabsTrigger({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\r\n  return (\r\n    <TabsPrimitive.Trigger\r\n      data-slot=\"tabs-trigger\"\r\n      className={cn(\r\n        \"data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction TabsContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\r\n  return (\r\n    <TabsPrimitive.Content\r\n      data-slot=\"tabs-content\"\r\n      className={cn(\"flex-1 outline-none\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\r\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,4GACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,+nBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/common/SMCard/card.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"../SMUtils/SMUtils\";\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <h4\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <p\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn(\"px-6 [&:last-child]:pb-6\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6 pb-6 [.border-t]:pt-6\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,sEACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,mKACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,gBAAgB;QAC7B,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/SMAccount/SMAccountPage.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport {\r\n  User,\r\n  Calendar,\r\n  FileText,\r\n  Settings,\r\n  LogOut,\r\n  Phone,\r\n  Mail,\r\n  MapPin,\r\n  Clock,\r\n  CheckCircle,\r\n  XCircle,\r\n} from \"lucide-react\";\r\nimport { Button } from \"../common/SMButton/SMButton\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"../common/SMTabs/tabs\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"../common/SMCard/card\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"../common/SMDialog/SMDialog\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSession, signOut } from \"next-auth/react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface UserData {\r\n  id: number;\r\n  login: string;\r\n  email: string;\r\n  name: string;\r\n  phone: string;\r\n  registration_date: string;\r\n}\r\n\r\nexport function SMAccountPage() {\r\n  const { data: session, status } = useSession();\r\n  const router = useRouter();\r\n  const [user, setUser] = useState<UserData | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [showLogoutDialog, setShowLogoutDialog] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (status === \"unauthenticated\") {\r\n      router.push(\"/\");\r\n      return;\r\n    }\r\n\r\n    if (status === \"authenticated\" && session) {\r\n      fetchUserData();\r\n    }\r\n  }, [status, session, router]);\r\n\r\n  const fetchUserData = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/auth/me\");\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setUser(data.user);\r\n      } else {\r\n        console.error(\"Failed to fetch user data\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching user data:\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString(\"ru-RU\", {\r\n      day: \"2-digit\",\r\n      month: \"2-digit\",\r\n      year: \"numeric\",\r\n    });\r\n  };\r\n\r\n  const handleLogoutClick = () => {\r\n    setShowLogoutDialog(true);\r\n  };\r\n\r\n  const handleLogoutConfirm = async () => {\r\n    setShowLogoutDialog(false);\r\n    await signOut({ \r\n      callbackUrl: \"/\",\r\n      redirect: true \r\n    });\r\n  };\r\n\r\n  const appointments = [\r\n    {\r\n      id: 1,\r\n      doctor: \"Петрова Анна Сергеевна\",\r\n      specialty: \"Терапевт\",\r\n      date: \"2025-11-05\",\r\n      time: \"10:00\",\r\n      status: \"confirmed\",\r\n    },\r\n    {\r\n      id: 2,\r\n      doctor: \"Сидоров Петр Иванович\",\r\n      specialty: \"Кардиолог\",\r\n      date: \"2025-10-25\",\r\n      time: \"14:30\",\r\n      status: \"completed\",\r\n    },\r\n  ];\r\n\r\n  const documents = [\r\n    {\r\n      id: 1,\r\n      name: \"Результаты анализа крови\",\r\n      date: \"2025-10-20\",\r\n      type: \"Анализ\",\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Заключение терапевта\",\r\n      date: \"2025-10-15\",\r\n      type: \"Заключение\",\r\n    },\r\n  ];\r\n\r\n  if (isLoading || !user) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8 lg:py-12 max-w-7xl\">\r\n        <div className=\"flex items-center justify-center min-h-[400px]\">\r\n          <div className=\"text-center\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#18A36C] mx-auto mb-4\"></div>\r\n            <p className=\"text-gray-600\">Загрузка данных...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8 lg:py-12 max-w-7xl\">\r\n      <motion.div\r\n        className=\"bg-[#18A36C] rounded-lg p-8 lg:p-12 mb-10 lg:mb-12 text-center\"\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.6 }}\r\n      >\r\n        <div className=\"w-20 h-20 bg-white/20 rounded-lg flex items-center justify-center mx-auto mb-6\">\r\n          <User className=\"w-10 h-10 text-white\" />\r\n        </div>\r\n        <h1 className=\"text-3xl lg:text-4xl text-white mb-4\">Личный кабинет</h1>\r\n        <p className=\"text-white/90 leading-relaxed text-base lg:text-lg max-w-3xl mx-auto\">\r\n          Управляйте своими записями, просматривайте документы и историю посещений\r\n        </p>\r\n      </motion.div>\r\n\r\n      <Tabs defaultValue=\"profile\" className=\"space-y-8\">\r\n        <TabsList className=\"grid w-full grid-cols-2 lg:grid-cols-4 h-auto p-2 bg-white rounded-lg gap-2\">\r\n          <TabsTrigger\r\n            value=\"profile\"\r\n            className=\"data-[state=active]:bg-[#18A36C] data-[state=active]:text-white data-[state=active]:border-[#18A36C] data-[state=inactive]:text-[#2E2E2E] data-[state=inactive]:hover:text-[#18A36C] data-[state=inactive]:hover:bg-[#18A36C]/5 data-[state=inactive]:hover:border-[#18A36C] data-[state=inactive]:border-2 data-[state=inactive]:border-gray-300 transition-all duration-300 rounded-lg py-3 px-4\"\r\n          >\r\n            Профиль\r\n            <User className=\"w-5 h-5 ml-[2.5px]\" />\r\n          </TabsTrigger>\r\n          <TabsTrigger\r\n            value=\"appointments\"\r\n            className=\"data-[state=active]:bg-[#18A36C] data-[state=active]:text-white data-[state=active]:border-[#18A36C] data-[state=inactive]:text-[#2E2E2E] data-[state=inactive]:hover:text-[#18A36C] data-[state=inactive]:hover:bg-[#18A36C]/5 data-[state=inactive]:hover:border-[#18A36C] data-[state=inactive]:border-2 data-[state=inactive]:border-gray-300 transition-all duration-300 rounded-lg py-3 px-4\"\r\n          >\r\n            Записи\r\n            <Calendar className=\"w-5 h-5 ml-[2.5px]\" />\r\n          </TabsTrigger>\r\n          <TabsTrigger\r\n            value=\"documents\"\r\n            className=\"data-[state=active]:bg-[#18A36C] data-[state=active]:text-white data-[state=active]:border-[#18A36C] data-[state=inactive]:text-[#2E2E2E] data-[state=inactive]:hover:text-[#18A36C] data-[state=inactive]:hover:bg-[#18A36C]/5 data-[state=inactive]:hover:border-[#18A36C] data-[state=inactive]:border-2 data-[state=inactive]:border-gray-300 transition-all duration-300 rounded-lg py-3 px-4\"\r\n          >\r\n            Документы\r\n            <FileText className=\"w-5 h-5 ml-[2.5px]\" />\r\n          </TabsTrigger>\r\n          <TabsTrigger\r\n            value=\"settings\"\r\n            className=\"data-[state=active]:bg-[#18A36C] data-[state=active]:text-white data-[state=active]:border-[#18A36C] data-[state=inactive]:text-[#2E2E2E] data-[state=inactive]:hover:text-[#18A36C] data-[state=inactive]:hover:bg-[#18A36C]/5 data-[state=inactive]:hover:border-[#18A36C] data-[state=inactive]:border-2 data-[state=inactive]:border-gray-300 transition-all duration-300 rounded-lg py-3 px-4\"\r\n          >\r\n            Настройки\r\n            <Settings className=\"w-5 h-5 ml-[2.5px]\" />\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"profile\" className=\"space-y-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6 }}\r\n          >\r\n            <Card className=\"border border-gray-200 rounded-lg\">\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-3 text-[#2E2E2E] text-2xl\">\r\n                  <User className=\"w-6 h-6 text-[#18A36C]\" />\r\n                  Личная информация\r\n                </CardTitle>\r\n                <CardDescription className=\"text-gray-600 text-base\">\r\n                  Ваши персональные данные\r\n                </CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-6\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center gap-2 text-gray-600\">\r\n                      <User className=\"w-4 h-4 text-[#18A36C]\" />\r\n                      <span className=\"text-sm\">ФИО</span>\r\n                    </div>\r\n                    <p className=\"text-[#2E2E2E] text-lg\">{user.name || \"Не указано\"}</p>\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center gap-2 text-gray-600\">\r\n                      <Calendar className=\"w-4 h-4 text-[#18A36C]\" />\r\n                      <span className=\"text-sm\">Дата регистрации</span>\r\n                    </div>\r\n                    <p className=\"text-[#2E2E2E] text-lg\">\r\n                      {user.registration_date ? formatDate(user.registration_date) : \"Не указано\"}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center gap-2 text-gray-600\">\r\n                      <Phone className=\"w-4 h-4 text-[#18A36C]\" />\r\n                      <span className=\"text-sm\">Телефон</span>\r\n                    </div>\r\n                    <p className=\"text-[#2E2E2E] text-lg\">{user.phone || \"Не указано\"}</p>\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center gap-2 text-gray-600\">\r\n                      <Mail className=\"w-4 h-4 text-[#18A36C]\" />\r\n                      <span className=\"text-sm\">Email</span>\r\n                    </div>\r\n                    <p className=\"text-[#2E2E2E] text-lg\">{user.email || \"Не указано\"}</p>\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center gap-2 text-gray-600\">\r\n                      <User className=\"w-4 h-4 text-[#18A36C]\" />\r\n                      <span className=\"text-sm\">Логин</span>\r\n                    </div>\r\n                    <p className=\"text-[#2E2E2E] text-lg\">{user.login || \"Не указано\"}</p>\r\n                  </div>\r\n                </div>\r\n                <Button className=\"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white cursor-pointer\">\r\n                  Редактировать профиль\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          </motion.div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"appointments\" className=\"space-y-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6 }}\r\n            className=\"space-y-6\"\r\n          >\r\n            {appointments.map((appointment) => (\r\n              <Card key={appointment.id} className=\"border border-gray-200 rounded-lg\">\r\n                <CardContent className=\"pt-6\">\r\n                  <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\r\n                    <div className=\"space-y-3\">\r\n                      <h3 className=\"text-xl text-[#2E2E2E] font-medium\">\r\n                        {appointment.doctor}\r\n                      </h3>\r\n                      <p className=\"text-gray-600\">{appointment.specialty}</p>\r\n                      <div className=\"flex flex-wrap items-center gap-4 text-sm text-gray-600\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Calendar className=\"w-4 h-4 text-[#18A36C]\" />\r\n                          <span>{appointment.date}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Clock className=\"w-4 h-4 text-[#18A36C]\" />\r\n                          <span>{appointment.time}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-3\">\r\n                      {appointment.status === \"confirmed\" ? (\r\n                        <div className=\"flex items-center gap-2 px-4 py-2 bg-green-50 text-green-700 rounded-lg\">\r\n                          <CheckCircle className=\"w-4 h-4\" />\r\n                          <span>Подтверждено</span>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"flex items-center gap-2 px-4 py-2 bg-gray-50 text-gray-700 rounded-lg\">\r\n                          <CheckCircle className=\"w-4 h-4\" />\r\n                          <span>Завершено</span>\r\n                        </div>\r\n                      )}\r\n                      {appointment.status === \"confirmed\" && (\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          className=\"border-red-500 text-red-500 hover:bg-red-500 hover:text-white cursor-pointer\"\r\n                        >\r\n                          <XCircle className=\"w-4 h-4 mr-2\" />\r\n                          Отменить\r\n                        </Button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n            <Button\r\n              onClick={() => router.push('/contacts')}\r\n              className=\"w-full bg-[#18A36C] hover:bg-[#18A36C]/90 text-white cursor-pointer\"\r\n            >\r\n              Связаться с нами\r\n            </Button>\r\n          </motion.div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"documents\" className=\"space-y-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6 }}\r\n            className=\"space-y-6\"\r\n          >\r\n            {documents.map((document) => (\r\n              <Card key={document.id} className=\"border border-gray-200 rounded-lg\">\r\n                <CardContent className=\"pt-6\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                      <div className=\"w-12 h-12 bg-[#18A36C]/10 rounded-lg flex items-center justify-center\">\r\n                        <FileText className=\"w-6 h-6 text-[#18A36C]\" />\r\n                      </div>\r\n                      <div>\r\n                        <h3 className=\"text-lg text-[#2E2E2E] font-medium\">\r\n                          {document.name}\r\n                        </h3>\r\n                        <p className=\"text-sm text-gray-600\">\r\n                          {document.type} • {document.date}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      className=\"border-[#18A36C] text-[#18A36C] cursor-pointer\"\r\n                    >\r\n                      Скачать\r\n                    </Button>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </motion.div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"settings\" className=\"space-y-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6 }}\r\n          >\r\n            <Card className=\"border border-gray-200 rounded-lg\">\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-3 text-[#2E2E2E] text-2xl\">\r\n                  <Settings className=\"w-6 h-6 text-[#18A36C]\" />\r\n                  Настройки аккаунта\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-6\">\r\n                <div className=\"space-y-4\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"w-full justify-start border-gray-300 text-[#2E2E2E] hover:border-[#18A36C] hover:text-[#18A36C] cursor-pointer\"\r\n                  >\r\n                    Изменить пароль\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"w-full justify-start border-gray-300 text-[#2E2E2E] hover:border-[#18A36C] hover:text-[#18A36C] cursor-pointer\"\r\n                  >\r\n                    Настройки уведомлений\r\n                  </Button>\r\n                  <Button\r\n                    onClick={handleLogoutClick}\r\n                    variant=\"outline\"\r\n                    className=\"w-full justify-start border-red-300 text-red-600 hover:bg-red-50 hover:border-red-500 cursor-pointer\"\r\n                  >\r\n                    <LogOut className=\"w-4 h-4 mr-2\" />\r\n                    Выйти из аккаунта\r\n                  </Button>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </motion.div>\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      <Dialog open={showLogoutDialog} onOpenChange={setShowLogoutDialog}>\r\n        <DialogContent className=\"sm:max-w-md border-0\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-xl text-[#2E2E2E]\">\r\n              Подтверждение выхода\r\n            </DialogTitle>\r\n            <DialogDescription className=\"text-gray-600 pt-2\">\r\n              Вы уверены, что хотите выйти из аккаунта?\r\n              <br />\r\n              Вам потребуется войти снова для доступа к личному кабинету.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <DialogFooter className=\"flex flex-col sm:flex-row gap-3 sm:gap-2 pt-4\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setShowLogoutDialog(false)}\r\n              className=\"w-full sm:w-auto border-gray-300 text-[#2E2E2E] hover:bg-gray-50\"\r\n            >\r\n              Отмена\r\n            </Button>\r\n            <Button\r\n              onClick={handleLogoutConfirm}\r\n              className=\"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white\"\r\n            >\r\n              <LogOut className=\"w-4 h-4 mr-2\" />\r\n              Выйти\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1346, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/common/SMCard/SMCard.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"../SMUtils/SMUtils\";\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <h4\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <p\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn(\"px-6 [&:last-child]:pb-6\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6 pb-6 [.border-t]:pt-6\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,sEACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,mKACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,gBAAgB;QAC7B,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 1466, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/common/SMSelect/SMSelect.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\r\nimport {\r\n  CheckIcon,\r\n  ChevronDownIcon,\r\n  ChevronUpIcon,\r\n} from \"lucide-react\";\r\n\r\nimport { cn } from \"../SMUtils/SMUtils\";\r\n\r\nfunction Select({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\r\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />;\r\n}\r\n\r\nfunction SelectGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\r\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />;\r\n}\r\n\r\nfunction SelectValue({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\r\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />;\r\n}\r\n\r\nfunction SelectTrigger({\r\n  className,\r\n  size = \"default\",\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\r\n  size?: \"sm\" | \"default\";\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Trigger\r\n      data-slot=\"select-trigger\"\r\n      data-size={size}\r\n      className={cn(\r\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <SelectPrimitive.Icon asChild>\r\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\r\n      </SelectPrimitive.Icon>\r\n    </SelectPrimitive.Trigger>\r\n  );\r\n}\r\n\r\nfunction SelectContent({\r\n  className,\r\n  children,\r\n  position = \"popper\",\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\r\n  return (\r\n    <SelectPrimitive.Portal>\r\n      <SelectPrimitive.Content\r\n        data-slot=\"select-content\"\r\n        className={cn(\r\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\r\n          position === \"popper\" &&\r\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\r\n          className,\r\n        )}\r\n        position={position}\r\n        {...props}\r\n      >\r\n        <SelectScrollUpButton />\r\n        <SelectPrimitive.Viewport\r\n          className={cn(\r\n            \"p-1\",\r\n            position === \"popper\" &&\r\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\",\r\n          )}\r\n        >\r\n          {children}\r\n        </SelectPrimitive.Viewport>\r\n        <SelectScrollDownButton />\r\n      </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n  );\r\n}\r\n\r\nfunction SelectLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\r\n  return (\r\n    <SelectPrimitive.Label\r\n      data-slot=\"select-label\"\r\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SelectItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\r\n  return (\r\n    <SelectPrimitive.Item\r\n      data-slot=\"select-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\r\n        <SelectPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </SelectPrimitive.ItemIndicator>\r\n      </span>\r\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n    </SelectPrimitive.Item>\r\n  );\r\n}\r\n\r\nfunction SelectSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\r\n  return (\r\n    <SelectPrimitive.Separator\r\n      data-slot=\"select-separator\"\r\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SelectScrollUpButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollUpButton\r\n      data-slot=\"select-scroll-up-button\"\r\n      className={cn(\r\n        \"flex cursor-default items-center justify-center py-1\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronUpIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollUpButton>\r\n  );\r\n}\r\n\r\nfunction SelectScrollDownButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollDownButton\r\n      data-slot=\"select-scroll-down-button\"\r\n      className={cn(\r\n        \"flex cursor-default items-center justify-center py-1\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronDownIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollDownButton>\r\n  );\r\n}\r\n\r\nexport {\r\n  Select,\r\n  SelectContent,\r\n  SelectGroup,\r\n  SelectItem,\r\n  SelectLabel,\r\n  SelectScrollDownButton,\r\n  SelectScrollUpButton,\r\n  SelectSeparator,\r\n  SelectTrigger,\r\n  SelectValue,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAMA;AAVA;;;;;AAYA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,2JAAE,EACX,4yBACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,8OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,aAAU;YACV,WAAW,IAAA,2JAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,2JAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;AAIT;MAjCS;AAmCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,wNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAtBS;AAwBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,6LAAC,kLAAyB;QACxB,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,6LAAC,uLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,wOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,6LAAC,yLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,8OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS","debugId":null}},
    {"offset": {"line": 1723, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/common/SMTextarea/SMTextarea.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"../SMUtils/SMUtils\";\r\n\r\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\r\n  return (\r\n    <textarea\r\n      data-slot=\"textarea\"\r\n      className={cn(\r\n        \"resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Textarea };\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EACX,8cACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS","debugId":null}},
    {"offset": {"line": 1753, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/common/SMBadge/SMBadge.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"../SMUtils/SMUtils\";\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"span\"> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : \"span\";\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Badge, badgeVariants };\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,2JAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS","debugId":null}},
    {"offset": {"line": 1805, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/data/SMAccountData/SMAccountData.ts"],"sourcesContent":["interface AccountData {\r\n    subscriptions: {\r\n      id: string;\r\n      title: string;\r\n      description: string;\r\n      settings: {\r\n        email: string;\r\n        categories: string[];\r\n        format: 'text' | 'html';\r\n        agreed: boolean;\r\n      };\r\n    };\r\n    materials: {\r\n      id: string;\r\n      title: string;\r\n      description: string;\r\n      items: {\r\n        id: string;\r\n        title: string;\r\n        content: string;\r\n        image: string;\r\n        date: string;\r\n        year: number;\r\n      }[];\r\n    };\r\n    contact: {\r\n      id: string;\r\n      title: string;\r\n      description: string;\r\n      form: {\r\n        name: string;\r\n        subject: string;\r\n        message: string;\r\n      };\r\n    };\r\n  }\r\n  \r\n  export const accountData: AccountData = {\r\n    subscriptions: {\r\n      id: 'subscriptions',\r\n      title: 'Подписки',\r\n      description: 'Настройте ваши подписки на новости и уведомления',\r\n      settings: {\r\n        email: '',\r\n        categories: [],\r\n        format: 'html',\r\n        agreed: false\r\n      }\r\n    },\r\n    materials: {\r\n      id: 'materials',\r\n      title: 'Материалы',\r\n      description: 'Специальные предложения и материалы для подписчиков',\r\n      items: [\r\n        {\r\n          id: 'offer-2025-1',\r\n          title: 'Новогодние скидки на стоматологические услуги',\r\n          content: 'Специальное предложение на все виды стоматологических услуг в январе',\r\n          image: 'https://images.unsplash.com/photo-1606811841689-23dfddce3e95?w=400&h=300&fit=crop',\r\n          date: '15 января 2025',\r\n          year: 2025\r\n        },\r\n        {\r\n          id: 'offer-2025-2',\r\n          title: 'Комплексная диагностика со скидкой 30%',\r\n          content: 'Полное обследование организма по специальной цене',\r\n          image: 'https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?w=400&h=300&fit=crop',\r\n          date: '10 января 2025',\r\n          year: 2025\r\n        },\r\n        {\r\n          id: 'offer-2024-1',\r\n          title: 'Акция на вакцинацию',\r\n          content: 'Скидки на все виды вакцинации для взрослых и детей',\r\n          image: 'https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=300&fit=crop',\r\n          date: '20 декабря 2024',\r\n          year: 2024\r\n        },\r\n        {\r\n          id: 'offer-2024-2',\r\n          title: 'Профилактические осмотры',\r\n          content: 'Бесплатные консультации специалистов в рамках профилактики',\r\n          image: 'https://images.unsplash.com/photo-1551076805-e1869033e561?w=400&h=300&fit=crop',\r\n          date: '15 ноября 2024',\r\n          year: 2024\r\n        },\r\n        {\r\n          id: 'offer-2023-1',\r\n          title: 'Летние скидки на косметологию',\r\n          content: 'Специальные цены на косметологические процедуры',\r\n          image: 'https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?w=400&h=300&fit=crop',\r\n          date: '1 июля 2023',\r\n          year: 2023\r\n        }\r\n      ]\r\n    },\r\n    contact: {\r\n      id: 'contact',\r\n      title: 'Написать глав.врачу',\r\n      description: 'Если у вас возникли вопросы по поводу работы наших сотрудников или компании в целом, а также если вы хотите сказать слова благодарности, напишите сообщение и оно придет директору лично',\r\n      form: {\r\n        name: '',\r\n        subject: '',\r\n        message: ''\r\n      }\r\n    }\r\n  };\r\n  \r\n  export const subscriptionCategories = [\r\n    'Новости клиники',\r\n    'Специальные предложения',\r\n    'Медицинские статьи',\r\n    'Профилактика и здоровье',\r\n    'Детское здоровье',\r\n    'Стоматология',\r\n    'Косметология'\r\n  ];\r\n\r\n  interface User {\r\n    id: string;\r\n    email: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    middleName: string;\r\n    phone: string;\r\n    login: string;\r\n    isAuthenticated: boolean;\r\n    get name(): string;\r\n  }\r\n  \r\n  export const mockUser: User = {\r\n    id: '1',\r\n    email: 'user@example.com',\r\n    firstName: 'Иван',\r\n    lastName: 'Петров',\r\n    middleName: 'Сергеевич',\r\n    phone: '+375291234567',\r\n    login: 'ivanpetrov',\r\n    isAuthenticated: false,\r\n    get name() {\r\n      return `${this.firstName} ${this.lastName}`;\r\n    }\r\n  };"],"names":[],"mappings":";;;;;;;;AAqCS,MAAM,cAA2B;IACtC,eAAe;QACb,IAAI;QACJ,OAAO;QACP,aAAa;QACb,UAAU;YACR,OAAO;YACP,YAAY,EAAE;YACd,QAAQ;YACR,QAAQ;QACV;IACF;IACA,WAAW;QACT,IAAI;QACJ,OAAO;QACP,aAAa;QACb,OAAO;YACL;gBACE,IAAI;gBACJ,OAAO;gBACP,SAAS;gBACT,OAAO;gBACP,MAAM;gBACN,MAAM;YACR;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,SAAS;gBACT,OAAO;gBACP,MAAM;gBACN,MAAM;YACR;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,SAAS;gBACT,OAAO;gBACP,MAAM;gBACN,MAAM;YACR;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,SAAS;gBACT,OAAO;gBACP,MAAM;gBACN,MAAM;YACR;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,SAAS;gBACT,OAAO;gBACP,MAAM;gBACN,MAAM;YACR;SACD;IACH;IACA,SAAS;QACP,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;YACJ,MAAM;YACN,SAAS;YACT,SAAS;QACX;IACF;AACF;AAEO,MAAM,yBAAyB;IACpC;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAcM,MAAM,WAAiB;IAC5B,IAAI;IACJ,OAAO;IACP,WAAW;IACX,UAAU;IACV,YAAY;IACZ,OAAO;IACP,OAAO;IACP,iBAAiB;IACjB,IAAI,QAAO;QACT,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,EAAE;IAC7C;AACF","debugId":null}},
    {"offset": {"line": 1912, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/SMImage/ImageWithFallback.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React, { useState } from 'react'\r\n\r\nconst ERROR_IMG_SRC =\r\n  'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg=='\r\n\r\nexport function ImageWithFallback(props: React.ImgHTMLAttributes<HTMLImageElement>) {\r\n  const [didError, setDidError] = useState(false)\r\n\r\n  const handleError = () => {\r\n    setDidError(true)\r\n  }\r\n\r\n  const { src, alt, style, className, ...rest } = props\r\n\r\n  // Показываем fallback если src пустой или произошла ошибка\r\n  const showFallback = didError || !src\r\n\r\n  return showFallback ? (\r\n    <div\r\n      className={`inline-block bg-gray-100 text-center align-middle ${className ?? ''}`}\r\n      style={style}\r\n    >\r\n      <div className=\"flex items-center justify-center w-full h-full\">\r\n        <img src={ERROR_IMG_SRC} alt={alt || \"Нет фото\"} {...rest} data-original-url={src} />\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <img src={src} alt={alt} className={className} style={style} {...rest} onError={handleError} />\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIA,MAAM,gBACJ;AAEK,SAAS,kBAAkB,KAAgD;;IAChF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,MAAM,cAAc;QAClB,YAAY;IACd;IAEA,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,MAAM,GAAG;IAEhD,2DAA2D;IAC3D,MAAM,eAAe,YAAY,CAAC;IAElC,OAAO,6BACL,6LAAC;QACC,WAAW,CAAC,kDAAkD,EAAE,aAAa,IAAI;QACjF,OAAO;kBAEP,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,KAAK;gBAAe,KAAK,OAAO;gBAAa,GAAG,IAAI;gBAAE,qBAAmB;;;;;;;;;;;;;;;6BAIlF,6LAAC;QAAI,KAAK;QAAK,KAAK;QAAK,WAAW;QAAW,OAAO;QAAQ,GAAG,IAAI;QAAE,SAAS;;;;;;AAEpF;GAxBgB;KAAA","debugId":null}},
    {"offset": {"line": 1980, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/SMAccount/SMChangePasswordModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogDescription,\r\n} from '../common/SMDialog/SMDialog';\r\nimport { Button } from '../common/SMButton/SMButton';\r\nimport { Input } from '../common/SMInput/SMInput';\r\nimport { Label } from '../common/SMLabel/SMLabel';\r\nimport { Eye, EyeOff, Lock, Shield, CheckCircle2 } from 'lucide-react';\r\nimport { useAlert } from '../common/SMAlert/AlertProvider';\r\n\r\ninterface ChangePasswordModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport function ChangePasswordModal({ isOpen, onClose }: ChangePasswordModalProps) {\r\n  const [oldPassword, setOldPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [showOldPassword, setShowOldPassword] = useState(false);\r\n  const [showNewPassword, setShowNewPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const alert = useAlert();\r\n\r\n  const resetForm = () => {\r\n    setOldPassword('');\r\n    setNewPassword('');\r\n    setConfirmPassword('');\r\n    setShowOldPassword(false);\r\n    setShowNewPassword(false);\r\n    setShowConfirmPassword(false);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    resetForm();\r\n    onClose();\r\n  };\r\n\r\n  const validateForm = (): boolean => {\r\n    if (!oldPassword.trim()) {\r\n      alert.error('Введите текущий пароль', 'Ошибка валидации');\r\n      return false;\r\n    }\r\n\r\n    if (!newPassword.trim()) {\r\n      alert.error('Введите новый пароль', 'Ошибка валидации');\r\n      return false;\r\n    }\r\n\r\n    if (newPassword.length < 6) {\r\n      alert.error('Новый пароль должен содержать минимум 6 символов', 'Слишком короткий пароль');\r\n      return false;\r\n    }\r\n\r\n    if (newPassword !== confirmPassword) {\r\n      alert.error('Пароли не совпадают', 'Ошибка валидации');\r\n      return false;\r\n    }\r\n\r\n    if (oldPassword === newPassword) {\r\n      alert.warning('Новый пароль должен отличаться от текущего', 'Одинаковые пароли');\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!validateForm()) return;\r\n\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await fetch('/api/auth/change-password', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          oldPassword,\r\n          newPassword,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        alert.error(data.error || 'Ошибка при смене пароля', 'Ошибка');\r\n        return;\r\n      }\r\n\r\n      alert.success('Пароль успешно изменен!', 'Успешно');\r\n      handleClose();\r\n    } catch (error) {\r\n      alert.error('Ошибка при смене пароля. Попробуйте позже.', 'Ошибка');\r\n      console.error('Change password error:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const passwordStrength = (password: string): { strength: number; text: string; color: string } => {\r\n    if (!password) return { strength: 0, text: '', color: '' };\r\n\r\n    let strength = 0;\r\n    if (password.length >= 6) strength++;\r\n    if (password.length >= 8) strength++;\r\n    if (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength++;\r\n    if (/\\d/.test(password)) strength++;\r\n    if (/[^a-zA-Z\\d]/.test(password)) strength++;\r\n\r\n    if (strength <= 1) return { strength: 20, text: 'Слабый', color: 'bg-red-500' };\r\n    if (strength <= 2) return { strength: 40, text: 'Средний', color: 'bg-orange-500' };\r\n    if (strength <= 3) return { strength: 60, text: 'Хороший', color: 'bg-yellow-500' };\r\n    if (strength <= 4) return { strength: 80, text: 'Сильный', color: 'bg-green-500' };\r\n    return { strength: 100, text: 'Очень сильный', color: 'bg-emerald-500' };\r\n  };\r\n\r\n  const strength = passwordStrength(newPassword);\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={handleClose}>\r\n      <DialogContent className=\"sm:max-w-md border-gray-200 bg-white\">\r\n        <DialogHeader>\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.4 }}\r\n          >\r\n            <div className=\"flex items-center justify-center mb-4\">\r\n              <motion.div\r\n                initial={{ scale: 0 }}\r\n                animate={{ scale: 1 }}\r\n                transition={{\r\n                  delay: 0.2,\r\n                  type: 'spring',\r\n                  stiffness: 200,\r\n                }}\r\n                className=\"inline-flex items-center justify-center w-16 h-16 rounded-lg bg-[#18A36C]/10\"\r\n              >\r\n                <Shield className=\"w-8 h-8 text-[#18A36C]\" />\r\n              </motion.div>\r\n            </div>\r\n            <DialogTitle className=\"text-center text-[#2E2E2E] text-2xl\">\r\n              Смена пароля\r\n            </DialogTitle>\r\n            <DialogDescription className=\"text-center text-gray-600 mt-2\">\r\n              Введите текущий пароль и новый пароль для подтверждения\r\n            </DialogDescription>\r\n          </motion.div>\r\n        </DialogHeader>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.3, delay: 0.1 }}\r\n          className=\"space-y-5 mt-6\"\r\n        >\r\n          {/* Old Password */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"oldPassword\" className=\"text-[#2E2E2E]\">\r\n              Текущий пароль\r\n            </Label>\r\n            <div className=\"relative group\">\r\n              <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#18A36C] transition-colors\" />\r\n              <Input\r\n                id=\"oldPassword\"\r\n                type={showOldPassword ? 'text' : 'password'}\r\n                placeholder=\"Введите текущий пароль\"\r\n                value={oldPassword}\r\n                onChange={(e) => setOldPassword(e.target.value)}\r\n                className=\"pl-12 pr-12 h-12 border-gray-300 focus:border-[#18A36C] transition-all duration-200 rounded-lg\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowOldPassword(!showOldPassword)}\r\n                className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#18A36C] transition-colors\"\r\n              >\r\n                {showOldPassword ? (\r\n                  <EyeOff className=\"w-5 h-5\" />\r\n                ) : (\r\n                  <Eye className=\"w-5 h-5\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* New Password */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"newPassword\" className=\"text-[#2E2E2E]\">\r\n              Новый пароль\r\n            </Label>\r\n            <div className=\"relative group\">\r\n              <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#18A36C] transition-colors\" />\r\n              <Input\r\n                id=\"newPassword\"\r\n                type={showNewPassword ? 'text' : 'password'}\r\n                placeholder=\"Введите новый пароль\"\r\n                value={newPassword}\r\n                onChange={(e) => setNewPassword(e.target.value)}\r\n                className=\"pl-12 pr-12 h-12 border-gray-300 focus:border-[#18A36C] transition-all duration-200 rounded-lg\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowNewPassword(!showNewPassword)}\r\n                className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#18A36C] transition-colors\"\r\n              >\r\n                {showNewPassword ? (\r\n                  <EyeOff className=\"w-5 h-5\" />\r\n                ) : (\r\n                  <Eye className=\"w-5 h-5\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n\r\n            {/* Password Strength Indicator */}\r\n            {newPassword && (\r\n              <motion.div\r\n                initial={{ opacity: 0, height: 0 }}\r\n                animate={{ opacity: 1, height: 'auto' }}\r\n                className=\"space-y-2\"\r\n              >\r\n                <div className=\"flex items-center justify-between text-xs\">\r\n                  <span className=\"text-gray-600\">Надежность пароля</span>\r\n                  <span className={`font-medium ${strength.color.replace('bg-', 'text-')}`}>\r\n                    {strength.text}\r\n                  </span>\r\n                </div>\r\n                <div className=\"h-2 bg-gray-200 rounded-full overflow-hidden\">\r\n                  <motion.div\r\n                    initial={{ width: 0 }}\r\n                    animate={{ width: `${strength.strength}%` }}\r\n                    transition={{ duration: 0.3 }}\r\n                    className={`h-full ${strength.color} rounded-full`}\r\n                  />\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Confirm Password */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"confirmPassword\" className=\"text-[#2E2E2E]\">\r\n              Подтверждение пароля\r\n            </Label>\r\n            <div className=\"relative group\">\r\n              <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#18A36C] transition-colors\" />\r\n              <Input\r\n                id=\"confirmPassword\"\r\n                type={showConfirmPassword ? 'text' : 'password'}\r\n                placeholder=\"Повторите новый пароль\"\r\n                value={confirmPassword}\r\n                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                className=\"pl-12 pr-12 h-12 border-gray-300 focus:border-[#18A36C] transition-all duration-200 rounded-lg\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#18A36C] transition-colors\"\r\n              >\r\n                {showConfirmPassword ? (\r\n                  <EyeOff className=\"w-5 h-5\" />\r\n                ) : (\r\n                  <Eye className=\"w-5 h-5\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n\r\n            {/* Match Indicator */}\r\n            {confirmPassword && (\r\n              <motion.div\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                {newPassword === confirmPassword ? (\r\n                  <>\r\n                    <CheckCircle2 className=\"w-4 h-4 text-green-500\" />\r\n                    <span className=\"text-xs text-green-600\">Пароли совпадают</span>\r\n                  </>\r\n                ) : (\r\n                  <span className=\"text-xs text-red-600\">Пароли не совпадают</span>\r\n                )}\r\n              </motion.div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Buttons */}\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <Button\r\n              onClick={handleClose}\r\n              variant=\"outline\"\r\n              className=\"flex-1 h-12 border-gray-300 text-gray-700 hover:bg-gray-50\"\r\n              disabled={isLoading}\r\n            >\r\n              Отмена\r\n            </Button>\r\n            <Button\r\n              onClick={handleSubmit}\r\n              disabled={isLoading || !oldPassword || !newPassword || !confirmPassword}\r\n              className=\"flex-1 h-12 bg-[#18A36C] hover:bg-[#18A36C]/90 text-white\"\r\n            >\r\n              {isLoading ? 'Изменение...' : 'Изменить пароль'}\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Security Note */}\r\n          <div className=\"text-center text-xs text-gray-600 mt-4 p-3 bg-[#F4F4F4] rounded-lg\">\r\n            <Shield className=\"w-4 h-4 inline mr-1\" />\r\n            Для безопасности используйте пароль длиной минимум 8 символов с буквами и цифрами\r\n          </div>\r\n        </motion.div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2602, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/common/SMSlider/SMSlider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport * as React from 'react';\r\nimport * as SliderPrimitive from '@radix-ui/react-slider';\r\n\r\nimport { cn } from '../SMUtils/SMUtils';\r\n\r\nconst Slider = React.forwardRef<\r\n  React.ElementRef<typeof SliderPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <SliderPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      'relative flex w-full touch-none select-none items-center',\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-200\">\r\n      <SliderPrimitive.Range className=\"absolute h-full bg-[#18A36C]\" />\r\n    </SliderPrimitive.Track>\r\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-[#18A36C] bg-white ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#18A36C] focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-grab active:cursor-grabbing\" />\r\n  </SliderPrimitive.Root>\r\n));\r\nSlider.displayName = SliderPrimitive.Root.displayName;\r\n\r\nexport { Slider };\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,2JAAE,EACX,4DACA;QAED,GAAG,KAAK;;0BAET,6LAAC,8KAAqB;gBAAC,WAAU;0BAC/B,cAAA,6LAAC,8KAAqB;oBAAC,WAAU;;;;;;;;;;;0BAEnC,6LAAC,8KAAqB;gBAAC,WAAU;;;;;;;;;;;;;AAGrC,OAAO,WAAW,GAAG,6KAAoB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2660, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/SMAccount/SMAvatarCropModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useCallback, useEffect } from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '../common/SMDialog/SMDialog';\r\nimport { Button } from '../common/SMButton/SMButton';\r\nimport { Slider } from '../common/SMSlider/SMSlider';\r\nimport { ZoomIn, ZoomOut, RotateCw, Upload } from 'lucide-react';\r\n\r\ninterface AvatarCropModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSave: (croppedImageBlob: Blob) => void;\r\n  imageFile: File | null;\r\n}\r\n\r\nexport function AvatarCropModal({ isOpen, onClose, onSave, imageFile }: AvatarCropModalProps) {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const imageRef = useRef<HTMLImageElement | null>(null);\r\n  const [imageUrl, setImageUrl] = useState<string | null>(null);\r\n  const [scale, setScale] = useState(1);\r\n  const [rotation, setRotation] = useState(0);\r\n  const [position, setPosition] = useState({ x: 0, y: 0 });\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Размер области обрезки\r\n  const cropSize = 200;\r\n  const canvasSize = 300;\r\n\r\n  useEffect(() => {\r\n    if (imageFile) {\r\n      const url = URL.createObjectURL(imageFile);\r\n      setImageUrl(url);\r\n      setScale(1);\r\n      setRotation(0);\r\n      setPosition({ x: 0, y: 0 });\r\n\r\n      // Загружаем изображение\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        imageRef.current = img;\r\n        drawImage();\r\n      };\r\n      img.src = url;\r\n\r\n      return () => URL.revokeObjectURL(url);\r\n    }\r\n  }, [imageFile]);\r\n\r\n  useEffect(() => {\r\n    if (imageRef.current) {\r\n      drawImage();\r\n    }\r\n  }, [scale, rotation, position]);\r\n\r\n  const drawImage = useCallback(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas?.getContext('2d');\r\n    const img = imageRef.current;\r\n\r\n    if (!canvas || !ctx || !img) return;\r\n\r\n    // Очищаем canvas белым фоном\r\n    ctx.fillStyle = '#f3f4f6';\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n    // Сохраняем состояние контекста\r\n    ctx.save();\r\n\r\n    // Создаем круглую маску для отображения\r\n    ctx.beginPath();\r\n    ctx.arc(canvas.width / 2, canvas.height / 2, cropSize / 2, 0, Math.PI * 2);\r\n    ctx.clip();\r\n\r\n    // Перемещаем центр canvas\r\n    ctx.translate(canvas.width / 2 + position.x, canvas.height / 2 + position.y);\r\n\r\n    // Вращаем\r\n    ctx.rotate((rotation * Math.PI) / 180);\r\n\r\n    // Масштабируем\r\n    ctx.scale(scale, scale);\r\n\r\n    // Рисуем изображение по центру\r\n    const aspectRatio = img.width / img.height;\r\n    let drawWidth, drawHeight;\r\n\r\n    if (aspectRatio > 1) {\r\n      drawHeight = cropSize;\r\n      drawWidth = cropSize * aspectRatio;\r\n    } else {\r\n      drawWidth = cropSize;\r\n      drawHeight = cropSize / aspectRatio;\r\n    }\r\n\r\n    ctx.drawImage(img, -drawWidth / 2, -drawHeight / 2, drawWidth, drawHeight);\r\n\r\n    // Восстанавливаем состояние контекста\r\n    ctx.restore();\r\n\r\n    // Рисуем границу круга\r\n    ctx.strokeStyle = '#18A36C';\r\n    ctx.lineWidth = 3;\r\n    ctx.beginPath();\r\n    ctx.arc(canvas.width / 2, canvas.height / 2, cropSize / 2, 0, Math.PI * 2);\r\n    ctx.stroke();\r\n\r\n    // Рисуем внешнюю границу для визуального эффекта\r\n    ctx.strokeStyle = '#e5e7eb';\r\n    ctx.lineWidth = 1;\r\n    ctx.beginPath();\r\n    ctx.arc(canvas.width / 2, canvas.height / 2, cropSize / 2 + 4, 0, Math.PI * 2);\r\n    ctx.stroke();\r\n  }, [scale, rotation, position, cropSize]);\r\n\r\n  const handleMouseDown = (e: React.MouseEvent<HTMLCanvasElement>) => {\r\n    setIsDragging(true);\r\n    setDragStart({ x: e.clientX - position.x, y: e.clientY - position.y });\r\n  };\r\n\r\n  const handleMouseMove = (e: React.MouseEvent<HTMLCanvasElement>) => {\r\n    if (!isDragging) return;\r\n    setPosition({\r\n      x: e.clientX - dragStart.x,\r\n      y: e.clientY - dragStart.y,\r\n    });\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setIsDragging(false);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    const canvas = canvasRef.current;\r\n    const img = imageRef.current;\r\n\r\n    if (!canvas || !img) return;\r\n\r\n    setIsLoading(true);\r\n\r\n    // Создаем временный canvas для обрезанного изображения\r\n    const outputCanvas = document.createElement('canvas');\r\n    outputCanvas.width = cropSize;\r\n    outputCanvas.height = cropSize;\r\n    const outputCtx = outputCanvas.getContext('2d');\r\n\r\n    if (!outputCtx) {\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Рисуем круглую область\r\n    outputCtx.beginPath();\r\n    outputCtx.arc(cropSize / 2, cropSize / 2, cropSize / 2, 0, Math.PI * 2);\r\n    outputCtx.closePath();\r\n    outputCtx.clip();\r\n\r\n    // Перемещаем и трансформируем изображение\r\n    outputCtx.translate(cropSize / 2 + position.x, cropSize / 2 + position.y);\r\n    outputCtx.rotate((rotation * Math.PI) / 180);\r\n    outputCtx.scale(scale, scale);\r\n\r\n    // Рисуем изображение\r\n    const aspectRatio = img.width / img.height;\r\n    let drawWidth, drawHeight;\r\n\r\n    if (aspectRatio > 1) {\r\n      drawHeight = cropSize;\r\n      drawWidth = cropSize * aspectRatio;\r\n    } else {\r\n      drawWidth = cropSize;\r\n      drawHeight = cropSize / aspectRatio;\r\n    }\r\n\r\n    outputCtx.drawImage(img, -drawWidth / 2, -drawHeight / 2, drawWidth, drawHeight);\r\n\r\n    // Конвертируем в blob\r\n    outputCanvas.toBlob(\r\n      (blob) => {\r\n        if (blob) {\r\n          onSave(blob);\r\n        }\r\n        setIsLoading(false);\r\n      },\r\n      'image/png',\r\n      1\r\n    );\r\n  };\r\n\r\n  const handleRotate = () => {\r\n    setRotation((prev) => (prev + 90) % 360);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"sm:max-w-lg\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"text-xl text-[#2E2E2E]\">\r\n            Настройка аватара\r\n          </DialogTitle>\r\n          <DialogDescription className=\"text-gray-600\">\r\n            Перетащите изображение для позиционирования и используйте ползунок для масштабирования\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"flex flex-col items-center gap-4 py-4\">\r\n          {imageUrl && (\r\n            <>\r\n              <canvas\r\n                ref={canvasRef}\r\n                width={300}\r\n                height={300}\r\n                className=\"border border-gray-200 rounded-lg cursor-move bg-gray-100\"\r\n                onMouseDown={handleMouseDown}\r\n                onMouseMove={handleMouseMove}\r\n                onMouseUp={handleMouseUp}\r\n                onMouseLeave={handleMouseUp}\r\n              />\r\n\r\n              <div className=\"w-full space-y-4\">\r\n                <div className=\"flex items-center gap-4\">\r\n                  <ZoomOut className=\"w-4 h-4 text-gray-500\" />\r\n                  <Slider\r\n                    value={[scale]}\r\n                    min={0.5}\r\n                    max={3}\r\n                    step={0.1}\r\n                    onValueChange={(value) => setScale(value[0])}\r\n                    className=\"flex-1\"\r\n                  />\r\n                  <ZoomIn className=\"w-4 h-4 text-gray-500\" />\r\n                </div>\r\n\r\n                <div className=\"flex justify-center\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={handleRotate}\r\n                    className=\"border-gray-300\"\r\n                  >\r\n                    <RotateCw className=\"w-4 h-4 mr-2\" />\r\n                    Повернуть\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <DialogFooter className=\"flex flex-col sm:flex-row gap-3 sm:gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={onClose}\r\n            className=\"w-full sm:w-auto border-gray-300\"\r\n          >\r\n            Отмена\r\n          </Button>\r\n          <Button\r\n            onClick={handleSave}\r\n            disabled={isLoading || !imageUrl}\r\n            className=\"w-full sm:w-auto bg-[#18A36C] hover:bg-[#18A36C]/90 text-white\"\r\n          >\r\n            {isLoading ? (\r\n              <>\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2\" />\r\n                Сохранение...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Upload className=\"w-4 h-4 mr-2\" />\r\n                Сохранить\r\n              </>\r\n            )}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3057, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/SMAccount/SMEditProfileModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '../common/SMDialog/SMDialog';\r\nimport { Button } from '../common/SMButton/SMButton';\r\nimport { Input } from '../common/SMInput/SMInput';\r\nimport { Label } from '../common/SMLabel/SMLabel';\r\nimport {\r\n  User,\r\n  Mail,\r\n  Phone,\r\n  AtSign,\r\n  Camera,\r\n  Trash2,\r\n  Save,\r\n  Loader2,\r\n  Lock\r\n} from 'lucide-react';\r\nimport { useAlert } from '../common/SMAlert/AlertProvider';\r\nimport { AvatarCropModal } from './SMAvatarCropModal';\r\nimport { ChangePasswordModal } from './SMChangePasswordModal';\r\n\r\ninterface UserData {\r\n  id: number;\r\n  login: string;\r\n  email: string;\r\n  name: string;\r\n  phone: string;\r\n  registration_date: string;\r\n  avatar_url?: string | null;\r\n}\r\n\r\ninterface EditProfileModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  user: UserData | null;\r\n  onProfileUpdate: (updatedUser: UserData) => void;\r\n}\r\n\r\nexport function EditProfileModal({ isOpen, onClose, user, onProfileUpdate }: EditProfileModalProps) {\r\n  const alert = useAlert();\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    login: '',\r\n  });\r\n  const [avatarUrl, setAvatarUrl] = useState<string | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isUploadingAvatar, setIsUploadingAvatar] = useState(false);\r\n  const [showCropModal, setShowCropModal] = useState(false);\r\n  const [showChangePasswordModal, setShowChangePasswordModal] = useState(false);\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (user && isOpen) {\r\n      setFormData({\r\n        name: user.name || '',\r\n        email: user.email || '',\r\n        phone: user.phone || '',\r\n        login: user.login || '',\r\n      });\r\n      setAvatarUrl(user.avatar_url || null);\r\n    }\r\n  }, [user, isOpen]);\r\n\r\n  const handleInputChange = (field: string, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const formatPhoneNumber = (value: string) => {\r\n    // Убираем все символы кроме цифр\r\n    const numbers = value.replace(/\\D/g, '');\r\n\r\n    // Форматируем для белорусского номера\r\n    if (numbers.startsWith('375')) {\r\n      const rest = numbers.slice(3);\r\n      if (rest.length <= 2) return `+375 (${rest}`;\r\n      if (rest.length <= 5) return `+375 (${rest.slice(0, 2)}) ${rest.slice(2)}`;\r\n      if (rest.length <= 7) return `+375 (${rest.slice(0, 2)}) ${rest.slice(2, 5)}-${rest.slice(5)}`;\r\n      return `+375 (${rest.slice(0, 2)}) ${rest.slice(2, 5)}-${rest.slice(5, 7)}-${rest.slice(7, 9)}`;\r\n    }\r\n\r\n    return value;\r\n  };\r\n\r\n  const handlePhoneChange = (value: string) => {\r\n    const formatted = formatPhoneNumber(value);\r\n    setFormData(prev => ({ ...prev, phone: formatted }));\r\n  };\r\n\r\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      // Проверяем тип файла\r\n      const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\r\n      if (!allowedTypes.includes(file.type)) {\r\n        alert.error('Недопустимый формат файла. Разрешены: JPEG, PNG, GIF, WebP', 'Ошибка');\r\n        return;\r\n      }\r\n\r\n      // Проверяем размер файла (5MB)\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        alert.error('Размер файла не должен превышать 5MB', 'Ошибка');\r\n        return;\r\n      }\r\n\r\n      setSelectedFile(file);\r\n      setShowCropModal(true);\r\n    }\r\n    // Сбрасываем input\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const handleAvatarSave = async (croppedBlob: Blob) => {\r\n    setShowCropModal(false);\r\n    setIsUploadingAvatar(true);\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('avatar', croppedBlob, 'avatar.png');\r\n\r\n      const response = await fetch('/api/auth/avatar', {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        setAvatarUrl(data.avatar_url);\r\n        alert.success('Аватар успешно загружен', 'Успех');\r\n      } else {\r\n        alert.error(data.error || 'Ошибка при загрузке аватара', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      alert.error('Произошла ошибка при загрузке аватара', 'Ошибка');\r\n    } finally {\r\n      setIsUploadingAvatar(false);\r\n      setSelectedFile(null);\r\n    }\r\n  };\r\n\r\n  const handleAvatarDelete = async () => {\r\n    setIsUploadingAvatar(true);\r\n\r\n    try {\r\n      const response = await fetch('/api/auth/avatar', {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (response.ok) {\r\n        setAvatarUrl(null);\r\n        alert.success('Аватар успешно удален', 'Успех');\r\n      } else {\r\n        const data = await response.json();\r\n        alert.error(data.error || 'Ошибка при удалении аватара', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      alert.error('Произошла ошибка при удалении аватара', 'Ошибка');\r\n    } finally {\r\n      setIsUploadingAvatar(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await fetch('/api/auth/profile', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        alert.success('Профиль успешно обновлен', 'Успех');\r\n        onProfileUpdate(data.user);\r\n        onClose();\r\n      } else {\r\n        alert.error(data.error || 'Ошибка при обновлении профиля', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      alert.error('Произошла ошибка при обновлении профиля', 'Ошибка');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Получаем инициалы пользователя (первая буква имени + первая буква фамилии)\r\n  // Формат: \"Фамилия Имя Отчество\" -> parts[0]=Фамилия, parts[1]=Имя\r\n  const getInitials = () => {\r\n    if (!formData.name) return 'U';\r\n    const parts = formData.name.trim().split(' ').filter(p => p.length > 0);\r\n    if (parts.length >= 2) {\r\n      // Имя (parts[1]) + Фамилия (parts[0])\r\n      return `${parts[1][0]}${parts[0][0]}`.toUpperCase();\r\n    }\r\n    return parts[0]?.[0]?.toUpperCase() || 'U';\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={isOpen} onOpenChange={onClose}>\r\n        <DialogContent className=\"sm:max-w-lg max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-xl text-[#2E2E2E]\">\r\n              Редактирование профиля\r\n            </DialogTitle>\r\n            <DialogDescription className=\"text-gray-600\">\r\n              Измените данные вашего профиля\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-6 py-4\">\r\n            {/* Avatar Section */}\r\n            <div className=\"flex flex-col items-center gap-4\">\r\n              <div className=\"relative\">\r\n                <div className=\"w-24 h-24 aspect-square rounded-full bg-[#18A36C] flex items-center justify-center overflow-hidden border-4 border-gray-100 shadow-lg flex-shrink-0\">\r\n                  {avatarUrl ? (\r\n                    <img\r\n                      src={avatarUrl}\r\n                      alt=\"Avatar\"\r\n                      className=\"w-full h-full object-cover rounded-full\"\r\n                    />\r\n                  ) : (\r\n                    <span className=\"text-3xl text-white font-medium\">\r\n                      {getInitials()}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                {isUploadingAvatar && (\r\n                  <div className=\"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center\">\r\n                    <Loader2 className=\"w-6 h-6 text-white animate-spin\" />\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"flex gap-2\">\r\n                <input\r\n                  ref={fileInputRef}\r\n                  type=\"file\"\r\n                  accept=\"image/jpeg,image/png,image/gif,image/webp\"\r\n                  className=\"hidden\"\r\n                  onChange={handleFileSelect}\r\n                />\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  disabled={isUploadingAvatar}\r\n                  className=\"border-[#18A36C] text-[#18A36C]\"\r\n                >\r\n                  <Camera className=\"w-4 h-4 mr-2\" />\r\n                  Загрузить фото\r\n                </Button>\r\n                {avatarUrl && (\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={handleAvatarDelete}\r\n                    disabled={isUploadingAvatar}\r\n                    className=\"border-red-300 text-red-600 hover:bg-red-50\"\r\n                  >\r\n                    <Trash2 className=\"w-4 h-4\" />\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Form Fields */}\r\n            <div className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"name\" className=\"text-gray-700 flex items-center gap-2\">\r\n                  <User className=\"w-4 h-4 text-[#18A36C]\" />\r\n                  ФИО\r\n                </Label>\r\n                <Input\r\n                  id=\"name\"\r\n                  value={formData.name}\r\n                  onChange={(e) => handleInputChange('name', e.target.value)}\r\n                  placeholder=\"Иванов Иван Иванович\"\r\n                  className=\"border-gray-300\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"login\" className=\"text-gray-700 flex items-center gap-2\">\r\n                  <AtSign className=\"w-4 h-4 text-[#18A36C]\" />\r\n                  Логин\r\n                </Label>\r\n                <Input\r\n                  id=\"login\"\r\n                  value={formData.login}\r\n                  onChange={(e) => handleInputChange('login', e.target.value)}\r\n                  placeholder=\"Ваш логин\"\r\n                  className=\"border-gray-300\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"email\" className=\"text-gray-700 flex items-center gap-2\">\r\n                  <Mail className=\"w-4 h-4 text-gray-400\" />\r\n                  Email\r\n                  <span className=\"text-xs text-gray-400\">(нельзя изменить)</span>\r\n                </Label>\r\n                <Input\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  value={formData.email}\r\n                  disabled\r\n                  className=\"border-gray-200 bg-gray-50 text-gray-500 cursor-not-allowed\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"phone\" className=\"text-gray-700 flex items-center gap-2\">\r\n                  <Phone className=\"w-4 h-4 text-gray-400\" />\r\n                  Телефон\r\n                  <span className=\"text-xs text-gray-400\">(нельзя изменить)</span>\r\n                </Label>\r\n                <Input\r\n                  id=\"phone\"\r\n                  type=\"tel\"\r\n                  value={formData.phone}\r\n                  disabled\r\n                  className=\"border-gray-200 bg-gray-50 text-gray-500 cursor-not-allowed\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Change Password Button */}\r\n            <div className=\"pt-2 border-t border-gray-200\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={() => setShowChangePasswordModal(true)}\r\n                className=\"w-full border-gray-300 text-gray-700 hover:bg-gray-50\"\r\n              >\r\n                <Lock className=\"w-4 h-4 mr-2\" />\r\n                Сменить пароль\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter className=\"flex flex-col sm:flex-row gap-3 sm:gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={onClose}\r\n              className=\"w-full sm:w-auto border-gray-300\"\r\n            >\r\n              Отмена\r\n            </Button>\r\n            <Button\r\n              onClick={handleSubmit}\r\n              disabled={isLoading}\r\n              className=\"w-full sm:w-auto bg-[#18A36C] hover:bg-[#18A36C]/90 text-white\"\r\n            >\r\n              {isLoading ? (\r\n                <>\r\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                  Сохранение...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Save className=\"w-4 h-4 mr-2\" />\r\n                  Сохранить\r\n                </>\r\n              )}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Avatar Crop Modal */}\r\n      <AvatarCropModal\r\n        isOpen={showCropModal}\r\n        onClose={() => {\r\n          setShowCropModal(false);\r\n          setSelectedFile(null);\r\n        }}\r\n        onSave={handleAvatarSave}\r\n        imageFile={selectedFile}\r\n      />\r\n\r\n      {/* Change Password Modal */}\r\n      <ChangePasswordModal\r\n        isOpen={showChangePasswordModal}\r\n        onClose={() => setShowChangePasswordModal(false)}\r\n      />\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3716, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/SMAccount/SMMaterialDetailModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\nimport { CalendarDays, Sparkles, X } from 'lucide-react';\r\nimport { ImageWithFallback } from '../SMImage/ImageWithFallback';\r\n\r\ninterface Material {\r\n  id: string;\r\n  title: string;\r\n  content: string;\r\n  detailed_content?: string | null;\r\n  image: string;\r\n  date: string;\r\n  dateRaw?: string;\r\n  year: number;\r\n}\r\n\r\ninterface MaterialDetailModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  material: Material | null;\r\n}\r\n\r\n// Функция для проверки, является ли материал новым (менее месяца)\r\nexport function isNewMaterial(dateRaw?: string): boolean {\r\n  if (!dateRaw) return false;\r\n\r\n  const materialDate = new Date(dateRaw);\r\n  const oneMonthAgo = new Date();\r\n  oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);\r\n\r\n  return materialDate > oneMonthAgo;\r\n}\r\n\r\nexport function MaterialDetailModal({ isOpen, onClose, material }: MaterialDetailModalProps) {\r\n  const isNew = material ? isNewMaterial(material.dateRaw) : false;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && material && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n          {/* Backdrop */}\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={onClose}\r\n            className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\r\n          />\r\n\r\n          {/* Modal */}\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            transition={{ duration: 0.2, ease: 'easeOut' }}\r\n            className=\"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-white rounded-2xl shadow-2xl\"\r\n          >\r\n            {/* Close Button */}\r\n            <button\r\n              onClick={onClose}\r\n              className=\"absolute top-6 right-6 w-12 h-12 flex items-center justify-center rounded-xl bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800 transition-all duration-200 hover:scale-110 z-10\"\r\n            >\r\n              <X className=\"w-6 h-6\" />\r\n            </button>\r\n\r\n            {/* Header with Gradient */}\r\n            <div className=\"bg-gradient-to-r from-[#18A36C]/5 via-[#18A36C]/10 to-[#18A36C]/5 p-8 border-b border-gray-100\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"flex-1\">\r\n                  <h2 className=\"text-2xl font-bold text-[#2E2E2E] mb-2\">\r\n                    {material.title}\r\n                  </h2>\r\n                  {isNew && (\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span className=\"inline-flex items-center gap-1 px-2.5 py-1 bg-gradient-to-r from-[#18A36C] to-[#15905f] text-white text-xs font-medium rounded-full\">\r\n                        <Sparkles className=\"w-3 h-3\" />\r\n                        Новое\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"p-8 space-y-6\">\r\n              {/* Image */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.1 }}\r\n                className=\"relative h-64 rounded-xl overflow-hidden shadow-md\"\r\n              >\r\n                <ImageWithFallback\r\n                  src={material.image}\r\n                  alt={material.title}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              </motion.div>\r\n\r\n              {/* Description */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.15 }}\r\n              >\r\n                <h3 className=\"text-lg font-semibold text-[#2E2E2E] mb-3 flex items-center gap-2\">\r\n                  <span className=\"w-1 h-6 bg-gradient-to-b from-[#18A36C] to-[#15905f] rounded-full\" />\r\n                  О материале\r\n                </h3>\r\n                <p className=\"text-gray-700 leading-relaxed\">\r\n                  {material.content}\r\n                </p>\r\n              </motion.div>\r\n\r\n              {/* Detailed description */}\r\n              {material.detailed_content && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: 10 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ delay: 0.2 }}\r\n                  className=\"bg-gradient-to-br from-gray-50 to-white p-6 rounded-xl border border-gray-100\"\r\n                >\r\n                  <h3 className=\"text-lg font-semibold text-[#2E2E2E] mb-3 flex items-center gap-2\">\r\n                    <span className=\"w-1 h-6 bg-gradient-to-b from-[#18A36C] to-[#15905f] rounded-full\" />\r\n                    Подробная информация\r\n                  </h3>\r\n                  <p className=\"text-gray-700 leading-relaxed whitespace-pre-wrap\">\r\n                    {material.detailed_content}\r\n                  </p>\r\n                </motion.div>\r\n              )}\r\n\r\n              {/* Additional Info */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.25 }}\r\n              >\r\n                <h3 className=\"text-lg font-semibold text-[#2E2E2E] mb-3 flex items-center gap-2\">\r\n                  <span className=\"w-1 h-6 bg-gradient-to-b from-[#18A36C] to-[#15905f] rounded-full\" />\r\n                  Дополнительно\r\n                </h3>\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex items-center gap-3 text-gray-700 bg-gradient-to-br from-[#18A36C]/5 to-transparent p-4 rounded-xl border border-[#18A36C]/10\">\r\n                    <div className=\"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-xl flex items-center justify-center shadow-md\">\r\n                      <CalendarDays className=\"w-6 h-6 text-white\" />\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"text-sm text-gray-600\">Дата публикации</div>\r\n                      <div className=\"font-semibold text-[#2E2E2E]\">{material.date}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4099, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/common/SMPagination/SMPagination.tsx"],"sourcesContent":["\"use client\";\n\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { Button } from \"../SMButton/SMButton\";\n\ninterface PaginationProps {\n  currentPage: number;\n  totalPages: number;\n  onPageChange: (page: number) => void;\n  className?: string;\n}\n\nexport function Pagination({\n  currentPage,\n  totalPages,\n  onPageChange,\n  className = \"\",\n}: PaginationProps) {\n  // \u001d5 ?>:07K205< ?038=0F8N 5A;8 2A53> 1 AB@0=8F0\n  if (totalPages <= 1) return null;\n\n  // \u00135=5@8@C5< <0AA82 =><5@>2 AB@0=8F 4;O >B>1@065=8O\n  const getPageNumbers = () => {\n    const pages: (number | string)[] = [];\n    const maxVisible = 5; // \u001c0:A8<C< 2848<KE :=>?>: AB@0=8F\n\n    if (totalPages <= maxVisible) {\n      // \u0015A;8 AB@0=8F <0;>, ?>:07K205< 2A5\n      for (let i = 1; i <= totalPages; i++) {\n        pages.push(i);\n      }\n    } else {\n      // \u0012A5340 ?>:07K205< ?5@2CN AB@0=8FC\n      pages.push(1);\n\n      if (currentPage > 3) {\n        pages.push(\"...\");\n      }\n\n      // \u001f>:07K205< AB@0=8FK 2>:@C3 B5:CI59\n      const start = Math.max(2, currentPage - 1);\n      const end = Math.min(totalPages - 1, currentPage + 1);\n\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n\n      if (currentPage < totalPages - 2) {\n        pages.push(\"...\");\n      }\n\n      // \u0012A5340 ?>:07K205< ?>A;54=NN AB@0=8FC\n      pages.push(totalPages);\n    }\n\n    return pages;\n  };\n\n  const pages = getPageNumbers();\n\n  return (\n    <div className={`flex items-center justify-center gap-2 ${className}`}>\n      {/* \u001a=>?:0 \"\u001d0704\" */}\n      <Button\n        onClick={() => onPageChange(currentPage - 1)}\n        disabled={currentPage === 1}\n        variant=\"outline\"\n        className=\"h-10 w-10 p-0 border-gray-300 hover:bg-gray-50 disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed hidden sm:flex items-center justify-center\"\n      >\n        <ChevronLeft className=\"w-5 h-5\" />\n      </Button>\n\n      {/* \u001c>18;L=0O 25@A8O - B>;L:> B5:CI0O AB@0=8F0 */}\n      <div className=\"flex sm:hidden items-center gap-2\">\n        <Button\n          onClick={() => onPageChange(currentPage - 1)}\n          disabled={currentPage === 1}\n          variant=\"outline\"\n          className=\"h-10 px-3 border-gray-300 hover:bg-gray-50 disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed\"\n        >\n          <ChevronLeft className=\"w-4 h-4\" />\n        </Button>\n\n        <span className=\"text-sm text-gray-700 min-w-[80px] text-center\">\n          {currentPage} / {totalPages}\n        </span>\n\n        <Button\n          onClick={() => onPageChange(currentPage + 1)}\n          disabled={currentPage === totalPages}\n          variant=\"outline\"\n          className=\"h-10 px-3 border-gray-300 hover:bg-gray-50 disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed\"\n        >\n          <ChevronRight className=\"w-4 h-4\" />\n        </Button>\n      </div>\n\n      {/* \u00145A:B>?=0O 25@A8O - 2A5 =><5@0 AB@0=8F */}\n      <div className=\"hidden sm:flex items-center gap-2\">\n        {pages.map((page, index) => {\n          if (page === \"...\") {\n            return (\n              <span\n                key={`ellipsis-${index}`}\n                className=\"px-2 text-gray-500\"\n              >\n                ...\n              </span>\n            );\n          }\n\n          const pageNumber = page as number;\n          const isActive = pageNumber === currentPage;\n\n          return (\n            <Button\n              key={pageNumber}\n              onClick={() => onPageChange(pageNumber)}\n              variant={isActive ? \"default\" : \"outline\"}\n              className={`h-10 w-10 p-0 cursor-pointer ${\n                isActive\n                  ? \"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white border-[#18A36C]\"\n                  : \"border-gray-300 hover:bg-gray-50 text-gray-700\"\n              }`}\n            >\n              {pageNumber}\n            </Button>\n          );\n        })}\n      </div>\n\n      {/* \u001a=>?:0 \"\u0012?5@54\" */}\n      <Button\n        onClick={() => onPageChange(currentPage + 1)}\n        disabled={currentPage === totalPages}\n        variant=\"outline\"\n        className=\"h-10 w-10 p-0 border-gray-300 hover:bg-gray-50 disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed hidden sm:flex items-center justify-center\"\n      >\n        <ChevronRight className=\"w-5 h-5\" />\n      </Button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAHA;;;;AAYO,SAAS,WAAW,EACzB,WAAW,EACX,UAAU,EACV,YAAY,EACZ,YAAY,EAAE,EACE;IAChB,gDAAgD;IAChD,IAAI,cAAc,GAAG,OAAO;IAE5B,oDAAoD;IACpD,MAAM,iBAAiB;QACrB,MAAM,QAA6B,EAAE;QACrC,MAAM,aAAa,GAAG,kCAAkC;QAExD,IAAI,cAAc,YAAY;YAC5B,oCAAoC;YACpC,IAAK,IAAI,IAAI,GAAG,KAAK,YAAY,IAAK;gBACpC,MAAM,IAAI,CAAC;YACb;QACF,OAAO;YACL,oCAAoC;YACpC,MAAM,IAAI,CAAC;YAEX,IAAI,cAAc,GAAG;gBACnB,MAAM,IAAI,CAAC;YACb;YAEA,qCAAqC;YACrC,MAAM,QAAQ,KAAK,GAAG,CAAC,GAAG,cAAc;YACxC,MAAM,MAAM,KAAK,GAAG,CAAC,aAAa,GAAG,cAAc;YAEnD,IAAK,IAAI,IAAI,OAAO,KAAK,KAAK,IAAK;gBACjC,MAAM,IAAI,CAAC;YACb;YAEA,IAAI,cAAc,aAAa,GAAG;gBAChC,MAAM,IAAI,CAAC;YACb;YAEA,uCAAuC;YACvC,MAAM,IAAI,CAAC;QACb;QAEA,OAAO;IACT;IAEA,MAAM,QAAQ;IAEd,qBACE,6LAAC;QAAI,WAAW,CAAC,uCAAuC,EAAE,WAAW;;0BAEnE,6LAAC,iKAAM;gBACL,SAAS,IAAM,aAAa,cAAc;gBAC1C,UAAU,gBAAgB;gBAC1B,SAAQ;gBACR,WAAU;0BAEV,cAAA,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;0BAIzB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,iKAAM;wBACL,SAAS,IAAM,aAAa,cAAc;wBAC1C,UAAU,gBAAgB;wBAC1B,SAAQ;wBACR,WAAU;kCAEV,cAAA,6LAAC,sOAAW;4BAAC,WAAU;;;;;;;;;;;kCAGzB,6LAAC;wBAAK,WAAU;;4BACb;4BAAY;4BAAI;;;;;;;kCAGnB,6LAAC,iKAAM;wBACL,SAAS,IAAM,aAAa,cAAc;wBAC1C,UAAU,gBAAgB;wBAC1B,SAAQ;wBACR,WAAU;kCAEV,cAAA,6LAAC,yOAAY;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAK5B,6LAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM;oBAChB,IAAI,SAAS,OAAO;wBAClB,qBACE,6LAAC;4BAEC,WAAU;sCACX;2BAFM,CAAC,SAAS,EAAE,OAAO;;;;;oBAM9B;oBAEA,MAAM,aAAa;oBACnB,MAAM,WAAW,eAAe;oBAEhC,qBACE,6LAAC,iKAAM;wBAEL,SAAS,IAAM,aAAa;wBAC5B,SAAS,WAAW,YAAY;wBAChC,WAAW,CAAC,6BAA6B,EACvC,WACI,mEACA,kDACJ;kCAED;uBATI;;;;;gBAYX;;;;;;0BAIF,6LAAC,iKAAM;gBACL,SAAS,IAAM,aAAa,cAAc;gBAC1C,UAAU,gBAAgB;gBAC1B,SAAQ;gBACR,WAAU;0BAEV,cAAA,6LAAC,yOAAY;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIhC;KAlIgB","debugId":null}},
    {"offset": {"line": 4284, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/SMAccount/SMAccountSkeleton.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Card, CardContent, CardHeader } from '../common/SMCard/SMCard';\r\n\r\n// Базовый компонент скелетона\r\nfunction Skeleton({ className = '' }: { className?: string }) {\r\n  return (\r\n    <div className={`animate-pulse bg-gray-200 rounded ${className}`} />\r\n  );\r\n}\r\n\r\n// Скелетон для Welcome Hero секции\r\nexport function WelcomeHeroSkeleton() {\r\n  return (\r\n    <div className=\"bg-white border border-gray-200 rounded-lg p-8 lg:p-12 mb-12\">\r\n      <div className=\"flex flex-col lg:flex-row items-center gap-8\">\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex flex-col lg:flex-row items-center lg:items-start gap-6\">\r\n            {/* Avatar skeleton */}\r\n            <Skeleton className=\"w-20 h-20 lg:w-24 lg:h-24 rounded-full\" />\r\n\r\n            <div className=\"text-center lg:text-left flex-1\">\r\n              {/* Title skeleton */}\r\n              <Skeleton className=\"h-10 w-64 mb-4 mx-auto lg:mx-0\" />\r\n              {/* Subtitle skeleton */}\r\n              <Skeleton className=\"h-5 w-48 mx-auto lg:mx-0\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Cards skeleton */}\r\n        <div className=\"grid grid-cols-2 gap-6\">\r\n          <div className=\"bg-gray-50 rounded-lg p-6 border border-gray-200 w-24 h-24\">\r\n            <Skeleton className=\"h-8 w-8 mx-auto mb-2\" />\r\n            <Skeleton className=\"h-4 w-16 mx-auto\" />\r\n          </div>\r\n          <div className=\"bg-gray-50 rounded-lg p-6 border border-gray-200 w-24 h-24\">\r\n            <Skeleton className=\"h-8 w-8 mx-auto mb-2\" />\r\n            <Skeleton className=\"h-4 w-16 mx-auto\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для карточки профиля\r\nexport function ProfileCardSkeleton() {\r\n  return (\r\n    <Card className=\"border border-gray-200 mb-12\">\r\n      <CardHeader className=\"border-b border-gray-200 bg-gray-50\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Skeleton className=\"w-12 h-12 rounded-lg\" />\r\n            <div>\r\n              <Skeleton className=\"h-6 w-40 mb-2\" />\r\n              <Skeleton className=\"h-4 w-56\" />\r\n            </div>\r\n          </div>\r\n          <Skeleton className=\"h-10 w-40 rounded-md\" />\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"p-6\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          {[1, 2, 3, 4].map((i) => (\r\n            <div key={i} className=\"space-y-2\">\r\n              <Skeleton className=\"h-4 w-20\" />\r\n              <Skeleton className=\"h-12 w-full rounded-lg\" />\r\n            </div>\r\n          ))}\r\n          <div className=\"space-y-2 md:col-span-2\">\r\n            <Skeleton className=\"h-4 w-24\" />\r\n            <Skeleton className=\"h-12 w-full rounded-lg\" />\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// Скелетон для Quick Actions\r\nexport function QuickActionsSkeleton() {\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12\">\r\n      {[1, 2, 3].map((i) => (\r\n        <Card key={i} className=\"border border-gray-200\">\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex items-center gap-4 mb-4\">\r\n              <Skeleton className=\"w-14 h-14 rounded-lg\" />\r\n              <div className=\"flex-1\">\r\n                <Skeleton className=\"h-5 w-24 mb-2\" />\r\n                <Skeleton className=\"h-4 w-32\" />\r\n              </div>\r\n            </div>\r\n            <Skeleton className=\"h-4 w-36\" />\r\n          </CardContent>\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для карточки материала\r\nexport function MaterialCardSkeleton() {\r\n  return (\r\n    <Card className=\"border border-gray-200\">\r\n      <Skeleton className=\"w-full h-48 rounded-t-lg rounded-b-none\" />\r\n      <CardContent className=\"p-4\">\r\n        <Skeleton className=\"h-6 w-full mb-2\" />\r\n        <Skeleton className=\"h-4 w-full mb-1\" />\r\n        <Skeleton className=\"h-4 w-3/4 mb-3\" />\r\n        <div className=\"flex items-center justify-between\">\r\n          <Skeleton className=\"h-4 w-24\" />\r\n          <Skeleton className=\"h-8 w-28 rounded-md\" />\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// Скелетон для секции материалов\r\nexport function MaterialsSectionSkeleton() {\r\n  return (\r\n    <div className=\"mb-12\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <Skeleton className=\"h-8 w-48\" />\r\n        <Skeleton className=\"h-10 w-32 rounded-md\" />\r\n      </div>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {[1, 2, 3].map((i) => (\r\n          <MaterialCardSkeleton key={i} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для Profile Management карточки внизу\r\nexport function ProfileManagementSkeleton() {\r\n  return (\r\n    <Card className=\"border border-gray-200\">\r\n      <CardContent className=\"p-6\">\r\n        <div className=\"flex flex-col lg:flex-row items-center justify-between gap-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <Skeleton className=\"w-16 h-16 rounded-full\" />\r\n            <div>\r\n              <Skeleton className=\"h-6 w-40 mb-2\" />\r\n              <Skeleton className=\"h-4 w-48 mb-1\" />\r\n              <Skeleton className=\"h-4 w-32\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"flex flex-col sm:flex-row gap-3\">\r\n            <Skeleton className=\"h-10 w-44 rounded-md\" />\r\n            <Skeleton className=\"h-10 w-36 rounded-md\" />\r\n            <Skeleton className=\"h-10 w-24 rounded-md\" />\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// Полный скелетон для Welcome Dashboard\r\nexport function WelcomeDashboardSkeleton() {\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 lg:px-8 py-8\">\r\n      <WelcomeHeroSkeleton />\r\n      <ProfileCardSkeleton />\r\n      <QuickActionsSkeleton />\r\n      <MaterialsSectionSkeleton />\r\n      <ProfileManagementSkeleton />\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для страницы подписок\r\nexport function SubscriptionsSkeleton() {\r\n  return (\r\n    <div className=\"p-4 lg:p-8 max-w-7xl mx-auto space-y-6\">\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n        <div className=\"flex items-center gap-3 mb-4\">\r\n          <Skeleton className=\"w-12 h-12 rounded-lg\" />\r\n          <div>\r\n            <Skeleton className=\"h-6 w-40 mb-2\" />\r\n            <Skeleton className=\"h-4 w-64\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Card className=\"border border-gray-200\">\r\n        <CardContent className=\"p-6 space-y-6\">\r\n          <div className=\"space-y-2\">\r\n            <Skeleton className=\"h-4 w-24\" />\r\n            <Skeleton className=\"h-10 w-full rounded-md\" />\r\n          </div>\r\n\r\n          <div className=\"space-y-3\">\r\n            <Skeleton className=\"h-4 w-32\" />\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n              {[1, 2, 3, 4, 5, 6].map((i) => (\r\n                <div key={i} className=\"flex items-center gap-2\">\r\n                  <Skeleton className=\"w-5 h-5 rounded\" />\r\n                  <Skeleton className=\"h-4 w-32\" />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Skeleton className=\"h-4 w-40\" />\r\n            <Skeleton className=\"h-10 w-48 rounded-md\" />\r\n          </div>\r\n\r\n          <div className=\"flex gap-4\">\r\n            <Skeleton className=\"h-10 w-28 rounded-md\" />\r\n            <Skeleton className=\"h-10 w-24 rounded-md\" />\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для страницы материалов\r\nexport function MaterialsPageSkeleton() {\r\n  return (\r\n    <div className=\"p-4 lg:p-8 max-w-7xl mx-auto space-y-6\">\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n        <div className=\"flex items-center gap-3 mb-4\">\r\n          <Skeleton className=\"w-12 h-12 rounded-lg\" />\r\n          <div>\r\n            <Skeleton className=\"h-6 w-32 mb-2\" />\r\n            <Skeleton className=\"h-4 w-56\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex gap-4 items-center\">\r\n        <Skeleton className=\"h-4 w-16\" />\r\n        <Skeleton className=\"h-10 w-48 rounded-md\" />\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {[1, 2, 3, 4, 5, 6].map((i) => (\r\n          <MaterialCardSkeleton key={i} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для страницы контактов\r\nexport function ContactSkeleton() {\r\n  return (\r\n    <div className=\"p-4 lg:p-8 max-w-7xl mx-auto space-y-6\">\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n        <div className=\"flex items-center gap-3 mb-4\">\r\n          <Skeleton className=\"w-12 h-12 rounded-lg\" />\r\n          <div>\r\n            <Skeleton className=\"h-6 w-44 mb-2\" />\r\n            <Skeleton className=\"h-4 w-48\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Card className=\"border border-gray-200\">\r\n        <CardContent className=\"p-6 space-y-6\">\r\n          <Skeleton className=\"h-16 w-full rounded-lg\" />\r\n\r\n          <div className=\"space-y-4\">\r\n            <div className=\"space-y-2\">\r\n              <Skeleton className=\"h-4 w-24\" />\r\n              <Skeleton className=\"h-10 w-full rounded-md\" />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Skeleton className=\"h-4 w-16\" />\r\n              <Skeleton className=\"h-10 w-full rounded-md\" />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Skeleton className=\"h-4 w-24\" />\r\n              <Skeleton className=\"h-32 w-full rounded-md\" />\r\n            </div>\r\n          </div>\r\n\r\n          <Skeleton className=\"h-10 w-32 rounded-md\" />\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5397, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/SMAccount/SMAccountContent.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"../common/SMCard/SMCard\";\r\nimport { Button } from \"../common/SMButton/SMButton\";\r\nimport { Input } from \"../common/SMInput/SMInput\";\r\nimport { Label } from \"../common/SMLabel/SMLabel\";\r\nimport { Checkbox } from \"../common/SMCheckBox/SMCheckBox\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"../common/SMSelect/SMSelect\";\r\nimport { Textarea } from \"../common/SMTextarea/SMTextarea\";\r\nimport { Badge } from \"../common/SMBadge/SMBadge\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"../common/SMDialog/SMDialog\";\r\nimport {\r\n  CalendarDays,\r\n  Mail,\r\n  Settings2,\r\n  FileText,\r\n  MessageSquare,\r\n  CheckCircle,\r\n  ChevronRight,\r\n  LogOut,\r\n  User,\r\n  Phone,\r\n  Lock,\r\n  AtSign,\r\n  Edit3,\r\n  Eye,\r\n  Shield,\r\n  Send,\r\n  Clock,\r\n  Loader2,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  Ban,\r\n} from \"lucide-react\";\r\nimport {\r\n  accountData,\r\n  subscriptionCategories,\r\n} from \"@/data/SMAccountData/SMAccountData\";\r\nimport { ImageWithFallback } from \"../SMImage/ImageWithFallback\";\r\nimport { useRouter } from \"../SMRouter/SMRouter\";\r\nimport { useSession, signOut } from \"next-auth/react\";\r\nimport { ChangePasswordModal } from \"./SMChangePasswordModal\";\r\nimport { EditProfileModal } from \"./SMEditProfileModal\";\r\nimport { MaterialDetailModal, isNewMaterial } from \"./SMMaterialDetailModal\";\r\nimport { useAlert } from \"../common/SMAlert/AlertProvider\";\r\nimport { Pagination } from \"../common/SMPagination/SMPagination\";\r\nimport {\r\n  WelcomeDashboardSkeleton,\r\n  MaterialsPageSkeleton,\r\n  ContactSkeleton,\r\n} from \"./SMAccountSkeleton\";\r\nimport { validateLetter } from \"@/utils/validation\";\r\n\r\ninterface UserData {\r\n  id: number;\r\n  login: string;\r\n  email: string;\r\n  name: string;\r\n  phone: string;\r\n  registration_date: string;\r\n  avatar_url?: string | null;\r\n  role?: 'USER' | 'ADMIN';\r\n  is_messages_blocked?: boolean;\r\n}\r\n\r\ninterface Material {\r\n  id: string;\r\n  title: string;\r\n  content: string;\r\n  detailed_content?: string | null;\r\n  image: string;\r\n  date: string;\r\n  dateRaw?: string;\r\n  year: number;\r\n}\r\n\r\ninterface LetterMessage {\r\n  id: number;\r\n  sender_type: 'patient' | 'chief_doctor';\r\n  content: string;\r\n  created_at: string;\r\n  is_read: boolean;\r\n}\r\n\r\ninterface Letter {\r\n  id: number;\r\n  subject: string;\r\n  content: string;\r\n  created_at: string;\r\n  reply: string | null;\r\n  replied_at: string | null;\r\n  is_read: boolean;\r\n  is_reply_read: boolean;\r\n  has_new_patient_message?: boolean;\r\n  messages?: LetterMessage[];\r\n}\r\n\r\nexport function AccountContent() {\r\n  const { navigate, currentRoute } = useRouter();\r\n  const { data: session, status } = useSession();\r\n  const alert = useAlert();\r\n  const [user, setUser] = useState<UserData | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [showLogoutDialog, setShowLogoutDialog] = useState(false);\r\n  const [showChangePasswordModal, setShowChangePasswordModal] = useState(false);\r\n  const [showEditProfileModal, setShowEditProfileModal] = useState(false);\r\n  const [showMaterialDetailModal, setShowMaterialDetailModal] = useState(false);\r\n  const [selectedMaterial, setSelectedMaterial] = useState<Material | null>(null);\r\n  const [materials, setMaterials] = useState<Material[]>([]);\r\n  const [materialsTotal, setMaterialsTotal] = useState(0);\r\n  const [materialsLoading, setMaterialsLoading] = useState(false);\r\n  const pathParts = currentRoute.replace(/^\\/+|\\/+$/g, '').split('/');\r\n\r\n  let sectionFromUrl = '';\r\n  if (pathParts[0] === 'account') {\r\n    sectionFromUrl = pathParts[1] || '';\r\n  }\r\n\r\n  const [activeSection, setActiveSection] = useState<string>(\r\n    sectionFromUrl && ['materials', 'contact'].includes(sectionFromUrl)\r\n      ? sectionFromUrl\r\n      : ''\r\n  );\r\n\r\n  const [subscriptionSettings, setSubscriptionSettings] =\r\n    useState(accountData.subscriptions.settings);\r\n  const [materialsPage, setMaterialsPage] = useState(1);\r\n  const [contactForm, setContactForm] = useState(\r\n    accountData.contact.form,\r\n  );\r\n  const [submitStatus, setSubmitStatus] = useState<\r\n    \"idle\" | \"success\" | \"error\"\r\n  >(\"idle\");\r\n\r\n  // Letters state\r\n  const [letters, setLetters] = useState<Letter[]>([]);\r\n  const [lettersLoading, setLettersLoading] = useState(false);\r\n  const [sendingLetter, setSendingLetter] = useState(false);\r\n  const [expandedLetterId, setExpandedLetterId] = useState<number | null>(null);\r\n  const [letterErrors, setLetterErrors] = useState<Record<string, string>>({});\r\n  const [replyMessage, setReplyMessage] = useState('');\r\n  const [sendingReply, setSendingReply] = useState(false);\r\n\r\n  // Validate letter field\r\n  const validateLetterField = (field: 'subject' | 'content', value: string) => {\r\n    const data = {\r\n      subject: field === 'subject' ? value : contactForm.subject,\r\n      content: field === 'content' ? value : contactForm.message,\r\n    };\r\n\r\n    if (field === 'subject') {\r\n      if (!value || value.trim().length < 3) {\r\n        setLetterErrors(prev => ({ ...prev, subject: 'Тема должна содержать минимум 3 символа' }));\r\n        return false;\r\n      } else if (value.length > 200) {\r\n        setLetterErrors(prev => ({ ...prev, subject: 'Тема не должна превышать 200 символов' }));\r\n        return false;\r\n      }\r\n    } else if (field === 'content') {\r\n      if (!value || value.trim().length < 10) {\r\n        setLetterErrors(prev => ({ ...prev, content: 'Сообщение должно содержать минимум 10 символов' }));\r\n        return false;\r\n      } else if (value.length > 5000) {\r\n        setLetterErrors(prev => ({ ...prev, content: 'Сообщение не должно превышать 5000 символов' }));\r\n        return false;\r\n      }\r\n    }\r\n\r\n    setLetterErrors(prev => {\r\n      const newErrors = { ...prev };\r\n      delete newErrors[field];\r\n      return newErrors;\r\n    });\r\n    return true;\r\n  };\r\n\r\n  const MATERIALS_PER_PAGE = 6;\r\n\r\n  // Load letters when contact section is active\r\n  const loadLetters = async () => {\r\n    setLettersLoading(true);\r\n    try {\r\n      const response = await fetch('/api/letters');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setLetters(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading letters:', error);\r\n    } finally {\r\n      setLettersLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (activeSection === 'contact' && session) {\r\n      loadLetters();\r\n    }\r\n  }, [activeSection, session]);\r\n\r\n  // Mark reply as read when letter is expanded\r\n  const markReplyAsRead = async (letterId: number) => {\r\n    try {\r\n      await fetch(`/api/letters/${letterId}`, { method: 'PATCH' });\r\n      setLetters(prev => prev.map(l =>\r\n        l.id === letterId ? { ...l, is_reply_read: true } : l\r\n      ));\r\n\r\n      // Очищаем уведомление из localStorage после прочтения\r\n      const { clearLetterNotification } = await import('@/utils/letterNotifications');\r\n      clearLetterNotification(letterId);\r\n    } catch (error) {\r\n      console.error('Error marking reply as read:', error);\r\n    }\r\n  };\r\n\r\n  // Send reply message in thread\r\n  const sendReplyMessage = async (letterId: number) => {\r\n    if (!replyMessage.trim() || replyMessage.trim().length < 10) {\r\n      alert.error('Сообщение должно содержать минимум 10 символов', 'Ошибка');\r\n      return;\r\n    }\r\n\r\n    setSendingReply(true);\r\n    try {\r\n      const response = await fetch(`/api/letters/${letterId}`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ content: replyMessage }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert.success('Сообщение отправлено', 'Успех');\r\n        setReplyMessage('');\r\n        await loadLetters(); // Reload to get updated messages\r\n      } else {\r\n        const data = await response.json();\r\n        alert.error(data.error || 'Ошибка при отправке сообщения', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending reply:', error);\r\n      alert.error('Ошибка при отправке сообщения', 'Ошибка');\r\n    } finally {\r\n      setSendingReply(false);\r\n    }\r\n  };\r\n\r\n  // Обновляем email в настройках подписки, когда загружаются данные пользователя\r\n  useEffect(() => {\r\n    if (user?.email) {\r\n      setSubscriptionSettings(prev => ({\r\n        ...prev,\r\n        email: user.email,\r\n      }));\r\n    }\r\n  }, [user]);\r\n\r\n  // Загружаем материалы из API\r\n  useEffect(() => {\r\n    const fetchMaterials = async () => {\r\n      setMaterialsLoading(true);\r\n      try {\r\n        const params = new URLSearchParams({\r\n          page: materialsPage.toString(),\r\n          limit: MATERIALS_PER_PAGE.toString(),\r\n        });\r\n        const response = await fetch(`/api/materials?${params}`);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setMaterials(data.materials);\r\n          setMaterialsTotal(data.pagination?.total || 0);\r\n          // Smooth scroll to top on page change\r\n          window.scrollTo({ top: 0, behavior: 'smooth' });\r\n        } else {\r\n          alert.error(\"Не удалось загрузить материалы\", \"Ошибка загрузки\");\r\n        }\r\n      } catch (error) {\r\n        alert.error(\"Произошла ошибка при загрузке материалов\", \"Ошибка\");\r\n      } finally {\r\n        setMaterialsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchMaterials();\r\n  }, [materialsPage, alert]);\r\n\r\n  useEffect(() => {\r\n    if (sectionFromUrl && ['materials', 'contact'].includes(sectionFromUrl)) {\r\n      setActiveSection(sectionFromUrl);\r\n    } else {\r\n      setActiveSection('');\r\n    }\r\n  }, [sectionFromUrl]);\r\n\r\n  useEffect(() => {\r\n    if (status === \"authenticated\" && session) {\r\n      fetchUserData();\r\n    } else if (status === \"unauthenticated\") {\r\n      setIsLoading(false);\r\n    }\r\n  }, [status, session]);\r\n\r\n  const fetchUserData = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/auth/me\");\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setUser(data.user);\r\n      }\r\n    } catch (error) {\r\n      // Silently handle error - user data is optional\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Получаем имя пользователя из данных пользователя\r\n  // Формат имени в БД: \"Фамилия Имя Отчество\"\r\n  const getUserName = () => {\r\n    // Если пользователь загружен и есть имя\r\n    if (user?.name && user.name.trim()) {\r\n      const nameParts = user.name.trim().split(\" \").filter(part => part.length > 0);\r\n      // Фамилия Имя Отчество -> lastName firstName middleName\r\n      const lastName = nameParts[0] || \"\";\r\n      const firstName = nameParts[1] || \"\";\r\n      const middleName = nameParts[2] || \"\";\r\n\r\n      return {\r\n        firstName: firstName || lastName, // Если имени нет, используем фамилию\r\n        lastName: lastName,\r\n        middleName: middleName,\r\n        fullName: user.name,\r\n        name: user.name,\r\n        email: user.email || \"\",\r\n        avatarUrl: user.avatar_url || null,\r\n      };\r\n    }\r\n\r\n    // Если пользователь загружен, но имени нет - используем логин или email\r\n    if (user) {\r\n      const displayName = user.login || user.email || \"Пользователь\";\r\n      return {\r\n        firstName: displayName,\r\n        lastName: \"\",\r\n        middleName: \"\",\r\n        fullName: displayName,\r\n        name: displayName,\r\n        email: user.email || \"\",\r\n        avatarUrl: user.avatar_url || null,\r\n      };\r\n    }\r\n\r\n    // Если пользователь еще не загружен - возвращаем пустые значения\r\n    return {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      middleName: \"\",\r\n      fullName: \"\",\r\n      name: \"\",\r\n      email: \"\",\r\n      avatarUrl: null,\r\n    };\r\n  };\r\n\r\n  const displayUser = getUserName();\r\n\r\n  // Получаем инициалы для аватара (первая буква имени + первая буква фамилии)\r\n  const getInitials = () => {\r\n    // В формате \"Фамилия Имя Отчество\": firstName = Имя, lastName = Фамилия\r\n    // Отображаем: первая буква Имени + первая буква Фамилии\r\n    if (displayUser.firstName && displayUser.lastName) {\r\n      return `${displayUser.firstName[0]}${displayUser.lastName[0]}`.toUpperCase();\r\n    }\r\n    if (displayUser.firstName) {\r\n      return displayUser.firstName[0].toUpperCase();\r\n    }\r\n    if (displayUser.lastName) {\r\n      return displayUser.lastName[0].toUpperCase();\r\n    }\r\n    return \"U\";\r\n  };\r\n\r\n  // Обработчик обновления профиля\r\n  const handleProfileUpdate = (updatedUser: UserData) => {\r\n    setUser(updatedUser);\r\n  };\r\n\r\n  // Обработчик открытия деталей материала\r\n  const handleMaterialClick = (material: Material) => {\r\n    setSelectedMaterial(material);\r\n    setShowMaterialDetailModal(true);\r\n  };\r\n\r\n  const handleLogoutClick = () => {\r\n    setShowLogoutDialog(true);\r\n  };\r\n\r\n  const handleLogoutConfirm = async () => {\r\n    setShowLogoutDialog(false);\r\n    await signOut({\r\n      callbackUrl: \"/\",\r\n      redirect: true\r\n    });\r\n  };\r\n\r\n  const handleSubscriptionSubmit = () => {\r\n    console.log(\"Subscription settings:\", subscriptionSettings);\r\n    setSubmitStatus(\"success\");\r\n    setTimeout(() => setSubmitStatus(\"idle\"), 3000);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setSubscriptionSettings(accountData.subscriptions.settings);\r\n  };\r\n\r\n  const handleContactSubmit = async () => {\r\n    setSendingLetter(true);\r\n    try {\r\n      const response = await fetch('/api/letters', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          subject: contactForm.subject,\r\n          content: contactForm.message,\r\n        }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        setSubmitStatus(\"success\");\r\n        setContactForm({ name: \"\", subject: \"\", message: \"\" });\r\n        await loadLetters(); // Reload letters to show the new one\r\n        alert.success('Письмо успешно отправлено главному врачу', 'Отправлено');\r\n        setTimeout(() => setSubmitStatus(\"idle\"), 3000);\r\n      } else {\r\n        const error = await response.json();\r\n        alert.error(error.error || 'Ошибка при отправке письма', 'Ошибка');\r\n        setSubmitStatus(\"error\");\r\n      }\r\n    } catch (error) {\r\n      alert.error('Произошла ошибка при отправке письма', 'Ошибка');\r\n      setSubmitStatus(\"error\");\r\n    } finally {\r\n      setSendingLetter(false);\r\n    }\r\n  };\r\n\r\n  const filteredMaterials = materials;\r\n\r\n  const renderSubscriptions = () => (\r\n    <div className=\"p-3 sm:p-4 lg:p-8 max-w-7xl mx-auto space-y-4 sm:space-y-6\" >\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-4 sm:p-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-[#18A36C] rounded-lg flex items-center justify-center flex-shrink-0\">\r\n            <Settings2 className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\r\n          </div>\r\n          <div>\r\n            <h2 className=\"text-lg sm:text-xl text-gray-800\">\r\n              Настройки подписки\r\n            </h2>\r\n            <p className=\"text-sm sm:text-base text-gray-600\">\r\n              Управляйте вашими подписками и уведомлениями\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Card className=\"border border-gray-200\">\r\n        <CardContent className=\"p-4 sm:p-6 space-y-4 sm:space-y-6\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"email\" className=\"text-gray-700 text-sm sm:text-base\">\r\n              Ваша почта\r\n            </Label>\r\n            <div className=\"relative\">\r\n              <Mail className=\"absolute left-3 top-3 w-5 h-5 text-gray-400\" />\r\n              <Input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                placeholder=\"Введите email\"\r\n                value={subscriptionSettings.email}\r\n                onChange={(e) =>\r\n                  setSubscriptionSettings({\r\n                    ...subscriptionSettings,\r\n                    email: e.target.value,\r\n                  })\r\n                }\r\n                className=\"pl-10 border-gray-300\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-3\">\r\n            <Label className=\"text-gray-700 text-sm sm:text-base\">\r\n              Рубрики подписки\r\n            </Label>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3\">\r\n              {subscriptionCategories.map((category) => (\r\n                <div\r\n                  key={category}\r\n                  className=\"flex items-center space-x-2\"\r\n                >\r\n                  <Checkbox\r\n                    id={category}\r\n                    checked={subscriptionSettings.categories.includes(\r\n                      category,\r\n                    )}\r\n                    onCheckedChange={(checked) => {\r\n                      if (checked) {\r\n                        setSubscriptionSettings({\r\n                          ...subscriptionSettings,\r\n                          categories: [\r\n                            ...subscriptionSettings.categories,\r\n                            category,\r\n                          ],\r\n                        });\r\n                      } else {\r\n                        setSubscriptionSettings({\r\n                          ...subscriptionSettings,\r\n                          categories:\r\n                            subscriptionSettings.categories.filter(\r\n                              (c) => c !== category,\r\n                            ),\r\n                        });\r\n                      }\r\n                    }}\r\n                  />\r\n                  <Label\r\n                    htmlFor={category}\r\n                    className=\"text-sm text-gray-700\"\r\n                  >\r\n                    {category}\r\n                  </Label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label className=\"text-gray-700 text-sm sm:text-base\">\r\n              Предпочтительный формат\r\n            </Label>\r\n            <Select\r\n              value={subscriptionSettings.format}\r\n              onValueChange={(value: \"text\" | \"html\") =>\r\n                setSubscriptionSettings({\r\n                  ...subscriptionSettings,\r\n                  format: value,\r\n                })\r\n              }\r\n            >\r\n              <SelectTrigger className=\"border-gray-300\">\r\n                <SelectValue placeholder=\"Выберите формат\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"text\">Текст</SelectItem>\r\n                <SelectItem value=\"html\">HTML</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div className=\"flex items-center space-x-2\">\r\n            <Checkbox\r\n              id=\"agreement\"\r\n              checked={subscriptionSettings.agreed}\r\n              onCheckedChange={(checked) =>\r\n                setSubscriptionSettings({\r\n                  ...subscriptionSettings,\r\n                  agreed: checked === true,\r\n                })\r\n              }\r\n            />\r\n            <Label\r\n              htmlFor=\"agreement\"\r\n              className=\"text-sm text-gray-700\"\r\n            >\r\n              Я согласен на обработку персональных данных\r\n            </Label>\r\n          </div>\r\n\r\n          <div className=\"flex flex-col sm:flex-row gap-3 sm:gap-4\">\r\n            <Button\r\n              onClick={handleSubscriptionSubmit}\r\n              disabled={!subscriptionSettings.agreed}\r\n              className=\"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white w-full sm:w-auto\"\r\n            >\r\n              Добавить\r\n            </Button>\r\n            <Button\r\n              onClick={handleReset}\r\n              variant=\"outline\"\r\n              className=\"border-gray-300 text-gray-700 w-full sm:w-auto\"\r\n            >\r\n              Сброс\r\n            </Button>\r\n          </div>\r\n\r\n          {submitStatus === \"success\" && (\r\n            <div className=\"flex items-center gap-2 text-green-600 bg-green-50 p-3 rounded-lg\">\r\n              <CheckCircle className=\"w-4 h-4\" />\r\n              <span className=\"text-sm\">\r\n                Настройки успешно сохранены!\r\n              </span>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"bg-gray-50 rounded-lg p-3 sm:p-4\">\r\n            <p className=\"text-xs sm:text-sm text-gray-600\">\r\n              После добавления или изменения адреса подписки вам\r\n              будет выслан код подтверждения. Подписка будет не\r\n              активной до ввода кода подтверждения.\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderMaterials = () => (\r\n    <div className=\"p-3 sm:p-4 lg:p-8 max-w-7xl mx-auto space-y-4 sm:space-y-6\">\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-4 sm:p-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-[#18A36C] rounded-lg flex items-center justify-center flex-shrink-0\">\r\n            <FileText className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\r\n          </div>\r\n          <div>\r\n            <h2 className=\"text-lg sm:text-xl text-gray-800\">\r\n              Материалы\r\n            </h2>\r\n            <p className=\"text-sm sm:text-base text-gray-600\">\r\n              Полезные материалы и информация для пациентов\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {materialsLoading ? (\r\n        <div className=\"text-center py-12\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#18A36C] mx-auto\"></div>\r\n          <p className=\"text-gray-600 mt-4\">Загрузка материалов...</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\r\n            {filteredMaterials.map((item) => (\r\n                <Card\r\n                  key={item.id}\r\n                  className=\"group hover:shadow-lg transition-all duration-300 border border-gray-200\"\r\n                >\r\n                  <div className=\"relative overflow-hidden rounded-t-lg\">\r\n                    <ImageWithFallback\r\n                      src={item.image}\r\n                      alt={item.title}\r\n                      className=\"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300\"\r\n                    />\r\n                    {isNewMaterial(item.dateRaw) && (\r\n                      <div className=\"absolute top-2 sm:top-4 left-2 sm:left-4 flex flex-wrap gap-1 sm:gap-2\">\r\n                        <Badge className=\"bg-orange-500 text-white text-xs\">\r\n                          Новое\r\n                        </Badge>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <CardContent className=\"p-4 sm:p-6\">\r\n                    <h3 className=\"text-base sm:text-lg text-gray-800 mb-2 group-hover:text-[#18A36C] transition-colors\">\r\n                      {item.title}\r\n                    </h3>\r\n                    <p className=\"text-xs sm:text-sm text-gray-600 mb-3 sm:mb-4 line-clamp-3\">\r\n                      {item.content}\r\n                    </p>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-gray-500\">\r\n                        <CalendarDays className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                        <span>{item.date}</span>\r\n                      </div>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleMaterialClick(item)}\r\n                        className=\"text-[#18A36C] hover:text-[#18A36C]/80 hover:bg-[#18A36C]/10 text-xs sm:text-sm px-2 sm:px-3\"\r\n                      >\r\n                        <Eye className=\"w-3 h-3 sm:w-4 sm:h-4 mr-1\" />\r\n                        Подробнее\r\n                      </Button>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              ))}\r\n          </div>\r\n\r\n          {/* Pagination for materials */}\r\n          {materialsTotal > MATERIALS_PER_PAGE && (\r\n            <Pagination\r\n              currentPage={materialsPage}\r\n              totalPages={Math.ceil(materialsTotal / MATERIALS_PER_PAGE)}\r\n              onPageChange={setMaterialsPage}\r\n              className=\"mt-8\"\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {!materialsLoading && filteredMaterials.length === 0 && (\r\n        <div className=\"text-center py-8 sm:py-12\">\r\n          <FileText className=\"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 mx-auto mb-3 sm:mb-4\" />\r\n          <h3 className=\"text-base sm:text-lg text-gray-800 mb-2\">\r\n            Материалы не найдены\r\n          </h3>\r\n          <p className=\"text-sm sm:text-base text-gray-600\">\r\n            В выбранном периоде нет доступных материалов\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const renderContact = () => (\r\n    <div className=\"p-3 sm:p-4 lg:p-8 max-w-7xl mx-auto space-y-4 sm:space-y-6\">\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-4 sm:p-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-[#18A36C] rounded-lg flex items-center justify-center flex-shrink-0\">\r\n            <MessageSquare className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\r\n          </div>\r\n          <div>\r\n            <h2 className=\"text-lg sm:text-xl text-gray-800\">\r\n              Написать глав.врачу\r\n            </h2>\r\n            <p className=\"text-sm sm:text-base text-gray-600\">\r\n              Свяжитесь с руководством клиники\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Blocked user warning */}\r\n      {user?.is_messages_blocked && (\r\n        <Card className=\"border border-red-200 bg-red-50\">\r\n          <CardContent className=\"p-4 sm:p-6\">\r\n            <div className=\"flex items-start sm:items-center gap-3\">\r\n              <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0\">\r\n                <Ban className=\"w-5 h-5 sm:w-6 sm:h-6 text-red-600\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-red-800 font-medium text-sm sm:text-base\">Отправка сообщений заблокирована</h3>\r\n                <p className=\"text-red-600 text-xs sm:text-sm\">\r\n                  Вы не можете отправлять письма главному врачу. Если вы считаете, что это ошибка, обратитесь в клинику по телефону.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Send new letter form */}\r\n      {!user?.is_messages_blocked && (\r\n        <Card className=\"border border-gray-200\">\r\n          <CardContent className=\"p-6 space-y-6\">\r\n            <div className=\"bg-gray-50 rounded-lg p-4\">\r\n              <p className=\"text-sm text-gray-600\">\r\n                {accountData.contact.description}\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label\r\n                  htmlFor=\"subject\"\r\n                  className=\"text-gray-700\"\r\n                >\r\n                  Тема письма <span className=\"text-gray-400 text-xs\">(мин. 3 символа)</span>\r\n                </Label>\r\n                <Input\r\n                  id=\"subject\"\r\n                  type=\"text\"\r\n                  placeholder=\"Тема сообщения\"\r\n                  value={contactForm.subject}\r\n                  onChange={(e) =>\r\n                    setContactForm({\r\n                      ...contactForm,\r\n                      subject: e.target.value,\r\n                    })\r\n                  }\r\n                  onBlur={() => validateLetterField('subject', contactForm.subject)}\r\n                  className={`border-gray-300 ${letterErrors.subject ? 'border-red-500' : ''}`}\r\n                />\r\n                {letterErrors.subject && (\r\n                  <p className=\"text-red-500 text-xs\">{letterErrors.subject}</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label\r\n                  htmlFor=\"message\"\r\n                  className=\"text-gray-700\"\r\n                >\r\n                  Сообщение <span className=\"text-gray-400 text-xs\">(мин. 10 символов)</span>\r\n                </Label>\r\n                <Textarea\r\n                  id=\"message\"\r\n                  placeholder=\"Ваше сообщение главному врачу...\"\r\n                  rows={6}\r\n                  value={contactForm.message}\r\n                  onChange={(e) =>\r\n                    setContactForm({\r\n                      ...contactForm,\r\n                      message: e.target.value,\r\n                    })\r\n                  }\r\n                  onBlur={() => validateLetterField('content', contactForm.message)}\r\n                  className={`border-gray-200 focus:border-[#18A36C] focus:ring-[#18A36C] focus:border-1${letterErrors.content ? 'border-red-500' : ''}`}\r\n                />\r\n                {letterErrors.content && (\r\n                  <p className=\"text-red-500 text-xs\">{letterErrors.content}</p>\r\n                )}\r\n                <p className=\"text-xs text-gray-400 text-right\">\r\n                  {contactForm.message.length}/5000\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <Button\r\n              onClick={handleContactSubmit}\r\n              className=\"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white cursor-pointer\"\r\n              disabled={\r\n                sendingLetter ||\r\n                !contactForm.subject ||\r\n                !contactForm.message ||\r\n                contactForm.subject.trim().length < 3 ||\r\n                contactForm.message.trim().length < 10 ||\r\n                Object.keys(letterErrors).length > 0\r\n              }\r\n            >\r\n              {sendingLetter ? (\r\n                <>\r\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                  Отправка...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Send className=\"w-4 h-4 mr-2\" />\r\n                  Отправить письмо\r\n                </>\r\n              )}\r\n            </Button>\r\n\r\n            {submitStatus === \"success\" && (\r\n              <div className=\"flex items-center gap-2 text-green-600 bg-green-50 p-3 rounded-lg\">\r\n                <CheckCircle className=\"w-4 h-4\" />\r\n                <span className=\"text-sm\">\r\n                  Письмо успешно отправлено!\r\n                </span>\r\n              </div>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Letters history */}\r\n      <div className=\"space-y-3 sm:space-y-4\">\r\n        <h3 className=\"text-base sm:text-lg text-gray-800 font-medium flex flex-wrap items-center gap-2\">\r\n          <Mail className=\"w-4 h-4 sm:w-5 sm:h-5 text-[#18A36C]\" />\r\n          Мои письма\r\n          {letters.filter(l => l.reply && !l.is_reply_read).length > 0 && (\r\n            <span className=\"px-2 py-0.5 bg-red-500 text-white text-xs rounded-full\">\r\n              {letters.filter(l => l.reply && !l.is_reply_read).length} новых\r\n            </span>\r\n          )}\r\n        </h3>\r\n\r\n        {lettersLoading ? (\r\n          <div className=\"text-center py-6 sm:py-8\">\r\n            <Loader2 className=\"w-6 h-6 sm:w-8 sm:h-8 animate-spin text-[#18A36C] mx-auto\" />\r\n            <p className=\"text-gray-600 mt-2 text-sm sm:text-base\">Загрузка писем...</p>\r\n          </div>\r\n        ) : letters.length === 0 ? (\r\n          <Card className=\"border border-gray-200\">\r\n            <CardContent className=\"p-6 sm:p-8 text-center\">\r\n              <Mail className=\"w-10 h-10 sm:w-12 sm:h-12 text-gray-300 mx-auto mb-3\" />\r\n              <p className=\"text-gray-500 text-sm sm:text-base\">У вас пока нет отправленных писем</p>\r\n            </CardContent>\r\n          </Card>\r\n        ) : (\r\n          <div className=\"space-y-2 sm:space-y-3\">\r\n            {letters.map((letter) => (\r\n              <Card\r\n                key={letter.id}\r\n                className={`border transition-all duration-200 ${letter.reply && !letter.is_reply_read\r\n                  ? 'border-[#18A36C] bg-[#18A36C]/5'\r\n                  : 'border-gray-200'\r\n                  }`}\r\n              >\r\n                <CardContent className=\"p-3 sm:p-4\">\r\n                  {/* Letter header */}\r\n                  <div\r\n                    className=\"flex items-start sm:items-center justify-between cursor-pointer gap-2\"\r\n                    onClick={() => {\r\n                      if (expandedLetterId === letter.id) {\r\n                        setExpandedLetterId(null);\r\n                      } else {\r\n                        setExpandedLetterId(letter.id);\r\n                        if (letter.reply && !letter.is_reply_read) {\r\n                          markReplyAsRead(letter.id);\r\n                        }\r\n                      }\r\n                    }}\r\n                  >\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex flex-wrap items-center gap-1 sm:gap-2 mb-1\">\r\n                        <h4 className=\"font-medium text-gray-800 text-sm sm:text-base truncate max-w-[150px] sm:max-w-none\">\r\n                          {letter.subject}\r\n                        </h4>\r\n                        {letter.reply ? (\r\n                          <Badge className=\"bg-[#18A36C] text-white text-xs\">\r\n                            Ответ\r\n                          </Badge>\r\n                        ) : (\r\n                          <Badge className=\"bg-amber-500 text-white text-xs flex items-center gap-1\">\r\n                            <Clock className=\"w-3 h-3\" />\r\n                            <span className=\"hidden sm:inline\">Ожидает</span>\r\n                          </Badge>\r\n                        )}\r\n                        {letter.reply && !letter.is_reply_read && (\r\n                          <span className=\"w-2 h-2 bg-red-500 rounded-full flex-shrink-0\" />\r\n                        )}\r\n                      </div>\r\n                      <p className=\"text-xs sm:text-sm text-gray-500\">\r\n                        {new Date(letter.created_at).toLocaleDateString('ru-RU', {\r\n                          day: 'numeric',\r\n                          month: 'short',\r\n                          year: 'numeric',\r\n                          hour: '2-digit',\r\n                          minute: '2-digit',\r\n                        })}\r\n                      </p>\r\n                    </div>\r\n                    <Button variant=\"ghost\" size=\"sm\" className=\"p-1 sm:p-2 flex-shrink-0\">\r\n                      {expandedLetterId === letter.id ? (\r\n                        <ChevronUp className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-400\" />\r\n                      ) : (\r\n                        <ChevronDown className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-400\" />\r\n                      )}\r\n                    </Button>\r\n                  </div>\r\n\r\n                  {/* Expanded content */}\r\n                  {expandedLetterId === letter.id && (\r\n                    <div className=\"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-100 space-y-3 sm:space-y-4\">\r\n                      {/* Original message */}\r\n                      <div>\r\n                        <p className=\"text-xs text-gray-500 mb-1 sm:mb-2 font-medium\">Ваше письмо:</p>\r\n                        <div className=\"bg-gray-50 rounded-lg p-2 sm:p-3\">\r\n                          <p className=\"text-xs sm:text-sm text-gray-700 whitespace-pre-wrap\">\r\n                            {letter.content}\r\n                          </p>\r\n                        </div>\r\n                        <p className=\"text-xs text-gray-400 mt-1\">\r\n                          {new Date(letter.created_at).toLocaleDateString('ru-RU', {\r\n                            day: 'numeric',\r\n                            month: 'short',\r\n                            hour: '2-digit',\r\n                            minute: '2-digit',\r\n                          })}\r\n                        </p>\r\n                      </div>\r\n\r\n                      {/* First reply from chief doctor - always show if exists */}\r\n                      {letter.reply && (\r\n                        <div>\r\n                          <p className=\"text-xs text-[#18A36C] mb-1 sm:mb-2 font-medium flex items-center gap-1\">\r\n                            <CheckCircle className=\"w-3 h-3\" />\r\n                            Ответ главного врача\r\n                          </p>\r\n                          <div className=\"bg-[#18A36C]/10 rounded-lg p-2 sm:p-3 border border-[#18A36C]/20\">\r\n                            <p className=\"text-xs sm:text-sm text-gray-700 whitespace-pre-wrap\">\r\n                              {letter.reply}\r\n                            </p>\r\n                          </div>\r\n                          <p className=\"text-xs text-gray-400 mt-1\">\r\n                            {letter.replied_at && new Date(letter.replied_at).toLocaleDateString('ru-RU', {\r\n                              day: 'numeric',\r\n                              month: 'short',\r\n                              hour: '2-digit',\r\n                              minute: '2-digit',\r\n                            })}\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Thread messages */}\r\n                      {letter.messages && letter.messages.map((msg) => (\r\n                        <div key={msg.id}>\r\n                          <p className={`text-xs mb-1 sm:mb-2 font-medium flex items-center gap-1 ${msg.sender_type === 'chief_doctor' ? 'text-[#18A36C]' : 'text-gray-500'}`}>\r\n                            {msg.sender_type === 'chief_doctor' ? (\r\n                              <>\r\n                                <CheckCircle className=\"w-3 h-3\" />\r\n                                Ответ главного врача\r\n                              </>\r\n                            ) : (\r\n                              'Ваше сообщение'\r\n                            )}\r\n                          </p>\r\n                          <div className={`rounded-lg p-2 sm:p-3 ${msg.sender_type === 'chief_doctor' ? 'bg-[#18A36C]/10 border border-[#18A36C]/20' : 'bg-gray-50'}`}>\r\n                            <p className=\"text-xs sm:text-sm text-gray-700 whitespace-pre-wrap\">\r\n                              {msg.content}\r\n                            </p>\r\n                          </div>\r\n                          <p className=\"text-xs text-gray-400 mt-1\">\r\n                            {new Date(msg.created_at).toLocaleDateString('ru-RU', {\r\n                              day: 'numeric',\r\n                              month: 'short',\r\n                              hour: '2-digit',\r\n                              minute: '2-digit',\r\n                            })}\r\n                          </p>\r\n                        </div>\r\n                      ))}\r\n\r\n                      {/* Reply form - only if chief doctor has responded and user is not blocked */}\r\n                      {letter.reply && !user?.is_messages_blocked && (\r\n                        <div className=\"pt-3 sm:pt-4 border-t border-gray-200\">\r\n                          <p className=\"text-xs text-gray-500 mb-1 sm:mb-2 font-medium\">Продолжить переписку:</p>\r\n                          <Textarea\r\n                            value={replyMessage}\r\n                            onChange={(e) => setReplyMessage(e.target.value)}\r\n                            placeholder=\"Напишите ваш ответ...\"\r\n                            className=\"min-h-[70px] sm:min-h-[80px] text-xs sm:text-sm border-gray-200 focus:border-[#18A36C] focus:ring-[#18A36C] focus:border-1\"\r\n                          />\r\n                          <div className=\"flex justify-end mt-2\">\r\n                            <Button\r\n                              onClick={() => sendReplyMessage(letter.id)}\r\n                              disabled={sendingReply || !replyMessage.trim()}\r\n                              className=\"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white w-full sm:w-auto text-sm\"\r\n                            >\r\n                              {sendingReply ? (\r\n                                <>\r\n                                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                  Отправка...\r\n                                </>\r\n                              ) : (\r\n                                <>\r\n                                  <Send className=\"w-4 h-4 mr-2\" />\r\n                                  Отправить\r\n                                </>\r\n                              )}\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      {/* Show blocked message in thread if user is blocked */}\r\n                      {letter.reply && user?.is_messages_blocked && (\r\n                        <div className=\"pt-3 sm:pt-4 border-t border-gray-200\">\r\n                          <div className=\"flex items-center gap-2 text-red-600 bg-red-50 p-2 sm:p-3 rounded-lg\">\r\n                            <Ban className=\"w-4 h-4 flex-shrink-0\" />\r\n                            <span className=\"text-xs sm:text-sm\">Отправка сообщений заблокирована</span>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Modern Welcome Dashboard\r\n  const renderWelcomeDashboard = () => (\r\n    <div className=\"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-4 sm:py-8\">\r\n      {/* Welcome Hero Section */}\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-4 sm:p-8 lg:p-12 mb-6 sm:mb-12\">\r\n        <div className=\"text-center lg:text-left\">\r\n          <div className=\"flex flex-col lg:flex-row items-center gap-8\">\r\n            {/* Avatar and Welcome Text */}\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex flex-col lg:flex-row items-center lg:items-start gap-6\">\r\n                <div className=\"w-20 h-20 lg:w-24 lg:h-24 aspect-square bg-[#18A36C] rounded-full flex items-center justify-center overflow-hidden border-4 border-gray-100 shadow-lg flex-shrink-0\">\r\n                  {displayUser.avatarUrl ? (\r\n                    <img\r\n                      src={displayUser.avatarUrl}\r\n                      alt=\"Avatar\"\r\n                      className=\"w-full h-full object-cover rounded-full\"\r\n                    />\r\n                  ) : (\r\n                    <span className=\"text-3xl text-white font-medium\">\r\n                      {getInitials()}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"text-center lg:text-left\">\r\n                  <div className=\"flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-2 sm:gap-3 mb-2\">\r\n                    <h1 className=\"text-xl sm:text-2xl lg:text-4xl text-gray-800\">\r\n                      Добро пожаловать, {displayUser.firstName || \"Пользователь\"}!\r\n                    </h1>\r\n                    {user?.role === 'ADMIN' && (\r\n                      <span className=\"inline-flex items-center gap-1 px-2 sm:px-3 py-1 bg-[#18A36C] text-white text-xs sm:text-sm rounded-full\">\r\n                        <Shield className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                        Админ\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <p className=\"text-gray-600 text-sm sm:text-base lg:text-lg\">\r\n                    Ваш персональный медицинский помощник\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Profile Information Section */}\r\n      <div className=\"mb-12\">\r\n        <Card className=\"border border-gray-200\">\r\n          <CardHeader className=\"border-b border-gray-200 bg-gray-50 p-4 sm:p-6\">\r\n            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-[#18A36C] rounded-lg flex items-center justify-center flex-shrink-0\">\r\n                  <User className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\r\n                </div>\r\n                <div>\r\n                  <CardTitle className=\"text-lg sm:text-xl text-gray-800\">\r\n                    Информация профиля\r\n                  </CardTitle>\r\n                  <p className=\"text-xs sm:text-sm text-gray-600 mt-1 hidden sm:block\">\r\n                    Ваши личные данные и настройки безопасности\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <Button\r\n                onClick={() => setShowEditProfileModal(true)}\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                className=\"border-[#18A36C] text-[#18A36C] w-full sm:w-auto hover:shadow-lg hover:shadow-[#18A36C]/20\"\r\n              >\r\n                <Edit3 className=\"w-4 h-4 mr-2\" />\r\n                Редактировать\r\n              </Button>\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              {/* Login */}\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-gray-600 text-sm flex items-center gap-2\">\r\n                  <AtSign className=\"w-4 h-4 text-[#18A36C]\" />\r\n                  Логин\r\n                </Label>\r\n                <div className=\"p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n                  <p className=\"text-gray-800 font-medium\">\r\n                    {user?.login || 'Не указан'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Email */}\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-gray-600 text-sm flex items-center gap-2\">\r\n                  <Mail className=\"w-4 h-4 text-[#18A36C]\" />\r\n                  Email\r\n                </Label>\r\n                <div className=\"p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n                  <p className=\"text-gray-800 font-medium\">\r\n                    {user?.email || 'Не указан'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Phone */}\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-gray-600 text-sm flex items-center gap-2\">\r\n                  <Phone className=\"w-4 h-4 text-[#18A36C]\" />\r\n                  Телефон\r\n                </Label>\r\n                <div className=\"p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n                  <p className=\"text-gray-800 font-medium\">\r\n                    {user?.phone || 'Не указан'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Registration Date */}\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-gray-600 text-sm flex items-center gap-2\">\r\n                  <CalendarDays className=\"w-4 h-4 text-[#18A36C]\" />\r\n                  Дата регистрации\r\n                </Label>\r\n                <div className=\"p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n                  <p className=\"text-gray-800 font-medium\">\r\n                    {user?.registration_date\r\n                      ? new Date(user.registration_date).toLocaleDateString('ru-RU', {\r\n                        year: 'numeric',\r\n                        month: 'long',\r\n                        day: 'numeric'\r\n                      })\r\n                      : 'Не указана'\r\n                    }\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Full Name */}\r\n              <div className=\"space-y-2 md:col-span-2\">\r\n                <Label className=\"text-gray-600 text-sm flex items-center gap-2\">\r\n                  <User className=\"w-4 h-4 text-[#18A36C]\" />\r\n                  Полное имя\r\n                </Label>\r\n                <div className=\"p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n                  <p className=\"text-gray-800 font-medium\">\r\n                    {user?.name || 'Не указано'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Quick Actions Grid */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-8 sm:mb-12\">\r\n        <Card\r\n          className=\"group cursor-pointer hover:shadow-xl transition-all duration-300 border border-gray-200 hover:border-[#18A36C]\"\r\n          onClick={() => navigate(\"/account/materials\")}\r\n        >\r\n          <CardContent className=\"p-4 sm:p-6\">\r\n            <div className=\"flex items-center gap-3 sm:gap-4 mb-3 sm:mb-4\">\r\n              <div className=\"w-12 h-12 sm:w-14 sm:h-14 bg-[#18A36C] rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300 flex-shrink-0\">\r\n                <FileText className=\"w-6 h-6 sm:w-7 sm:h-7 text-white\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-base sm:text-lg text-gray-800 mb-0.5 sm:mb-1\">\r\n                  Материалы\r\n                </h3>\r\n                <p className=\"text-xs sm:text-sm text-gray-600\">\r\n                  Специальные предложения\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center text-xs sm:text-sm text-[#18A36C]\">\r\n              <span>Просмотреть материалы</span>\r\n              <ChevronRight className=\"w-4 h-4 ml-[2.5px] group-hover:translate-x-1 transition-transform\" />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card\r\n          className=\"group cursor-pointer hover:shadow-xl transition-all duration-300 border border-gray-200 hover:border-[#18A36C]\"\r\n          onClick={() => navigate(\"/account/contact\")}\r\n        >\r\n          <CardContent className=\"p-4 sm:p-6\">\r\n            <div className=\"flex items-center gap-3 sm:gap-4 mb-3 sm:mb-4\">\r\n              <div className=\"w-12 h-12 sm:w-14 sm:h-14 bg-[#18A36C] rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300 flex-shrink-0\">\r\n                <MessageSquare className=\"w-6 h-6 sm:w-7 sm:h-7 text-white\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-base sm:text-lg text-gray-800 mb-0.5 sm:mb-1\">\r\n                  Связь с врачом\r\n                </h3>\r\n                <p className=\"text-xs sm:text-sm text-gray-600\">\r\n                  Написать главврачу\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center text-xs sm:text-sm text-[#18A36C]\">\r\n              <span>Отправить сообщение</span>\r\n              <ChevronRight className=\"w-4 h-4 ml-[2.5px] group-hover:translate-x-1 transition-transform\" />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Recent Materials Preview */}\r\n      <div className=\"mb-8 sm:mb-12\">\r\n        <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4 sm:mb-6\">\r\n          <h2 className=\"text-lg sm:text-xl lg:text-2xl text-gray-800\">\r\n            Последние материалы\r\n          </h2>\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => navigate(\"/account/materials\")}\r\n            className=\"text-[#18A36C] border-[#18A36C] hover:bg-[#18A36C] hover:text-white w-full sm:w-auto hover:shadow-lg hover:shadow-[#18A36C]/20\"\r\n          >\r\n            Смотреть все\r\n            <ChevronRight className=\"w-4 h-4 ml-[2.5px]\" />\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\r\n          {materials\r\n            .slice(0, 3)\r\n            .map((item) => (\r\n              <Card\r\n                key={item.id}\r\n                className=\"group hover:shadow-lg transition-all duration-300 border border-gray-200\"\r\n              >\r\n                <div className=\"relative overflow-hidden rounded-t-lg\">\r\n                  <ImageWithFallback\r\n                    src={item.image}\r\n                    alt={item.title}\r\n                    className=\"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300\"\r\n                  />\r\n                  <div className=\"absolute top-2 sm:top-4 left-2 sm:left-4 flex gap-1 sm:gap-2\">\r\n                    {isNewMaterial(item.dateRaw) && (\r\n                      <Badge className=\"bg-orange-500 text-white text-xs\">\r\n                        Новое\r\n                      </Badge>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <CardContent className=\"p-3 sm:p-4\">\r\n                  <h3 className=\"text-base sm:text-lg text-gray-800 mb-2 group-hover:text-[#18A36C] transition-colors line-clamp-2\">\r\n                    {item.title}\r\n                  </h3>\r\n                  <p className=\"text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3 line-clamp-2\">\r\n                    {item.content}\r\n                  </p>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-1 sm:gap-2 text-xs text-gray-500\">\r\n                      <CalendarDays className=\"w-3 h-3\" />\r\n                      <span>{item.date}</span>\r\n                    </div>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      onClick={() => handleMaterialClick(item)}\r\n                      className=\"text-[#18A36C] hover:text-[#18A36C]/80 hover:bg-[#18A36C]/10 p-1 sm:p-2 text-xs sm:text-sm\"\r\n                    >\r\n                      <Eye className=\"w-3 h-3 sm:w-4 sm:h-4 mr-1\" />\r\n                      Подробнее\r\n                    </Button>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Profile Management */}\r\n      <Card className=\"border border-gray-200\">\r\n        <CardContent className=\"p-4 sm:p-6\">\r\n          <div className=\"flex flex-col lg:flex-row items-center justify-between gap-4 sm:gap-6\">\r\n            <div className=\"flex flex-col sm:flex-row items-center gap-3 sm:gap-4 text-center sm:text-left w-full lg:w-auto\">\r\n              <div className=\"w-14 h-14 sm:w-16 sm:h-16 aspect-square bg-[#18A36C] rounded-full flex items-center justify-center overflow-hidden border-2 border-gray-100 shadow-md flex-shrink-0\">\r\n                {displayUser.avatarUrl ? (\r\n                  <img\r\n                    src={displayUser.avatarUrl}\r\n                    alt=\"Avatar\"\r\n                    className=\"w-full h-full object-cover rounded-full\"\r\n                  />\r\n                ) : (\r\n                  <span className=\"text-lg sm:text-xl text-white font-medium\">\r\n                    {getInitials()}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-base sm:text-xl text-gray-800 mb-0.5 sm:mb-1\">\r\n                  {displayUser.fullName || displayUser.name || \"Пользователь\"}\r\n                </h3>\r\n                <p className=\"text-sm sm:text-base text-gray-600 mb-0.5 sm:mb-1\">\r\n                  {displayUser.email || \"Email не указан\"}\r\n                </p>\r\n                <p className=\"text-xs sm:text-sm text-gray-500\">\r\n                  {user?.registration_date\r\n                    ? `Участник с ${new Date(user.registration_date).getFullYear()} года`\r\n                    : \"Участник\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex flex-col w-full sm:w-auto sm:flex-row gap-2 sm:gap-3\">\r\n              <Button\r\n                onClick={() => setShowEditProfileModal(true)}\r\n                variant=\"outline\"\r\n                className=\"text-gray-700 border-gray-300 w-full sm:w-auto text-sm\"\r\n              >\r\n                <Edit3 className=\"w-4 h-4 mr-[2.5px]\" />\r\n                Редактировать\r\n              </Button>\r\n              <Button\r\n                onClick={() => setShowChangePasswordModal(true)}\r\n                variant=\"outline\"\r\n                className=\"text-[#18A36C] border-[#18A36C] hover:bg-[#18A36C] hover:text-white w-full sm:w-auto text-sm hover:shadow-lg hover:shadow-[#18A36C]/20\"\r\n              >\r\n                <Lock className=\"w-4 h-4 mr-[2.5px]\" />\r\n                Пароль\r\n              </Button>\r\n              <Button\r\n                onClick={handleLogoutClick}\r\n                variant=\"outline\"\r\n                className=\"text-red-600 border-red-300 w-full sm:w-auto text-sm\"\r\n              >\r\n                <LogOut className=\"w-4 h-4 mr-[2.5px]\" />\r\n                Выйти\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Dialog open={showLogoutDialog} onOpenChange={setShowLogoutDialog}>\r\n        <DialogContent className=\"sm:max-w-md border-0\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-xl text-[#2E2E2E]\">\r\n              Подтверждение выхода\r\n            </DialogTitle>\r\n            <DialogDescription className=\"text-gray-600 pt-2\">\r\n              Вы уверены, что хотите выйти из аккаунта?\r\n              <br />\r\n              Вам потребуется войти снова для доступа к личному кабинету.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <DialogFooter className=\"flex flex-col sm:flex-row gap-3 sm:gap-2 pt-4\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setShowLogoutDialog(false)}\r\n              className=\"w-full sm:w-auto border-gray-300 text-[#2E2E2E]\"\r\n            >\r\n              Отмена\r\n            </Button>\r\n            <Button\r\n              onClick={handleLogoutConfirm}\r\n              className=\"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white\"\r\n            >\r\n              <LogOut className=\"w-4 h-4 mr-2\" />\r\n              Выйти\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Change Password Modal */}\r\n      <ChangePasswordModal\r\n        isOpen={showChangePasswordModal}\r\n        onClose={() => setShowChangePasswordModal(false)}\r\n      />\r\n\r\n      {/* Edit Profile Modal */}\r\n      <EditProfileModal\r\n        isOpen={showEditProfileModal}\r\n        onClose={() => setShowEditProfileModal(false)}\r\n        user={user}\r\n        onProfileUpdate={handleProfileUpdate}\r\n      />\r\n\r\n      {/* Material Detail Modal */}\r\n      <MaterialDetailModal\r\n        isOpen={showMaterialDetailModal}\r\n        onClose={() => {\r\n          setShowMaterialDetailModal(false);\r\n          setSelectedMaterial(null);\r\n        }}\r\n        material={selectedMaterial}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  // Show skeleton during initial loading\r\n  if (isLoading) {\r\n    if (activeSection === \"materials\") {\r\n      return <MaterialsPageSkeleton />;\r\n    }\r\n    if (activeSection === \"contact\") {\r\n      return <ContactSkeleton />;\r\n    }\r\n    return <WelcomeDashboardSkeleton />;\r\n  }\r\n\r\n  // Render based on activeSection\r\n  if (activeSection === \"materials\") {\r\n    return renderMaterials();\r\n  }\r\n  if (activeSection === \"contact\") {\r\n    return renderContact();\r\n  }\r\n  // Default: show welcome dashboard\r\n  return renderWelcomeDashboard();\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 8399, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/common/SMSheet/SMSheet.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\";\r\nimport { XIcon } from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nimport { cn } from \"../SMUtils/SMUtils\";\r\n\r\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\r\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />;\r\n}\r\n\r\nfunction SheetTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\r\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />;\r\n}\r\n\r\nfunction SheetClose({\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Close>) {\r\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />;\r\n}\r\n\r\nfunction SheetPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Portal>) {\r\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />;\r\n}\r\n\r\n// Animation variants for overlay\r\nconst overlayVariants = {\r\n  hidden: { opacity: 0 },\r\n  visible: { opacity: 1 },\r\n};\r\n\r\n// Animation variants for different sides\r\nconst slideVariants = {\r\n  left: {\r\n    hidden: { x: \"-100%\" },\r\n    visible: { x: 0 },\r\n  },\r\n  right: {\r\n    hidden: { x: \"100%\" },\r\n    visible: { x: 0 },\r\n  },\r\n  top: {\r\n    hidden: { y: \"-100%\" },\r\n    visible: { y: 0 },\r\n  },\r\n  bottom: {\r\n    hidden: { y: \"100%\" },\r\n    visible: { y: 0 },\r\n  },\r\n};\r\n\r\nfunction SheetContent({\r\n  className,\r\n  children,\r\n  side = \"right\",\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\r\n  side?: \"top\" | \"right\" | \"bottom\" | \"left\";\r\n}) {\r\n  return (\r\n    <SheetPortal>\r\n      {/* Animated Overlay */}\r\n      <SheetPrimitive.Overlay asChild>\r\n        <motion.div\r\n          data-slot=\"sheet-overlay\"\r\n          className=\"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm\"\r\n          initial=\"hidden\"\r\n          animate=\"visible\"\r\n          exit=\"hidden\"\r\n          variants={overlayVariants}\r\n          transition={{ duration: 0.3, ease: \"easeOut\" }}\r\n        />\r\n      </SheetPrimitive.Overlay>\r\n\r\n      {/* Animated Content */}\r\n      <SheetPrimitive.Content asChild {...props}>\r\n        <motion.div\r\n          data-slot=\"sheet-content\"\r\n          className={cn(\r\n            \"bg-background fixed z-50 flex flex-col shadow-2xl\",\r\n            side === \"right\" && \"inset-y-0 right-0 h-full w-3/4 border-none sm:max-w-sm\",\r\n            side === \"left\" && \"inset-y-0 left-0 h-full w-3/4 border-none sm:max-w-sm\",\r\n            side === \"top\" && \"inset-x-0 top-0 h-auto border-b\",\r\n            side === \"bottom\" && \"inset-x-0 bottom-0 h-auto border-t\",\r\n            className,\r\n          )}\r\n          initial=\"hidden\"\r\n          animate=\"visible\"\r\n          exit=\"hidden\"\r\n          variants={slideVariants[side]}\r\n          transition={{\r\n            type: \"spring\",\r\n            damping: 30,\r\n            stiffness: 300,\r\n            mass: 0.8,\r\n          }}\r\n        >\r\n          {children}\r\n          <SheetPrimitive.Close className=\"ring-offset-background focus:ring-ring absolute top-4 right-4 rounded-full w-8 h-8 flex items-center justify-center bg-gray-100 hover:bg-gray-200 transition-all duration-200 hover:scale-110 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none z-10\">\r\n            <XIcon className=\"size-4 text-gray-600\" />\r\n            <span className=\"sr-only\">Close</span>\r\n          </SheetPrimitive.Close>\r\n        </motion.div>\r\n      </SheetPrimitive.Content>\r\n    </SheetPortal>\r\n  );\r\n}\r\n\r\nfunction SheetHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sheet-header\"\r\n      className={cn(\"flex flex-col gap-1.5 p-4\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SheetFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sheet-footer\"\r\n      className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SheetTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Title>) {\r\n  return (\r\n    <SheetPrimitive.Title\r\n      data-slot=\"sheet-title\"\r\n      className={cn(\"text-foreground font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SheetDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\r\n  return (\r\n    <SheetPrimitive.Description\r\n      data-slot=\"sheet-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport {\r\n  Sheet,\r\n  SheetTrigger,\r\n  SheetClose,\r\n  SheetContent,\r\n  SheetHeader,\r\n  SheetFooter,\r\n  SheetTitle,\r\n  SheetDescription,\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 8669, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/components/SMAccount/SMNavigableAccountMenu.tsx"],"sourcesContent":["'use client';\r\nimport { useState } from 'react';\r\nimport { ChevronRight, ChevronDown, Settings, FileText, MessageSquare, LogOut, Menu, X, User } from 'lucide-react';\r\nimport { Button } from '../common/SMButton/SMButton';\r\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetDescription, SheetTrigger, SheetClose } from '../common/SMSheet/SMSheet';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '../common/SMDialog/SMDialog';\r\nimport { useRouter } from '../SMRouter/SMRouter';\r\nimport { useMenu } from '../SMMenuContext/SMMenuContext';\r\nimport { signOut } from 'next-auth/react';\r\n\r\ninterface MenuItem {\r\n  id: string;\r\n  title: string;\r\n  icon?: React.ReactNode;\r\n  children?: MenuItem[];\r\n  isAction?: boolean;\r\n}\r\n\r\nconst menuData: MenuItem[] = [\r\n  {\r\n    id: 'materials',\r\n    title: 'Материалы',\r\n    icon: <FileText className=\"w-4 h-4\" />,\r\n    children: []\r\n  },\r\n  {\r\n    id: 'contact',\r\n    title: 'Написать глав.врачу',\r\n    icon: <MessageSquare className=\"w-4 h-4\" />,\r\n    children: []\r\n  },\r\n  {\r\n    id: 'logout',\r\n    title: 'Выйти',\r\n    icon: <LogOut className=\"w-4 h-4\" />,\r\n    children: [],\r\n    isAction: true\r\n  }\r\n];\r\n\r\ninterface MenuItemComponentProps {\r\n  item: MenuItem;\r\n  level: number;\r\n  expandedItems: Set<string>;\r\n  setExpandedItems: (items: Set<string>) => void;\r\n  selectedItem: string | null;\r\n  onItemClick: (item: MenuItem) => void;\r\n}\r\n\r\nfunction MenuItemComponent({ \r\n  item, \r\n  level, \r\n  expandedItems, \r\n  setExpandedItems, \r\n  selectedItem,\r\n  onItemClick \r\n}: MenuItemComponentProps) {\r\n  const hasChildren = item.children && item.children.length > 0;\r\n  const isExpanded = expandedItems.has(item.id);\r\n  const isSelected = selectedItem === item.id;\r\n\r\n  const handleToggle = () => {\r\n    if (hasChildren) {\r\n      const newExpanded = new Set(expandedItems);\r\n      if (isExpanded) {\r\n        newExpanded.delete(item.id);\r\n      } else {\r\n        newExpanded.add(item.id);\r\n      }\r\n      setExpandedItems(newExpanded);\r\n    } else {\r\n      onItemClick(item);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={level === 0 ? 'mb-1' : ''}>\r\n      <button\r\n        onClick={handleToggle}\r\n        className={`w-full flex items-center justify-between px-4 py-3 text-left transition-all duration-300 group rounded-lg mx-1 cursor-pointer ${\r\n          isSelected\r\n            ? 'bg-[#18A36C]/10 text-[#18A36C] shadow-sm'\r\n            : 'hover:bg-gray-50'\r\n        } ${level > 0 ? 'ml-6 border-l-2 border-gray-200' : ''} ${\r\n          item.isAction ? 'hover:bg-red-50' : ''\r\n        }`}\r\n        style={{ width: 'calc(100% - 8px)' }}\r\n      >\r\n        <div className=\"flex items-center gap-3\">\r\n          {item.icon && (\r\n            <div className={`flex-shrink-0 transition-all duration-300 ${\r\n              isSelected\r\n                ? 'text-[#18A36C] scale-110'\r\n                : 'text-gray-500 group-hover:text-[#18A36C] group-hover:scale-110'\r\n            } ${item.isAction ? 'text-red-500 group-hover:text-red-600' : ''}`}>\r\n              {item.icon}\r\n            </div>\r\n          )}\r\n          <span className={`font-medium transition-colors duration-300 ${\r\n            isSelected ? 'text-[#18A36C]' : 'text-gray-700 group-hover:text-[#18A36C]'\r\n          } ${item.isAction ? 'text-red-500 group-hover:text-red-600' : ''}`}>\r\n            {item.title}\r\n          </span>\r\n        </div>\r\n        {hasChildren && (\r\n          <div className={`flex-shrink-0 transition-all duration-300 ${\r\n            isSelected ? 'text-[#18A36C]' : 'text-gray-400 group-hover:text-[#18A36C]'\r\n          }`}>\r\n            {isExpanded ? <ChevronDown className=\"w-4 h-4\" /> : <ChevronRight className=\"w-4 h-4\" />}\r\n          </div>\r\n        )}\r\n      </button>\r\n\r\n      {hasChildren && isExpanded && (\r\n        <div className=\"ml-4\">\r\n          {item.children!.map((child) => (\r\n            <MenuItemComponent\r\n              key={child.id}\r\n              item={child}\r\n              level={level + 1}\r\n              expandedItems={expandedItems}\r\n              setExpandedItems={setExpandedItems}\r\n              selectedItem={selectedItem}\r\n              onItemClick={onItemClick}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function NavigableAccountMenu() {\r\n  const [expandedItems, setExpandedItems] = useState<Set<string>>(new Set());\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const [showLogoutDialog, setShowLogoutDialog] = useState(false);\r\n  const { navigate, currentRoute } = useRouter();\r\n  const { isBurgerMenuOpen } = useMenu();\r\n\r\n  // Sync selectedItem with URL\r\n  const pathParts = currentRoute.replace(/^\\/+|\\/+$/g, '').split('/');\r\n  let sectionFromUrl = '';\r\n  if (pathParts[0] === 'account') {\r\n    sectionFromUrl = pathParts[1] || '';\r\n  }\r\n  const selectedItem = sectionFromUrl && ['materials', 'contact'].includes(sectionFromUrl)\r\n    ? sectionFromUrl\r\n    : null;\r\n\r\n  const handleItemClick = async (item: MenuItem) => {\r\n    if (item.isAction && item.id === 'logout') {\r\n      setMobileMenuOpen(false);\r\n      setShowLogoutDialog(true);\r\n      return;\r\n    }\r\n    \r\n    navigate(`/account/${item.id}`);\r\n    setMobileMenuOpen(false);\r\n  };\r\n\r\n  const handleLogoutConfirm = async () => {\r\n    setShowLogoutDialog(false);\r\n    await signOut({ \r\n      callbackUrl: \"/\",\r\n      redirect: true \r\n    });\r\n  };\r\n\r\n  const handleHeaderClick = () => {\r\n    // Если находимся в подразделе, возвращаемся на главную страницу аккаунта\r\n    if (sectionFromUrl) {\r\n      navigate('/account');\r\n      setMobileMenuOpen(false);\r\n    }\r\n  };\r\n\r\n  const MenuContent = ({ onItemClick: onItemClickProp }: { onItemClick?: (item: MenuItem) => void }) => (\r\n    <div className=\"bg-white h-full flex flex-col\">\r\n      {/* Header with gradient accent */}\r\n      <div className=\"p-4 lg:p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50\">\r\n        <button\r\n          onClick={handleHeaderClick}\r\n          className={`w-full flex items-center gap-3 transition-all duration-300 ${\r\n            sectionFromUrl\r\n              ? 'cursor-pointer hover:bg-[#18A36C]/5 rounded-xl p-3 -m-3'\r\n              : 'cursor-default p-3 -m-3'\r\n          }`}\r\n          disabled={!sectionFromUrl}\r\n        >\r\n          <div className=\"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-xl flex items-center justify-center flex-shrink-0 shadow-md\">\r\n            <User className=\"w-6 h-6 text-white\" />\r\n          </div>\r\n          <div className=\"text-left flex-1\">\r\n            <h2 className={`text-lg lg:text-xl font-semibold transition-colors duration-300 ${\r\n              sectionFromUrl\r\n                ? 'text-[#18A36C]'\r\n                : 'text-gray-800'\r\n            }`}>\r\n              Личный кабинет\r\n            </h2>\r\n            <p className=\"text-xs lg:text-sm text-gray-500 mt-0.5\">Управление аккаунтом</p>\r\n          </div>\r\n          {sectionFromUrl && (\r\n            <ChevronRight className=\"w-5 h-5 text-[#18A36C] flex-shrink-0 transition-transform duration-300 group-hover:translate-x-1\" />\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Navigation items */}\r\n      <div className=\"flex-1 overflow-y-auto\">\r\n        <nav className=\"py-4 px-2\">\r\n          {menuData.map((item) => (\r\n            <MenuItemComponent\r\n              key={item.id}\r\n              item={item}\r\n              level={0}\r\n              expandedItems={expandedItems}\r\n              setExpandedItems={setExpandedItems}\r\n              selectedItem={selectedItem}\r\n              onItemClick={onItemClickProp || handleItemClick}\r\n            />\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <div className=\"p-4 border-t border-gray-100 bg-gradient-to-r from-gray-50 to-white\">\r\n        <p className=\"text-xs text-gray-500 text-center font-medium\">\r\n          Doctor Family © 2025\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className=\"hidden lg:block w-80 flex-shrink-0 sticky top-[80px] h-[calc(100vh-80px)] overflow-y-auto bg-white border-r border-gray-200 shadow-lg\">\r\n        <MenuContent />\r\n      </div>\r\n\r\n      <div className=\"lg:hidden fixed top-24 left-4 z-50\">\r\n        <Sheet open={mobileMenuOpen && !isBurgerMenuOpen} onOpenChange={(open) => !isBurgerMenuOpen && setMobileMenuOpen(open)}>\r\n          <SheetTrigger asChild>\r\n            <Button\r\n              size=\"sm\"\r\n              disabled={isBurgerMenuOpen}\r\n              className=\"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white shadow-xl rounded-full w-14 h-14 p-0 transition-all duration-300 hover:scale-110 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              <User className=\"w-6 h-6\" />\r\n            </Button>\r\n          </SheetTrigger>\r\n          <SheetContent side=\"left\" className=\"w-80 p-0\">\r\n            <SheetHeader className=\"sr-only\">\r\n              <SheetTitle>Личный кабинет</SheetTitle>\r\n              <SheetDescription>Управление аккаунтом и настройками</SheetDescription>\r\n            </SheetHeader>\r\n            <MenuContent onItemClick={handleItemClick} />\r\n          </SheetContent>\r\n        </Sheet>\r\n      </div>\r\n\r\n      <Dialog open={showLogoutDialog} onOpenChange={setShowLogoutDialog}>\r\n        <DialogContent className=\"sm:max-w-md border-0\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-xl text-[#2E2E2E]\">\r\n              Подтверждение выхода\r\n            </DialogTitle>\r\n            <DialogDescription className=\"text-gray-600 pt-2\">\r\n              Вы уверены, что хотите выйти из аккаунта?\r\n              <br />\r\n              Вам потребуется войти снова для доступа к личному кабинету.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <DialogFooter className=\"flex flex-col sm:flex-row gap-3 sm:gap-2 pt-4\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setShowLogoutDialog(false)}\r\n              className=\"w-full sm:w-auto border-gray-300 text-[#2E2E2E] hover:bg-gray-50\"\r\n            >\r\n              Отмена\r\n            </Button>\r\n            <Button\r\n              onClick={handleLogoutConfirm}\r\n              className=\"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white\"\r\n            >\r\n              <LogOut className=\"w-4 h-4 mr-2\" />\r\n              Выйти\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 9196, "column": 0}, "map": {"version":3,"sources":["file:///C:/Study/commercial-projects/smartmedical/src/app/account/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { SMAccountPage } from \"@/components/SMAccount/SMAccountPage\";\r\nimport { AccountContent } from \"@/components/SMAccount/SMAccountContent\";\r\nimport { NavigableAccountMenu } from \"@/components/SMAccount/SMNavigableAccountMenu\";\r\nimport { useRouter } from \"@/components/SMRouter/SMRouter\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport { useEffect } from \"react\";\r\nimport { useRouter as useNextRouter } from \"next/navigation\";\r\n\r\nexport default function Account() {\r\n  const { data: session, status } = useSession();\r\n  const { currentRoute } = useRouter();\r\n  const nextRouter = useNextRouter();\r\n  const pathParts = currentRoute.replace(/^\\/+|\\/+$/g, '').split('/');\r\n\r\n  let sectionId = '';\r\n  if (pathParts[0] === 'account') {\r\n    sectionId = pathParts[1] || '';\r\n  }\r\n\r\n  const accountContentSections = ['subscriptions', 'materials', 'contact'];\r\n  const showAccountContent = !sectionId || accountContentSections.includes(sectionId);\r\n\r\n  // Redirect to home if not authenticated\r\n  useEffect(() => {\r\n    if (status === 'unauthenticated') {\r\n      nextRouter.push('/');\r\n    }\r\n  }, [status, nextRouter]);\r\n\r\n  // Show loading while checking auth\r\n  if (status === 'loading') {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#18A36C]\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Don't render anything if not authenticated (will redirect)\r\n  if (status === 'unauthenticated') {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen\">\r\n      <NavigableAccountMenu />\r\n      <div className=\"flex-1\">\r\n        {showAccountContent ? (\r\n          <AccountContent />\r\n        ) : (\r\n          <SMAccountPage />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUe,SAAS;;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,+JAAU;IAC5C,MAAM,EAAE,YAAY,EAAE,GAAG,IAAA,0JAAS;IAClC,MAAM,aAAa,IAAA,kJAAa;IAChC,MAAM,YAAY,aAAa,OAAO,CAAC,cAAc,IAAI,KAAK,CAAC;IAE/D,IAAI,YAAY;IAChB,IAAI,SAAS,CAAC,EAAE,KAAK,WAAW;QAC9B,YAAY,SAAS,CAAC,EAAE,IAAI;IAC9B;IAEA,MAAM,yBAAyB;QAAC;QAAiB;QAAa;KAAU;IACxE,MAAM,qBAAqB,CAAC,aAAa,uBAAuB,QAAQ,CAAC;IAEzE,wCAAwC;IACxC,IAAA,0KAAS;6BAAC;YACR,IAAI,WAAW,mBAAmB;gBAChC,WAAW,IAAI,CAAC;YAClB;QACF;4BAAG;QAAC;QAAQ;KAAW;IAEvB,mCAAmC;IACnC,IAAI,WAAW,WAAW;QACxB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,6DAA6D;IAC7D,IAAI,WAAW,mBAAmB;QAChC,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,oLAAoB;;;;;0BACrB,6LAAC;gBAAI,WAAU;0BACZ,mCACC,6LAAC,wKAAc;;;;yCAEf,6LAAC,oKAAa;;;;;;;;;;;;;;;;AAKxB;GA/CwB;;QACY,+JAAU;QACnB,0JAAS;QACf,kJAAa;;;KAHV","debugId":null}}]
}