[00:00:24.234] Server  LOG      ✓ Ready in 15.5s
[00:01:11.915] Server  LOG      ○ Compiling / ...
[00:05:17.280] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:05:17.489] Browser LOG     Fetching feedbacks with limit: 3
[00:05:19.877] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].contacts.findFirst()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__6b3d5181._.js:83:170\n\n  80 async function GET(request) {\n  81     try {\n  82         // Get the first (and likely only) contact record\n→ 83         const contacts = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].contacts.findFirst(\nCan't reach database server at `ep-dark-cherry-agu2qa9q-pooler.c-2.eu-central-1.aws.neon.tech:5432`\n\nPlease make sure your database server is running at `ep-dark-cherry-agu2qa9q-pooler.c-2.eu-central-1.aws.neon.tech:5432`."
[00:05:20.239] Server  ERROR   Error fetching contacts: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].contacts.findFirst()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__6b3d5181._.js:83:170

  80 async function GET(request) {
  81     try {
  82         // Get the first (and likely only) contact record
→ 83         const contacts = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].contacts.findFirst(
Can't reach database server at `ep-dark-cherry-agu2qa9q-pooler.c-2.eu-central-1.aws.neon.tech:5432`

Please make sure your database server is running at `ep-dark-cherry-agu2qa9q-pooler.c-2.eu-central-1.aws.neon.tech:5432`.
[00:05:20.253] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:20.293] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].contacts.findFirst()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__6b3d5181._.js:83:170\n\n  80 async function GET(request) {\n  81     try {\n  82         // Get the first (and likely only) contact record\n→ 83         const contacts = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].contacts.findFirst(\nCan't reach database server at `ep-dark-cherry-agu2qa9q-pooler.c-2.eu-central-1.aws.neon.tech:5432`\n\nPlease make sure your database server is running at `ep-dark-cherry-agu2qa9q-pooler.c-2.eu-central-1.aws.neon.tech:5432`."
[00:05:20.466] Server  ERROR   Error fetching contacts: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].contacts.findFirst()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__6b3d5181._.js:83:170

  80 async function GET(request) {
  81     try {
  82         // Get the first (and likely only) contact record
→ 83         const contacts = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].contacts.findFirst(
Can't reach database server at `ep-dark-cherry-agu2qa9q-pooler.c-2.eu-central-1.aws.neon.tech:5432`

Please make sure your database server is running at `ep-dark-cherry-agu2qa9q-pooler.c-2.eu-central-1.aws.neon.tech:5432`.
[00:05:20.470] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:05:20.583] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:05:20.589] Browser LOG     Response status: 200
[00:05:20.589] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:05:20.642] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:05:27.016] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"login\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"password\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"phone\", \"public\".\"patients\".\"registration_date\", \"public\".\"patients\".\"avatar_url\", \"public\".\"patients\".\"role\"::text, \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"login\" = $1 LIMIT $2 OFFSET $3"
[00:05:27.997] Server  LOG     prisma:error "Error in PostgreSQL connection: Error { kind: Io, cause: Some(Os { code: 10054, kind: ConnectionReset, message: \"Удаленный хост принудительно разорвал существующее подключение.\" }) }"
[00:05:27.998] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:05:28.001] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].operatorChat.findFirst()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__7dc25b71._.js:137:170\n\n  134 }\n  135 const userId = parseInt(token.id);\n  136 // Ищем активный чат пользователя с непрочитанными сообщениями\n→ 137 const chat = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].operatorChat.findFirst(\nServer has closed the connection."
[00:05:28.224] Server  ERROR   Error checking patient chat unread: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].operatorChat.findFirst()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__7dc25b71._.js:137:170

  134 }
  135 const userId = parseInt(token.id);
  136 // Ищем активный чат пользователя с непрочитанными сообщениями
→ 137 const chat = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].operatorChat.findFirst(
Server has closed the connection.
[00:05:29.844] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:05:29.845] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:29.847] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].letter.findMany()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__60bd7fec._.js:139:182\n\n  136 }\n  137 const userId = parseInt(token.id);\n  138 // Находим письма с непрочитанными ответами (первый ответ)\n→ 139 const lettersWithUnreadReply = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].letter.findMany(\nServer has closed the connection."
[00:05:30.063] Server  ERROR   Error fetching unread replies: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].letter.findMany()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__60bd7fec._.js:139:182

  136 }
  137 const userId = parseInt(token.id);
  138 // Находим письма с непрочитанными ответами (первый ответ)
→ 139 const lettersWithUnreadReply = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].letter.findMany(
Server has closed the connection.
[00:05:30.075] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].patient.findUnique()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__0b497969._.js:139:165\n\n  136 }\n  137 const userId = parseInt(token.id);\n  138 // Проверяем, не заблокирован ли пользователь\n→ 139 const user = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].patient.findUnique(\nServer has closed the connection."
[00:05:30.262] Server  ERROR   Error fetching patient chat: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].patient.findUnique()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__0b497969._.js:139:165

  136 }
  137 const userId = parseInt(token.id);
  138 // Проверяем, не заблокирован ли пользователь
→ 139 const user = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].patient.findUnique(
Server has closed the connection.
[00:05:30.268] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:30.271] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:30.274] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].patient.findUnique()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__872d0819._.js:139:165\n\n  136 }\n  137 const userId = parseInt(token.id);\n  138 // Проверяем роль пользователя\n→ 139 const user = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].patient.findUnique(\nServer has closed the connection."
[00:05:30.479] Server  ERROR   Error fetching unread letters: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].patient.findUnique()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__872d0819._.js:139:165

  136 }
  137 const userId = parseInt(token.id);
  138 // Проверяем роль пользователя
→ 139 const user = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].patient.findUnique(
Server has closed the connection.
[00:05:30.710] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:30.935] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:31.014] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:31.016] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__5a7a643c._.js:104:151\n\n  101     skip,\n  102     take: limit\n  103 }),\n→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count(\nServer has closed the connection."
[00:05:31.188] Server  ERROR   Get materials error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__5a7a643c._.js:104:151

  101     skip,
  102     take: limit
  103 }),
→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count(
Server has closed the connection.
[00:05:31.274] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"login\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"phone\", \"public\".\"patients\".\"registration_date\", \"public\".\"patients\".\"avatar_url\", \"public\".\"patients\".\"role\"::text, \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:31.277] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].patient.findUnique()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__7427b5aa._.js:139:165\n\n  136     });\n  137 }\n  138 const userId = parseInt(token.id);\n→ 139 const user = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].patient.findUnique(\nServer has closed the connection."
[00:05:31.476] Server  ERROR   Get user error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].patient.findUnique()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__7427b5aa._.js:139:165

  136     });
  137 }
  138 const userId = parseInt(token.id);
→ 139 const user = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].patient.findUnique(
Server has closed the connection.
[00:05:31.491] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:31.491] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:31.495] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__5a7a643c._.js:104:151\n\n  101     skip,\n  102     take: limit\n  103 }),\n→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count(\nServer has closed the connection."
[00:05:31.664] Server  ERROR   Get materials error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__5a7a643c._.js:104:151

  101     skip,
  102     take: limit
  103 }),
→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count(
Server has closed the connection.
[00:05:31.688] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"login\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"phone\", \"public\".\"patients\".\"registration_date\", \"public\".\"patients\".\"avatar_url\", \"public\".\"patients\".\"role\"::text, \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:31.689] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:31.690] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].patient.findUnique()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__7427b5aa._.js:139:165\n\n  136     });\n  137 }\n  138 const userId = parseInt(token.id);\n→ 139 const user = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].patient.findUnique(\nServer has closed the connection."
[00:05:31.858] Server  ERROR   Get user error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].patient.findUnique()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__7427b5aa._.js:139:165

  136     });
  137 }
  138 const userId = parseInt(token.id);
→ 139 const user = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].patient.findUnique(
Server has closed the connection.
[00:05:31.864] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.findMany()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__5a7a643c._.js:96:151\n\n  93 }\n  94 // Получаем материалы с пагинацией\n  95 const [materials, total] = await Promise.all([\n→ 96     __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.findMany(\nServer has closed the connection."
[00:05:32.021] Server  ERROR   Get materials error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.findMany()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__5a7a643c._.js:96:151

  93 }
  94 // Получаем материалы с пагинацией
  95 const [materials, total] = await Promise.all([
→ 96     __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.findMany(
Server has closed the connection.
[00:05:32.025] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:32.036] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:32.039] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__5a7a643c._.js:104:151\n\n  101     skip,\n  102     take: limit\n  103 }),\n→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count(\nServer has closed the connection."
[00:05:32.202] Server  ERROR   Get materials error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__5a7a643c._.js:104:151

  101     skip,
  102     take: limit
  103 }),
→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count(
Server has closed the connection.
[00:05:32.217] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:32.219] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.findMany()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__5a7a643c._.js:96:151\n\n  93 }\n  94 // Получаем материалы с пагинацией\n  95 const [materials, total] = await Promise.all([\n→ 96     __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.findMany(\nServer has closed the connection."
[00:05:32.390] Server  ERROR   Get materials error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.findMany()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__5a7a643c._.js:96:151

  93 }
  94 // Получаем материалы с пагинацией
  95 const [materials, total] = await Promise.all([
→ 96     __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.findMany(
Server has closed the connection.
[00:05:32.394] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:32.408] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:32.411] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__5a7a643c._.js:104:151\n\n  101     skip,\n  102     take: limit\n  103 }),\n→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count(\nServer has closed the connection."
[00:05:32.574] Server  ERROR   Get materials error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__5a7a643c._.js:104:151

  101     skip,
  102     take: limit
  103 }),
→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count(
Server has closed the connection.
[00:05:32.593] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:32.595] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.findMany()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__5a7a643c._.js:96:151\n\n  93 }\n  94 // Получаем материалы с пагинацией\n  95 const [materials, total] = await Promise.all([\n→ 96     __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.findMany(\nServer has closed the connection."
[00:05:32.755] Server  ERROR   Get materials error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.findMany()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__5a7a643c._.js:96:151

  93 }
  94 // Получаем материалы с пагинацией
  95 const [materials, total] = await Promise.all([
→ 96     __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.findMany(
Server has closed the connection.
[00:05:32.759] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:32.773] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:32.775] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__5a7a643c._.js:104:151\n\n  101     skip,\n  102     take: limit\n  103 }),\n→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count(\nServer has closed the connection."
[00:05:32.941] Server  ERROR   Get materials error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__5a7a643c._.js:104:151

  101     skip,
  102     take: limit
  103 }),
→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count(
Server has closed the connection.
[00:05:32.956] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:32.958] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.findMany()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__5a7a643c._.js:96:151\n\n  93 }\n  94 // Получаем материалы с пагинацией\n  95 const [materials, total] = await Promise.all([\n→ 96     __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.findMany(\nServer has closed the connection."
[00:05:33.117] Server  ERROR   Get materials error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.findMany()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__5a7a643c._.js:96:151

  93 }
  94 // Получаем материалы с пагинацией
  95 const [materials, total] = await Promise.all([
→ 96     __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.findMany(
Server has closed the connection.
[00:05:33.130] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:33.144] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:33.147] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__5a7a643c._.js:104:151\n\n  101     skip,\n  102     take: limit\n  103 }),\n→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count(\nServer has closed the connection."
[00:05:33.310] Server  ERROR   Get materials error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__5a7a643c._.js:104:151

  101     skip,
  102     take: limit
  103 }),
→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count(
Server has closed the connection.
[00:05:33.328] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:33.330] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.findMany()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__5a7a643c._.js:96:151\n\n  93 }\n  94 // Получаем материалы с пагинацией\n  95 const [materials, total] = await Promise.all([\n→ 96     __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.findMany(\nServer has closed the connection."
[00:05:33.488] Server  ERROR   Get materials error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.findMany()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__5a7a643c._.js:96:151

  93 }
  94 // Получаем материалы с пагинацией
  95 const [materials, total] = await Promise.all([
→ 96     __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.findMany(
Server has closed the connection.
[00:05:33.493] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:33.510] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:33.512] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__5a7a643c._.js:104:151\n\n  101     skip,\n  102     take: limit\n  103 }),\n→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count(\nServer has closed the connection."
[00:05:33.702] Server  ERROR   Get materials error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__5a7a643c._.js:104:151

  101     skip,
  102     take: limit
  103 }),
→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count(
Server has closed the connection.
[00:05:33.721] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:33.724] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.findMany()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__5a7a643c._.js:96:151\n\n  93 }\n  94 // Получаем материалы с пагинацией\n  95 const [materials, total] = await Promise.all([\n→ 96     __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.findMany(\nServer has closed the connection."
[00:05:33.891] Server  ERROR   Get materials error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.findMany()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__5a7a643c._.js:96:151

  93 }
  94 // Получаем материалы с пагинацией
  95 const [materials, total] = await Promise.all([
→ 96     __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.findMany(
Server has closed the connection.
[00:05:33.897] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:33.919] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:33.921] Server  LOG     prisma:error "\nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count()` invocation in\nC:\\Study\\commercial-projects\\smartmedical\\.next\\dev\\server\\chunks\\[root-of-the-server]__5a7a643c._.js:104:151\n\n  101     skip,\n  102     take: limit\n  103 }),\n→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].material.count(\nServer has closed the connection."
[00:05:34.083] Server  ERROR   Get materials error: PrismaClientKnownRequestError: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count()` invocation in
C:\Study\commercial-projects\smartmedical\.next\dev\server\chunks\[root-of-the-server]__5a7a643c._.js:104:151

  101     skip,
  102     take: limit
  103 }),
→ 104 __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].material.count(
Server has closed the connection.
[00:05:34.086] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:34.098] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:34.127] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:34.297] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:34.436] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:34.709] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:34.818] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:35.005] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:35.009] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:35.155] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:35.555] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:36.573] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:05:36.605] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:36.605] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:36.980] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:05:37.008] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:05:37.010] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:05:37.409] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:05:37.809] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:05:38.046] Server  LOG     prisma:query "BEGIN"
[00:05:38.452] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:05:38.650] Server  LOG     prisma:query "COMMIT"
[00:05:39.058] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:05:39.627] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:39.833] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:41.847] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:41.848] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:41.848] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:05:42.051] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:05:42.051] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:05:42.057] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:05:42.258] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:05:42.456] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:05:42.651] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:05:42.656] Server  LOG     prisma:query "BEGIN"
[00:05:42.856] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:05:43.054] Server  LOG     prisma:query "COMMIT"
[00:05:43.258] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:05:44.791] Browser LOG     Fetching feedbacks with limit: 3
[00:05:44.791] Browser LOG     Fetching feedbacks with limit: 3
[00:05:45.130] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:05:45.150] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:45.529] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:05:45.550] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:05:45.550] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:05:45.740] Browser LOG     Fetching feedbacks with limit: 3
[00:05:45.852] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:05:46.055] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:46.140] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:46.141] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:05:46.258] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:05:46.365] Browser LOG     Response status: 200
[00:05:46.365] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:05:46.536] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:05:46.558] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:46.750] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:05:46.778] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:46.982] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:05:47.962] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:48.161] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:05:48.161] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:48.362] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:05:48.561] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:05:48.562] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:05:48.961] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:05:49.359] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:05:49.559] Server  LOG     prisma:query "SELECT 1"
[00:05:49.759] Server  LOG     prisma:query "BEGIN"
[00:05:50.157] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:05:50.354] Server  LOG     prisma:query "COMMIT"
[00:05:50.754] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:05:51.769] Server  LOG     prisma:query "SELECT 1"
[00:05:51.771] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:51.781] Server  LOG     prisma:query "SELECT 1"
[00:05:51.970] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:52.188] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:52.189] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:05:52.189] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"login\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"phone\", \"public\".\"patients\".\"registration_date\", \"public\".\"patients\".\"avatar_url\", \"public\".\"patients\".\"role\"::text, \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:52.409] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"login\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"phone\", \"public\".\"patients\".\"registration_date\", \"public\".\"patients\".\"avatar_url\", \"public\".\"patients\".\"role\"::text, \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:05:53.597] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:05:53.774] Browser LOG     Fetching feedbacks with limit: 3
[00:05:53.900] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:05:54.097] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:05:54.309] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:05:54.310] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:05:54.433] Browser LOG     Response status: 200
[00:05:54.433] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:05:54.531] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:05:54.747] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:05:59.702] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"login\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"password\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"phone\", \"public\".\"patients\".\"registration_date\", \"public\".\"patients\".\"avatar_url\", \"public\".\"patients\".\"role\"::text, \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"login\" = $1 LIMIT $2 OFFSET $3"
[00:06:00.078] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:00.101] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:06:00.258] Server  LOG     prisma:query "SELECT 1"
[00:06:00.260] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:06:00.273] Server  LOG     prisma:query "SELECT 1"
[00:06:00.301] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:00.457] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:06:00.518] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:00.688] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:06:00.698] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"login\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"phone\", \"public\".\"patients\".\"registration_date\", \"public\".\"patients\".\"avatar_url\", \"public\".\"patients\".\"role\"::text, \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:00.889] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:06:00.914] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"login\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"phone\", \"public\".\"patients\".\"registration_date\", \"public\".\"patients\".\"avatar_url\", \"public\".\"patients\".\"role\"::text, \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:02.272] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:02.274] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:02.482] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:06:02.541] Browser LOG     Fetching feedbacks with limit: 3
[00:06:02.541] Browser LOG     Fetching feedbacks with limit: 3
[00:06:02.636] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:06:02.685] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:06:02.689] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:06:02.842] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:06:02.849] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:06:02.889] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:06:03.093] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:06:03.239] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:06:03.357] Browser LOG     Response status: 200
[00:06:03.357] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:06:03.456] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:06:03.489] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:06:03.655] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:06:03.690] Server  LOG     prisma:query "BEGIN"
[00:06:03.772] Browser LOG     Response status: 200
[00:06:03.772] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:06:04.088] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:06:04.289] Server  LOG     prisma:query "COMMIT"
[00:06:04.692] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:06:06.449] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:06:06.450] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:06.649] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:06.848] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:06:06.849] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:06:07.048] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:06:07.464] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:06:07.861] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:06:08.061] Server  LOG     prisma:query "BEGIN"
[00:06:08.458] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:06:08.656] Server  LOG     prisma:query "COMMIT"
[00:06:09.058] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:06:16.050] Server  LOG     prisma:query "SELECT 1"
[00:06:16.447] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:06:20.039] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:20.242] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:06:20.448] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:06:20.650] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:06:20.854] Server  LOG     prisma:query "BEGIN"
[00:06:21.053] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:06:21.251] Server  LOG     prisma:query "COMMIT"
[00:06:21.451] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:06:31.047] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:06:35.039] Server  LOG     prisma:query "SELECT 1"
[00:06:35.048] Server  LOG     prisma:query "SELECT 1"
[00:06:35.049] Server  LOG     prisma:query "SELECT 1"
[00:06:35.246] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:35.247] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:06:35.247] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:35.450] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:06:35.450] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:06:35.662] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:06:36.064] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:06:36.461] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:06:36.660] Server  LOG     prisma:query "BEGIN"
[00:06:37.056] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:06:37.253] Server  LOG     prisma:query "COMMIT"
[00:06:37.683] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:06:46.046] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:06:49.224] Server  LOG      ✓ Compiled in 277ms
[00:06:52.056] Server  LOG     prisma:query "SELECT 1"
[00:06:52.058] Server  LOG     prisma:query "SELECT 1"
[00:06:52.059] Server  LOG     prisma:query "SELECT 1"
[00:06:52.258] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:52.462] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:52.462] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:06:52.463] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:06:52.554] Server  LOG     prisma:query "SELECT 1"
[00:06:52.663] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:06:52.664] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:06:52.668] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:06:52.764] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:52.863] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:06:52.981] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:53.064] Server  LOG     prisma:query "BEGIN"
[00:06:53.195] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:53.266] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:06:53.464] Server  LOG     prisma:query "COMMIT"
[00:06:53.673] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:06:53.917] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:06:53.920] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:06:53.920] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"login\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"phone\", \"public\".\"patients\".\"registration_date\", \"public\".\"patients\".\"avatar_url\", \"public\".\"patients\".\"role\"::text, \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:54.140] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:06:54.343] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:06:54.350] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"login\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"phone\", \"public\".\"patients\".\"registration_date\", \"public\".\"patients\".\"avatar_url\", \"public\".\"patients\".\"role\"::text, \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:54.542] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:06:54.551] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:06:54.742] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:06:54.755] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:06:55.831] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:06:56.025] Browser LOG     Fetching feedbacks with limit: 3
[00:06:56.334] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:06:56.346] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:06:56.742] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:06:56.742] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:06:57.277] Browser LOG     Response status: 200
[00:06:57.277] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:06:57.278] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:06:57.506] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:07:02.757] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"login\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"password\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"phone\", \"public\".\"patients\".\"registration_date\", \"public\".\"patients\".\"avatar_url\", \"public\".\"patients\".\"role\"::text, \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"login\" = $1 LIMIT $2 OFFSET $3"
[00:07:03.147] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:07:03.349] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:07:03.375] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:07:03.625] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:07:03.682] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:07:03.686] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:07:03.731] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"login\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"phone\", \"public\".\"patients\".\"registration_date\", \"public\".\"patients\".\"avatar_url\", \"public\".\"patients\".\"role\"::text, \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:07:03.903] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:07:03.904] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:07:03.945] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"login\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"phone\", \"public\".\"patients\".\"registration_date\", \"public\".\"patients\".\"avatar_url\", \"public\".\"patients\".\"role\"::text, \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:07:05.134] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"materials\".\"material_id\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 OFFSET $2) AS \"sub\""
[00:07:05.340] Server  LOG     prisma:query "SELECT \"public\".\"materials\".\"material_id\", \"public\".\"materials\".\"title\", \"public\".\"materials\".\"content\", \"public\".\"materials\".\"detailed_content\", \"public\".\"materials\".\"image_url\", \"public\".\"materials\".\"date\", \"public\".\"materials\".\"year\", \"public\".\"materials\".\"is_active\", \"public\".\"materials\".\"created_at\", \"public\".\"materials\".\"updated_at\" FROM \"public\".\"materials\" WHERE \"public\".\"materials\".\"is_active\" = $1 ORDER BY \"public\".\"materials\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:07:07.153] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:07:07.154] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:07:07.154] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:07:07.354] Server  LOG     prisma:query "SELECT 1"
[00:07:07.357] Server  LOG     prisma:query "SELECT 1"
[00:07:07.358] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:07:07.551] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:07:07.554] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:07:07.758] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:07:07.840] Browser LOG     Fetching feedbacks with limit: 3
[00:07:07.840] Browser LOG     Fetching feedbacks with limit: 3
[00:07:07.948] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:07:07.954] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:07:07.963] Server  LOG     prisma:query "SELECT 1"
[00:07:08.156] Server  LOG     prisma:query "BEGIN"
[00:07:08.156] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:07:08.161] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:07:08.354] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:07:08.356] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:07:08.465] Browser LOG     Response status: 200
[00:07:08.465] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:07:08.551] Server  LOG     prisma:query "COMMIT"
[00:07:08.570] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:07:08.752] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:07:08.771] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:07:09.828] Browser LOG     Response status: 200
[00:07:09.828] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:07:10.037] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:07:10.237] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:07:10.440] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:07:10.638] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:07:10.840] Server  LOG     prisma:query "BEGIN"
[00:07:11.039] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:07:11.237] Server  LOG     prisma:query "COMMIT"
[00:07:11.442] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:07:19.053] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:07:23.038] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:07:23.238] Server  LOG     prisma:query "SELECT 1"
[00:07:23.438] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:07:24.065] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:07:24.265] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:07:24.469] Server  LOG     prisma:query "BEGIN"
[00:07:24.671] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:07:24.871] Server  LOG     prisma:query "COMMIT"
[00:07:25.078] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:07:34.040] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:07:36.040] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:07:36.040] Server  LOG     prisma:query "SELECT 1"
[00:07:36.238] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:07:36.441] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:07:36.445] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:07:38.044] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:07:38.245] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:07:38.442] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:07:38.641] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:07:38.842] Server  LOG     prisma:query "SELECT 1"
[00:07:39.041] Server  LOG     prisma:query "BEGIN"
[00:07:39.280] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:07:39.478] Server  LOG     prisma:query "COMMIT"
[00:07:39.679] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:07:49.063] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:07:53.060] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:07:53.268] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:07:53.471] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:07:53.687] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:07:53.888] Server  LOG     prisma:query "BEGIN"
[00:07:54.097] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:07:54.302] Server  LOG     prisma:query "COMMIT"
[00:07:54.512] Server  LOG     prisma:query "SELECT 1"
[00:07:54.721] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:08:04.039] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:08:06.043] Server  LOG     prisma:query "SELECT 1"
[00:08:06.043] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:08:06.246] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:08:06.247] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:08:06.452] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:08:08.035] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:08:08.237] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:08:08.440] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:08:08.654] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:08:08.875] Server  LOG     prisma:query "BEGIN"
[00:08:09.075] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:08:09.273] Server  LOG     prisma:query "COMMIT"
[00:08:09.475] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:08:19.039] Server  LOG     prisma:query "SELECT 1"
[00:08:19.239] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:08:23.040] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:08:23.245] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:08:23.444] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:08:23.642] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:08:23.843] Server  LOG     prisma:query "BEGIN"
[00:08:24.041] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:08:24.239] Server  LOG     prisma:query "COMMIT"
[00:08:24.440] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:08:34.047] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:08:36.049] Server  LOG     prisma:query "SELECT 1"
[00:08:36.050] Server  LOG     prisma:query "SELECT 1"
[00:08:36.251] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:08:36.251] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:08:36.456] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:08:36.457] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:08:38.237] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:08:38.440] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:08:38.638] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:08:38.841] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:08:39.047] Server  LOG     prisma:query "BEGIN"
[00:08:39.258] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:08:39.456] Server  LOG     prisma:query "COMMIT"
[00:08:39.659] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:09:06.058] Server  LOG     prisma:query "SELECT 1"
[00:09:06.058] Server  LOG     prisma:query "SELECT 1"
[00:09:06.266] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:09:06.267] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:06.478] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:09:06.478] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:09:13.054] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:13.054] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:09:13.258] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:09:13.462] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:09:13.664] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:09:13.864] Server  LOG     prisma:query "BEGIN"
[00:09:14.066] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:09:14.264] Server  LOG     prisma:query "COMMIT"
[00:09:14.467] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:09:25.620] Server  LOG     prisma:query "SELECT 1"
[00:09:25.632] Server  LOG     prisma:query "SELECT 1"
[00:09:25.700] Server  LOG     prisma:query "SELECT 1"
[00:09:25.818] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:09:25.833] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:25.898] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:26.033] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:09:26.109] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:26.234] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:09:26.325] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:26.432] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:09:26.632] Server  LOG     prisma:query "BEGIN"
[00:09:26.831] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:09:26.927] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:09:27.036] Server  LOG     prisma:query "COMMIT"
[00:09:27.120] Browser LOG     Fetching feedbacks with limit: 3
[00:09:27.226] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:09:27.240] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:09:27.241] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:09:27.323] Server  LOG     prisma:query "SELECT 1"
[00:09:27.325] Server  LOG     prisma:query "SELECT 1"
[00:09:27.443] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:09:27.503] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:09:27.522] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:27.608] Browser LOG     Response status: 200
[00:09:27.608] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:09:27.658] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:09:27.726] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:09:27.740] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:27.872] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:09:27.958] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:29.324] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:29.324] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:09:29.324] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:29.529] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:09:29.530] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:09:29.742] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:09:29.742] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:09:29.940] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:09:30.154] Server  LOG     prisma:query "BEGIN"
[00:09:30.355] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:09:30.554] Server  LOG     prisma:query "COMMIT"
[00:09:30.757] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:09:33.429] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:33.634] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:09:33.832] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:09:34.035] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:09:34.236] Server  LOG     prisma:query "BEGIN"
[00:09:34.433] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:09:34.631] Server  LOG     prisma:query "COMMIT"
[00:09:34.832] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:09:39.398] Server  LOG     API: Fetching category with slug: "fetal-ultrasound"
[00:09:39.803] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"slug\" = $1 AND \"public\".\"service_categories\".\"is_active\" = $2) LIMIT $3 OFFSET $4"
[00:09:40.203] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"is_active\" = $1 AND \"public\".\"service_categories\".\"parent_id\" IN ($2)) ORDER BY \"public\".\"service_categories\".\"order\" ASC, \"public\".\"service_categories\".\"name\" ASC OFFSET $3"
[00:09:40.508] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:40.600] Server  LOG     prisma:query "SELECT \"public\".\"services\".\"service_id\", \"public\".\"services\".\"title\", \"public\".\"services\".\"subtitle\", \"public\".\"services\".\"price\", \"public\".\"services\".\"video_url\", \"public\".\"services\".\"description\", \"public\".\"services\".\"image_url\", \"public\".\"services\".\"image_url_1\", \"public\".\"services\".\"image_url_2\", \"public\".\"services\".\"image_url_3\", \"public\".\"services\".\"image_url_4\", \"public\".\"services\".\"questions_id\", \"public\".\"services\".\"reviews_id\", \"public\".\"services\".\"category_id\", \"public\".\"services\".\"service_category_id\" FROM \"public\".\"services\" WHERE \"public\".\"services\".\"service_category_id\" IN ($1) ORDER BY \"public\".\"services\".\"title\" ASC OFFSET $2"
[00:09:40.709] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:09:40.907] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:09:40.997] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"service_id\" IN ($1) OFFSET $2"
[00:09:41.107] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:09:41.306] Server  LOG     prisma:query "BEGIN"
[00:09:41.396] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"specialists_id\" IN ($1) OFFSET $2"
[00:09:41.504] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:09:41.702] Server  LOG     prisma:query "COMMIT"
[00:09:41.791] Server  LOG     prisma:query "SELECT \"public\".\"questions\".\"questions_id\", \"public\".\"questions\".\"question\", \"public\".\"questions\".\"answer\", \"public\".\"questions\".\"category\", \"public\".\"questions\".\"service_id\" FROM \"public\".\"questions\" WHERE \"public\".\"questions\".\"service_id\" IN ($1) ORDER BY \"public\".\"questions\".\"questions_id\" ASC OFFSET $2"
[00:09:41.904] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:09:42.186] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"service_id\" IN ($1) ORDER BY \"public\".\"feedbacks\".\"date\" DESC OFFSET $2"
[00:09:42.187] Server  LOG     API: Category found: "Yes"
[00:09:42.207] Server  LOG     API: Fetching category with slug: "fetal-ultrasound"
[00:09:42.313] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:09:42.439] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"slug\" = $1 AND \"public\".\"service_categories\".\"is_active\" = $2) LIMIT $3 OFFSET $4"
[00:09:42.638] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"is_active\" = $1 AND \"public\".\"service_categories\".\"parent_id\" IN ($2)) ORDER BY \"public\".\"service_categories\".\"order\" ASC, \"public\".\"service_categories\".\"name\" ASC OFFSET $3"
[00:09:42.858] Server  LOG     prisma:query "SELECT \"public\".\"services\".\"service_id\", \"public\".\"services\".\"title\", \"public\".\"services\".\"subtitle\", \"public\".\"services\".\"price\", \"public\".\"services\".\"video_url\", \"public\".\"services\".\"description\", \"public\".\"services\".\"image_url\", \"public\".\"services\".\"image_url_1\", \"public\".\"services\".\"image_url_2\", \"public\".\"services\".\"image_url_3\", \"public\".\"services\".\"image_url_4\", \"public\".\"services\".\"questions_id\", \"public\".\"services\".\"reviews_id\", \"public\".\"services\".\"category_id\", \"public\".\"services\".\"service_category_id\" FROM \"public\".\"services\" WHERE \"public\".\"services\".\"service_category_id\" IN ($1) ORDER BY \"public\".\"services\".\"title\" ASC OFFSET $2"
[00:09:43.059] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"service_id\" IN ($1) OFFSET $2"
[00:09:43.260] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"specialists_id\" IN ($1) OFFSET $2"
[00:09:43.459] Server  LOG     prisma:query "SELECT \"public\".\"questions\".\"questions_id\", \"public\".\"questions\".\"question\", \"public\".\"questions\".\"answer\", \"public\".\"questions\".\"category\", \"public\".\"questions\".\"service_id\" FROM \"public\".\"questions\" WHERE \"public\".\"questions\".\"service_id\" IN ($1) ORDER BY \"public\".\"questions\".\"questions_id\" ASC OFFSET $2"
[00:09:43.659] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"service_id\" IN ($1) ORDER BY \"public\".\"feedbacks\".\"date\" DESC OFFSET $2"
[00:09:43.660] Server  LOG     API: Category found: "Yes"
[00:09:45.171] Server  LOG     prisma:query "SELECT 1"
[00:09:45.568] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"slug\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:45.972] Server  LOG     prisma:query "SELECT \"public\".\"services\".\"service_id\", \"public\".\"services\".\"title\", \"public\".\"services\".\"subtitle\", \"public\".\"services\".\"price\", \"public\".\"services\".\"video_url\", \"public\".\"services\".\"description\", \"public\".\"services\".\"image_url\", \"public\".\"services\".\"image_url_1\", \"public\".\"services\".\"image_url_2\", \"public\".\"services\".\"image_url_3\", \"public\".\"services\".\"image_url_4\", \"public\".\"services\".\"questions_id\", \"public\".\"services\".\"reviews_id\", \"public\".\"services\".\"category_id\", \"public\".\"services\".\"service_category_id\" FROM \"public\".\"services\" WHERE (\"public\".\"services\".\"service_id\" = $1 AND \"public\".\"services\".\"service_category_id\" = $2) LIMIT $3 OFFSET $4"
[00:09:46.103] Server  LOG     prisma:query "SELECT 1"
[00:09:46.301] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:46.369] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1) OFFSET $2"
[00:09:46.500] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:09:46.699] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:09:46.770] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE \"public\".\"service_categories\".\"service_category_id\" IN ($1) OFFSET $2"
[00:09:46.898] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:09:46.970] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"service_id\" IN ($1) OFFSET $2"
[00:09:47.102] Server  LOG     prisma:query "BEGIN"
[00:09:47.170] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"specialists_id\" IN ($1) OFFSET $2"
[00:09:47.299] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:09:47.371] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1) OFFSET $2"
[00:09:47.498] Server  LOG     prisma:query "COMMIT"
[00:09:47.705] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:09:47.769] Server  LOG     prisma:query "SELECT \"public\".\"questions\".\"questions_id\", \"public\".\"questions\".\"question\", \"public\".\"questions\".\"answer\", \"public\".\"questions\".\"category\", \"public\".\"questions\".\"service_id\" FROM \"public\".\"questions\" WHERE \"public\".\"questions\".\"service_id\" IN ($1) OFFSET $2"
[00:09:47.969] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"service_id\" IN ($1) ORDER BY \"public\".\"feedbacks\".\"date\" DESC OFFSET $2"
[00:09:48.196] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"slug\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:48.397] Server  LOG     prisma:query "SELECT \"public\".\"services\".\"service_id\", \"public\".\"services\".\"title\", \"public\".\"services\".\"subtitle\", \"public\".\"services\".\"price\", \"public\".\"services\".\"video_url\", \"public\".\"services\".\"description\", \"public\".\"services\".\"image_url\", \"public\".\"services\".\"image_url_1\", \"public\".\"services\".\"image_url_2\", \"public\".\"services\".\"image_url_3\", \"public\".\"services\".\"image_url_4\", \"public\".\"services\".\"questions_id\", \"public\".\"services\".\"reviews_id\", \"public\".\"services\".\"category_id\", \"public\".\"services\".\"service_category_id\" FROM \"public\".\"services\" WHERE (\"public\".\"services\".\"service_id\" = $1 AND \"public\".\"services\".\"service_category_id\" = $2) LIMIT $3 OFFSET $4"
[00:09:48.598] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1) OFFSET $2"
[00:09:48.796] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE \"public\".\"service_categories\".\"service_category_id\" IN ($1) OFFSET $2"
[00:09:48.995] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"service_id\" IN ($1) OFFSET $2"
[00:09:49.196] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"specialists_id\" IN ($1) OFFSET $2"
[00:09:49.395] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1) OFFSET $2"
[00:09:49.593] Server  LOG     prisma:query "SELECT \"public\".\"questions\".\"questions_id\", \"public\".\"questions\".\"question\", \"public\".\"questions\".\"answer\", \"public\".\"questions\".\"category\", \"public\".\"questions\".\"service_id\" FROM \"public\".\"questions\" WHERE \"public\".\"questions\".\"service_id\" IN ($1) OFFSET $2"
[00:09:49.791] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"service_id\" IN ($1) ORDER BY \"public\".\"feedbacks\".\"date\" DESC OFFSET $2"
[00:09:57.325] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:09:57.326] Server  LOG     prisma:query "SELECT 1"
[00:09:57.326] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:09:57.525] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:09:57.529] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:09:57.729] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:10:00.048] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:10:00.249] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:10:00.447] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:10:00.646] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:10:00.850] Server  LOG     prisma:query "BEGIN"
[00:10:01.051] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:10:01.251] Server  LOG     prisma:query "COMMIT"
[00:10:01.452] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:10:03.775] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:10:03.990] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:10:04.210] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:10:04.993] Browser LOG     Fetching feedbacks with limit: 3
[00:10:04.993] Browser LOG     Fetching feedbacks with limit: 3
[00:10:05.095] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:10:05.100] Server  LOG     prisma:query "SELECT 1"
[00:10:05.301] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:10:05.306] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:10:05.698] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:10:05.811] Server  LOG     prisma:query "SELECT 1"
[00:10:05.811] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:10:05.812] Browser LOG     Response status: 200
[00:10:05.812] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:10:05.910] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:10:05.975] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:10:06.011] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:10:06.118] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:10:06.174] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:10:06.222] Browser LOG     Response status: 200
[00:10:06.222] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:10:08.040] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:10:08.247] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:10:08.448] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:10:08.648] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:10:08.849] Server  LOG     prisma:query "BEGIN"
[00:10:09.047] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:10:09.245] Server  LOG     prisma:query "COMMIT"
[00:10:09.449] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:10:13.043] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:10:21.048] Server  LOG     prisma:query "SELECT 1"
[00:10:21.248] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:10:21.454] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:10:21.651] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:10:21.853] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:10:22.057] Server  LOG     prisma:query "BEGIN"
[00:10:22.268] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:10:22.468] Server  LOG     prisma:query "COMMIT"
[00:10:22.672] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:10:28.045] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:10:34.158] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:10:34.188] Server  LOG     prisma:query "SELECT 1"
[00:10:34.403] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:10:34.439] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:10:36.480] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:10:37.098] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:10:37.500] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:10:37.937] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:10:38.449] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:10:38.663] Server  LOG     prisma:query "BEGIN"
[00:10:39.123] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:10:39.397] Server  LOG     prisma:query "COMMIT"
[00:10:39.876] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:10:43.265] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:10:51.046] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:10:51.247] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:10:51.458] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:10:51.662] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:10:51.865] Server  LOG     prisma:query "BEGIN"
[00:10:52.064] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:10:52.263] Server  LOG     prisma:query "COMMIT"
[00:10:52.463] Server  LOG     prisma:query "SELECT 1"
[00:10:52.663] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:10:58.039] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:11:04.058] Server  LOG     prisma:query "SELECT 1"
[00:11:04.259] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:04.457] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:11:04.668] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:11:04.857] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:11:06.509] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:06.725] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:06.886] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:11:06.888] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:06.936] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:07.098] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:11:07.296] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:11:08.533] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:08.944] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:11:09.357] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:11:09.472] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:11:09.763] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:11:09.792] Server  LOG     prisma:query "SELECT 1"
[00:11:09.971] Server  LOG     prisma:query "BEGIN"
[00:11:10.084] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:10.096] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:11:10.197] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:11:10.399] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:11:10.414] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:11:10.607] Server  LOG     prisma:query "COMMIT"
[00:11:11.018] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:11:11.874] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"email\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:11.879] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:12.080] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:11:12.085] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:11:12.277] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:11:12.294] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:12.500] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:11:12.677] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"letters\".\"letter_id\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) OFFSET $3) AS \"sub\""
[00:11:12.718] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 ORDER BY \"public\".\"operator_chats\".\"status\" ASC, \"public\".\"operator_chats\".\"last_message_at\" DESC, \"public\".\"operator_chats\".\"created_at\" DESC OFFSET $2"
[00:11:13.076] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 OFFSET $2) AS \"sub\""
[00:11:14.879] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:21.101] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"email\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:21.404] Server  LOG     prisma:query "SELECT 1"
[00:11:21.538] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:21.729] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:11:21.752] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:21.811] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:22.439] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE 1=1 ORDER BY \"public\".\"specialists\".\"specialists_id\" DESC OFFSET $1"
[00:11:22.858] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) OFFSET $11"
[00:11:24.985] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:11:24.986] Server  LOG     prisma:query "SELECT 1"
[00:11:25.195] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:25.604] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 ORDER BY \"public\".\"operator_chats\".\"status\" ASC, \"public\".\"operator_chats\".\"last_message_at\" DESC, \"public\".\"operator_chats\".\"created_at\" DESC OFFSET $2"
[00:11:26.166] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:26.521] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:26.734] Server  LOG     prisma:query "SELECT 1"
[00:11:26.744] Server  LOG     prisma:query "SELECT 1"
[00:11:26.764] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"is_active\" = $1 AND \"public\".\"service_categories\".\"parent_id\" IS NULL) ORDER BY \"public\".\"service_categories\".\"order\" ASC, \"public\".\"service_categories\".\"name\" ASC OFFSET $2"
[00:11:26.942] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:26.943] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:27.043] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE 1=1 ORDER BY \"public\".\"specialists\".\"name\" ASC OFFSET $1"
[00:11:27.171] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:27.244] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) OFFSET $11"
[00:11:27.345] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"services\".\"service_id\" FROM \"public\".\"services\" WHERE 1=1 OFFSET $1) AS \"sub\""
[00:11:27.363] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"is_active\" = $1 AND \"public\".\"service_categories\".\"parent_id\" IN ($2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12)) ORDER BY \"public\".\"service_categories\".\"order\" ASC, \"public\".\"service_categories\".\"name\" ASC OFFSET $13"
[00:11:27.779] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"is_active\" = $1 AND \"public\".\"service_categories\".\"parent_id\" IN ($2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44)) ORDER BY \"public\".\"service_categories\".\"order\" ASC, \"public\".\"service_categories\".\"name\" ASC OFFSET $45"
[00:11:27.951] Server  LOG     prisma:query "SELECT \"public\".\"services\".\"service_id\", \"public\".\"services\".\"title\", \"public\".\"services\".\"subtitle\", \"public\".\"services\".\"price\", \"public\".\"services\".\"video_url\", \"public\".\"services\".\"description\", \"public\".\"services\".\"image_url\", \"public\".\"services\".\"image_url_1\", \"public\".\"services\".\"image_url_2\", \"public\".\"services\".\"image_url_3\", \"public\".\"services\".\"image_url_4\", \"public\".\"services\".\"questions_id\", \"public\".\"services\".\"reviews_id\", \"public\".\"services\".\"category_id\", \"public\".\"services\".\"service_category_id\" FROM \"public\".\"services\" WHERE 1=1 ORDER BY \"public\".\"services\".\"title\" ASC LIMIT $1 OFFSET $2"
[00:11:28.111] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:28.351] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1,$2,$3,$4,$5) OFFSET $6"
[00:11:28.511] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 ORDER BY \"public\".\"operator_chats\".\"status\" ASC, \"public\".\"operator_chats\".\"last_message_at\" DESC, \"public\".\"operator_chats\".\"created_at\" DESC OFFSET $2"
[00:11:28.751] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE \"public\".\"service_categories\".\"service_category_id\" IN ($1,$2,$3,$4,$5) OFFSET $6"
[00:11:29.165] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"service_id\" IN ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) OFFSET $13"
[00:11:29.575] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"specialists_id\" IN ($1,$2,$3,$4,$5,$6,$7,$8,$9) OFFSET $10"
[00:11:39.891] Server  LOG     prisma:query "SELECT 1"
[00:11:39.893] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:11:39.902] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:39.981] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"email\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:40.092] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:11:40.101] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:11:40.319] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:11:40.385] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:11:40.785] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"letters\".\"letter_id\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) OFFSET $3) AS \"sub\""
[00:11:41.123] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:41.185] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 OFFSET $2) AS \"sub\""
[00:11:41.334] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 ORDER BY \"public\".\"operator_chats\".\"status\" ASC, \"public\".\"operator_chats\".\"last_message_at\" DESC, \"public\".\"operator_chats\".\"created_at\" DESC OFFSET $2"
[00:11:55.093] Server  LOG     prisma:query "SELECT 1"
[00:11:55.952] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:11:57.051] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:11:57.263] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 ORDER BY \"public\".\"operator_chats\".\"status\" ASC, \"public\".\"operator_chats\".\"last_message_at\" DESC, \"public\".\"operator_chats\".\"created_at\" DESC OFFSET $2"
[00:12:09.816] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"email\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:09.863] Server  LOG     prisma:query "SELECT 1"
[00:12:10.062] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:12:10.242] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:12:10.453] Server  LOG     prisma:query "SELECT 1"
[00:12:10.869] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"letters\".\"letter_id\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) OFFSET $3) AS \"sub\""
[00:12:11.009] Server  LOG     prisma:query "SELECT 1"
[00:12:11.115] Server  LOG     prisma:query "SELECT 1"
[00:12:11.209] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:12:11.211] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:11.293] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 OFFSET $2) AS \"sub\""
[00:12:11.313] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:11.410] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:12:11.514] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 ORDER BY \"public\".\"operator_chats\".\"status\" ASC, \"public\".\"operator_chats\".\"last_message_at\" DESC, \"public\".\"operator_chats\".\"created_at\" DESC OFFSET $2"
[00:12:11.620] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:12:19.912] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:20.121] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 ORDER BY \"public\".\"operator_chats\".\"status\" ASC, \"public\".\"operator_chats\".\"last_message_at\" DESC, \"public\".\"operator_chats\".\"created_at\" DESC OFFSET $2"
[00:12:25.089] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:12:25.818] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:26.029] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 ORDER BY \"public\".\"operator_chats\".\"status\" ASC, \"public\".\"operator_chats\".\"last_message_at\" DESC, \"public\".\"operator_chats\".\"created_at\" DESC OFFSET $2"
[00:12:29.961] Server  LOG     prisma:query "SELECT 1"
[00:12:30.166] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:30.375] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 ORDER BY \"public\".\"operator_chats\".\"status\" ASC, \"public\".\"operator_chats\".\"last_message_at\" DESC, \"public\".\"operator_chats\".\"created_at\" DESC OFFSET $2"
[00:12:35.386] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:35.593] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 ORDER BY \"public\".\"operator_chats\".\"status\" ASC, \"public\".\"operator_chats\".\"last_message_at\" DESC, \"public\".\"operator_chats\".\"created_at\" DESC OFFSET $2"
[00:12:39.020] Server  LOG     prisma:query "SELECT 1"
[00:12:39.024] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:39.232] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:12:39.419] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:12:39.601] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:39.777] Server  LOG     prisma:query "SELECT 1"
[00:12:39.808] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 ORDER BY \"public\".\"operator_chats\".\"status\" ASC, \"public\".\"operator_chats\".\"last_message_at\" DESC, \"public\".\"operator_chats\".\"created_at\" DESC OFFSET $2"
[00:12:39.822] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:12:39.909] Server  LOG     prisma:query "SELECT 1"
[00:12:39.977] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"email\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:40.118] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:12:40.178] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:12:40.381] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"letters\".\"letter_id\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) OFFSET $3) AS \"sub\""
[00:12:40.584] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 OFFSET $2) AS \"sub\""
[00:12:44.291] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:44.696] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 ORDER BY \"public\".\"operator_chats\".\"status\" ASC, \"public\".\"operator_chats\".\"last_message_at\" DESC, \"public\".\"operator_chats\".\"created_at\" DESC OFFSET $2"
[00:12:47.706] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:48.107] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:12:48.311] Server  LOG     prisma:query "BEGIN"
[00:12:48.747] Server  LOG     prisma:query "UPDATE \"public\".\"services\" SET \"title\" = $1, \"subtitle\" = $2, \"price\" = $3, \"video_url\" = $4, \"description\" = $5, \"image_url\" = $6, \"image_url_1\" = $7, \"image_url_2\" = $8, \"image_url_3\" = $9, \"image_url_4\" = $10, \"category_id\" = $11, \"service_category_id\" = $12 WHERE (\"public\".\"services\".\"service_id\" = $13 AND 1=1) RETURNING \"public\".\"services\".\"service_id\", \"public\".\"services\".\"title\", \"public\".\"services\".\"subtitle\", \"public\".\"services\".\"price\", \"public\".\"services\".\"video_url\", \"public\".\"services\".\"description\", \"public\".\"services\".\"image_url\", \"public\".\"services\".\"image_url_1\", \"public\".\"services\".\"image_url_2\", \"public\".\"services\".\"image_url_3\", \"public\".\"services\".\"image_url_4\", \"public\".\"services\".\"questions_id\", \"public\".\"services\".\"reviews_id\", \"public\".\"services\".\"category_id\", \"public\".\"services\".\"service_category_id\""
[00:12:49.144] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE (1=1 AND \"public\".\"service_specialists\".\"service_id\" IN ($1)) OFFSET $2"
[00:12:49.456] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:49.549] Server  LOG     prisma:query "DELETE FROM \"public\".\"service_specialists\" WHERE ((\"public\".\"service_specialists\".\"service_id\",\"public\".\"service_specialists\".\"specialist_id\") IN (($1,$2)) AND 1=1)"
[00:12:49.668] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 ORDER BY \"public\".\"operator_chats\".\"status\" ASC, \"public\".\"operator_chats\".\"last_message_at\" DESC, \"public\".\"operator_chats\".\"created_at\" DESC OFFSET $2"
[00:12:49.961] Server  LOG     prisma:query "INSERT INTO \"public\".\"service_specialists\" (\"service_id\",\"specialist_id\") VALUES ($1,$2), ($3,$4), ($5,$6)"
[00:12:50.364] Server  LOG     prisma:query "SELECT \"public\".\"services\".\"service_id\", \"public\".\"services\".\"title\", \"public\".\"services\".\"subtitle\", \"public\".\"services\".\"price\", \"public\".\"services\".\"video_url\", \"public\".\"services\".\"description\", \"public\".\"services\".\"image_url\", \"public\".\"services\".\"image_url_1\", \"public\".\"services\".\"image_url_2\", \"public\".\"services\".\"image_url_3\", \"public\".\"services\".\"image_url_4\", \"public\".\"services\".\"questions_id\", \"public\".\"services\".\"reviews_id\", \"public\".\"services\".\"category_id\", \"public\".\"services\".\"service_category_id\" FROM \"public\".\"services\" WHERE \"public\".\"services\".\"service_id\" = $1 LIMIT $2 OFFSET $3"
[00:12:50.763] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1) OFFSET $2"
[00:12:51.163] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE \"public\".\"service_categories\".\"service_category_id\" IN ($1) OFFSET $2"
[00:12:51.564] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"service_id\" IN ($1) OFFSET $2"
[00:12:51.966] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"specialists_id\" IN ($1,$2,$3) OFFSET $4"
[00:12:52.167] Server  LOG     prisma:query "COMMIT"
[00:12:52.399] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:52.622] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"is_active\" = $1 AND \"public\".\"service_categories\".\"parent_id\" IS NULL) ORDER BY \"public\".\"service_categories\".\"order\" ASC, \"public\".\"service_categories\".\"name\" ASC OFFSET $2"
[00:12:52.797] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE 1=1 ORDER BY \"public\".\"specialists\".\"name\" ASC OFFSET $1"
[00:12:52.802] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"services\".\"service_id\" FROM \"public\".\"services\" WHERE 1=1 OFFSET $1) AS \"sub\""
[00:12:53.197] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) OFFSET $11"
[00:12:53.264] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"is_active\" = $1 AND \"public\".\"service_categories\".\"parent_id\" IN ($2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12)) ORDER BY \"public\".\"service_categories\".\"order\" ASC, \"public\".\"service_categories\".\"name\" ASC OFFSET $13"
[00:12:53.411] Server  LOG     prisma:query "SELECT \"public\".\"services\".\"service_id\", \"public\".\"services\".\"title\", \"public\".\"services\".\"subtitle\", \"public\".\"services\".\"price\", \"public\".\"services\".\"video_url\", \"public\".\"services\".\"description\", \"public\".\"services\".\"image_url\", \"public\".\"services\".\"image_url_1\", \"public\".\"services\".\"image_url_2\", \"public\".\"services\".\"image_url_3\", \"public\".\"services\".\"image_url_4\", \"public\".\"services\".\"questions_id\", \"public\".\"services\".\"reviews_id\", \"public\".\"services\".\"category_id\", \"public\".\"services\".\"service_category_id\" FROM \"public\".\"services\" WHERE 1=1 ORDER BY \"public\".\"services\".\"title\" ASC LIMIT $1 OFFSET $2"
[00:12:53.705] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"is_active\" = $1 AND \"public\".\"service_categories\".\"parent_id\" IN ($2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44)) ORDER BY \"public\".\"service_categories\".\"order\" ASC, \"public\".\"service_categories\".\"name\" ASC OFFSET $45"
[00:12:53.814] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1,$2,$3,$4,$5) OFFSET $6"
[00:12:54.492] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE \"public\".\"service_categories\".\"service_category_id\" IN ($1,$2,$3,$4,$5) OFFSET $6"
[00:12:54.888] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:12:54.896] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"service_id\" IN ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12) OFFSET $13"
[00:12:55.310] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"specialists_id\" IN ($1,$2,$3,$4,$5,$6,$7,$8,$9) OFFSET $10"
[00:12:57.626] Server  LOG     prisma:query "SELECT 1"
[00:12:57.828] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:12:58.030] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE \"public\".\"operator_chats\".\"has_unread_operator\" = $1 ORDER BY \"public\".\"operator_chats\".\"status\" ASC, \"public\".\"operator_chats\".\"last_message_at\" DESC, \"public\".\"operator_chats\".\"created_at\" DESC OFFSET $2"
[00:13:02.782] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:13:02.979] Browser LOG     Fetching feedbacks with limit: 3
[00:13:03.106] Server  LOG     prisma:query "SELECT 1"
[00:13:03.177] Server  LOG     prisma:query "SELECT 1"
[00:13:03.181] Server  LOG     prisma:query "SELECT 1"
[00:13:03.292] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:13:03.380] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:13:03.386] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:13:03.513] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:13:03.537] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:13:03.604] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:13:03.729] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:13:03.779] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:13:03.895] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:13:03.958] Browser LOG     Response status: 200
[00:13:03.958] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:13:04.371] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:13:05.184] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:13:05.192] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:13:05.391] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:13:05.398] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:13:06.071] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:13:06.252] Server  LOG     API: Fetching category with slug: "pediatric-gynecologist"
[00:13:06.280] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:13:06.483] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:13:06.656] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"slug\" = $1 AND \"public\".\"service_categories\".\"is_active\" = $2) LIMIT $3 OFFSET $4"
[00:13:06.685] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:13:06.891] Server  LOG     prisma:query "BEGIN"
[00:13:07.053] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"is_active\" = $1 AND \"public\".\"service_categories\".\"parent_id\" IN ($2)) ORDER BY \"public\".\"service_categories\".\"order\" ASC, \"public\".\"service_categories\".\"name\" ASC OFFSET $3"
[00:13:07.096] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:13:07.301] Server  LOG     prisma:query "COMMIT"
[00:13:07.451] Server  LOG     prisma:query "SELECT \"public\".\"services\".\"service_id\", \"public\".\"services\".\"title\", \"public\".\"services\".\"subtitle\", \"public\".\"services\".\"price\", \"public\".\"services\".\"video_url\", \"public\".\"services\".\"description\", \"public\".\"services\".\"image_url\", \"public\".\"services\".\"image_url_1\", \"public\".\"services\".\"image_url_2\", \"public\".\"services\".\"image_url_3\", \"public\".\"services\".\"image_url_4\", \"public\".\"services\".\"questions_id\", \"public\".\"services\".\"reviews_id\", \"public\".\"services\".\"category_id\", \"public\".\"services\".\"service_category_id\" FROM \"public\".\"services\" WHERE \"public\".\"services\".\"service_category_id\" IN ($1) ORDER BY \"public\".\"services\".\"title\" ASC OFFSET $2"
[00:13:07.507] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:13:07.855] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"service_id\" IN ($1) OFFSET $2"
[00:13:08.265] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"specialists_id\" IN ($1,$2,$3) OFFSET $4"
[00:13:08.439] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:13:08.644] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:13:08.665] Server  LOG     prisma:query "SELECT \"public\".\"questions\".\"questions_id\", \"public\".\"questions\".\"question\", \"public\".\"questions\".\"answer\", \"public\".\"questions\".\"category\", \"public\".\"questions\".\"service_id\" FROM \"public\".\"questions\" WHERE \"public\".\"questions\".\"service_id\" IN ($1) ORDER BY \"public\".\"questions\".\"questions_id\" ASC OFFSET $2"
[00:13:08.847] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:13:09.052] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:13:09.062] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"service_id\" IN ($1) ORDER BY \"public\".\"feedbacks\".\"date\" DESC OFFSET $2"
[00:13:09.062] Server  LOG     API: Category found: "Yes"
[00:13:09.089] Server  LOG     API: Fetching category with slug: "pediatric-gynecologist"
[00:13:09.258] Server  LOG     prisma:query "BEGIN"
[00:13:09.291] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"slug\" = $1 AND \"public\".\"service_categories\".\"is_active\" = $2) LIMIT $3 OFFSET $4"
[00:13:09.462] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:13:09.491] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"is_active\" = $1 AND \"public\".\"service_categories\".\"parent_id\" IN ($2)) ORDER BY \"public\".\"service_categories\".\"order\" ASC, \"public\".\"service_categories\".\"name\" ASC OFFSET $3"
[00:13:09.650] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"slug\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:13:09.665] Server  LOG     prisma:query "COMMIT"
[00:13:09.700] Server  LOG     prisma:query "SELECT \"public\".\"services\".\"service_id\", \"public\".\"services\".\"title\", \"public\".\"services\".\"subtitle\", \"public\".\"services\".\"price\", \"public\".\"services\".\"video_url\", \"public\".\"services\".\"description\", \"public\".\"services\".\"image_url\", \"public\".\"services\".\"image_url_1\", \"public\".\"services\".\"image_url_2\", \"public\".\"services\".\"image_url_3\", \"public\".\"services\".\"image_url_4\", \"public\".\"services\".\"questions_id\", \"public\".\"services\".\"reviews_id\", \"public\".\"services\".\"category_id\", \"public\".\"services\".\"service_category_id\" FROM \"public\".\"services\" WHERE \"public\".\"services\".\"service_category_id\" IN ($1) ORDER BY \"public\".\"services\".\"title\" ASC OFFSET $2"
[00:13:09.870] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:13:09.915] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"service_id\" IN ($1) OFFSET $2"
[00:13:10.070] Server  LOG     prisma:query "SELECT \"public\".\"services\".\"service_id\", \"public\".\"services\".\"title\", \"public\".\"services\".\"subtitle\", \"public\".\"services\".\"price\", \"public\".\"services\".\"video_url\", \"public\".\"services\".\"description\", \"public\".\"services\".\"image_url\", \"public\".\"services\".\"image_url_1\", \"public\".\"services\".\"image_url_2\", \"public\".\"services\".\"image_url_3\", \"public\".\"services\".\"image_url_4\", \"public\".\"services\".\"questions_id\", \"public\".\"services\".\"reviews_id\", \"public\".\"services\".\"category_id\", \"public\".\"services\".\"service_category_id\" FROM \"public\".\"services\" WHERE (\"public\".\"services\".\"service_id\" = $1 AND \"public\".\"services\".\"service_category_id\" = $2) LIMIT $3 OFFSET $4"
[00:13:10.313] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"specialists_id\" IN ($1,$2,$3) OFFSET $4"
[00:13:10.501] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1) OFFSET $2"
[00:13:10.514] Server  LOG     prisma:query "SELECT \"public\".\"questions\".\"questions_id\", \"public\".\"questions\".\"question\", \"public\".\"questions\".\"answer\", \"public\".\"questions\".\"category\", \"public\".\"questions\".\"service_id\" FROM \"public\".\"questions\" WHERE \"public\".\"questions\".\"service_id\" IN ($1) ORDER BY \"public\".\"questions\".\"questions_id\" ASC OFFSET $2"
[00:13:10.713] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"service_id\" IN ($1) ORDER BY \"public\".\"feedbacks\".\"date\" DESC OFFSET $2"
[00:13:10.714] Server  LOG     API: Category found: "Yes"
[00:13:10.916] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE \"public\".\"service_categories\".\"service_category_id\" IN ($1) OFFSET $2"
[00:13:11.334] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"service_id\" IN ($1) OFFSET $2"
[00:13:11.593] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:13:11.762] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"specialists_id\" IN ($1,$2,$3) OFFSET $4"
[00:13:11.997] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:13:12.178] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1,$2,$3) OFFSET $4"
[00:13:12.397] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:13:12.595] Server  LOG     prisma:query "SELECT \"public\".\"questions\".\"questions_id\", \"public\".\"questions\".\"question\", \"public\".\"questions\".\"answer\", \"public\".\"questions\".\"category\", \"public\".\"questions\".\"service_id\" FROM \"public\".\"questions\" WHERE \"public\".\"questions\".\"service_id\" IN ($1) OFFSET $2"
[00:13:12.794] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:13:12.997] Server  LOG     prisma:query "SELECT 1"
[00:13:13.013] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"service_id\" IN ($1) ORDER BY \"public\".\"feedbacks\".\"date\" DESC OFFSET $2"
[00:13:13.195] Server  LOG     prisma:query "BEGIN"
[00:13:13.251] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"slug\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:13:13.463] Server  LOG     prisma:query "SELECT \"public\".\"services\".\"service_id\", \"public\".\"services\".\"title\", \"public\".\"services\".\"subtitle\", \"public\".\"services\".\"price\", \"public\".\"services\".\"video_url\", \"public\".\"services\".\"description\", \"public\".\"services\".\"image_url\", \"public\".\"services\".\"image_url_1\", \"public\".\"services\".\"image_url_2\", \"public\".\"services\".\"image_url_3\", \"public\".\"services\".\"image_url_4\", \"public\".\"services\".\"questions_id\", \"public\".\"services\".\"reviews_id\", \"public\".\"services\".\"category_id\", \"public\".\"services\".\"service_category_id\" FROM \"public\".\"services\" WHERE (\"public\".\"services\".\"service_id\" = $1 AND \"public\".\"services\".\"service_category_id\" = $2) LIMIT $3 OFFSET $4"
[00:13:13.591] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:13:13.671] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1) OFFSET $2"
[00:13:13.797] Server  LOG     prisma:query "COMMIT"
[00:13:13.891] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE \"public\".\"service_categories\".\"service_category_id\" IN ($1) OFFSET $2"
[00:13:14.208] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"service_id\" IN ($1) OFFSET $2"
[00:13:14.479] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:13:14.532] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"specialists_id\" IN ($1,$2,$3) OFFSET $4"
[00:13:14.892] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1,$2,$3) OFFSET $4"
[00:13:15.129] Server  LOG     prisma:query "SELECT \"public\".\"questions\".\"questions_id\", \"public\".\"questions\".\"question\", \"public\".\"questions\".\"answer\", \"public\".\"questions\".\"category\", \"public\".\"questions\".\"service_id\" FROM \"public\".\"questions\" WHERE \"public\".\"questions\".\"service_id\" IN ($1) OFFSET $2"
[00:13:15.338] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"service_id\" IN ($1) ORDER BY \"public\".\"feedbacks\".\"date\" DESC OFFSET $2"
[00:13:18.182] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:13:24.393] Server  LOG     prisma:query "SELECT 1"
[00:13:24.811] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:13:25.231] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:13:25.652] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:13:26.077] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:13:26.288] Server  LOG     prisma:query "BEGIN"
[00:13:26.705] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:13:26.915] Server  LOG     prisma:query "COMMIT"
[00:13:27.341] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:13:30.128] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:13:30.340] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:13:30.549] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:13:30.758] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:13:30.968] Server  LOG     prisma:query "BEGIN"
[00:13:31.176] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:13:31.391] Server  LOG     prisma:query "COMMIT"
[00:13:31.605] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:13:33.217] Server  LOG     prisma:query "SELECT 1"
[00:13:33.221] Server  LOG     prisma:query "SELECT 1"
[00:13:33.416] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:13:33.426] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:13:33.431] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:13:33.630] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:13:33.849] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:13:44.048] Server  LOG     prisma:query "SELECT 1"
[00:13:44.255] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:13:44.464] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:13:44.679] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:13:44.905] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:13:45.117] Server  LOG     prisma:query "BEGIN"
[00:13:45.338] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:13:45.548] Server  LOG     prisma:query "COMMIT"
[00:13:45.758] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:13:49.057] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:13:59.064] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:13:59.276] Server  LOG     prisma:query "SELECT 1"
[00:13:59.532] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:13:59.748] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:13:59.963] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:14:00.172] Server  LOG     prisma:query "BEGIN"
[00:14:00.379] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:14:00.589] Server  LOG     prisma:query "COMMIT"
[00:14:00.800] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:14:04.051] Server  LOG     prisma:query "SELECT 1"
[00:14:04.055] Server  LOG     prisma:query "SELECT 1"
[00:14:04.060] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:14:04.249] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:14:04.260] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:14:04.463] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:14:04.648] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:14:14.038] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:14:14.238] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:14:14.436] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:14:14.634] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:14:14.832] Server  LOG     prisma:query "BEGIN"
[00:14:15.030] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:14:15.230] Server  LOG     prisma:query "COMMIT"
[00:14:15.433] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:14:19.048] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:14:29.039] Server  LOG     prisma:query "SELECT 1"
[00:14:29.243] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:14:29.443] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:14:29.643] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:14:29.842] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:14:30.041] Server  LOG     prisma:query "BEGIN"
[00:14:30.238] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:14:30.440] Server  LOG     prisma:query "COMMIT"
[00:14:30.643] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:14:34.044] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:14:34.049] Server  LOG     prisma:query "SELECT 1"
[00:14:34.053] Server  LOG     prisma:query "SELECT 1"
[00:14:34.252] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:14:34.262] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:14:34.456] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:14:34.476] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:14:44.055] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:14:44.268] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:14:44.480] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:14:44.688] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:14:44.897] Server  LOG     prisma:query "BEGIN"
[00:14:45.109] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:14:45.321] Server  LOG     prisma:query "COMMIT"
[00:14:45.532] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:14:54.662] Server  LOG     prisma:query "SELECT 1"
[00:14:54.734] Server  LOG     prisma:query "SELECT 1"
[00:14:54.870] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:14:54.937] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:14:55.157] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:14:55.379] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:14:57.056] Server  LOG     prisma:query "SELECT 1"
[00:14:57.060] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:14:57.065] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:14:57.257] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:14:57.265] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:14:57.280] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:14:57.458] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:14:57.659] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:14:57.857] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:14:58.059] Server  LOG     prisma:query "BEGIN"
[00:14:58.259] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:14:58.459] Server  LOG     prisma:query "COMMIT"
[00:14:58.661] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:15:04.049] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:15:10.049] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:15:10.250] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:15:10.448] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:15:10.646] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:15:10.846] Server  LOG     prisma:query "BEGIN"
[00:15:11.045] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:15:11.248] Server  LOG     prisma:query "COMMIT"
[00:15:11.449] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:15:19.051] Server  LOG     prisma:query "SELECT 1"
[00:15:19.266] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:15:25.055] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:15:25.057] Server  LOG     prisma:query "SELECT 1"
[00:15:25.062] Server  LOG     prisma:query "SELECT 1"
[00:15:25.269] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:15:25.270] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:15:25.276] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:15:25.395] Server  LOG      ✓ Compiled in 243ms
[00:15:25.523] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:15:25.523] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:15:25.798] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:15:26.313] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"slug\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:15:26.365] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:15:26.587] Server  LOG     prisma:query "BEGIN"
[00:15:26.784] Server  LOG     prisma:query "SELECT \"public\".\"services\".\"service_id\", \"public\".\"services\".\"title\", \"public\".\"services\".\"subtitle\", \"public\".\"services\".\"price\", \"public\".\"services\".\"video_url\", \"public\".\"services\".\"description\", \"public\".\"services\".\"image_url\", \"public\".\"services\".\"image_url_1\", \"public\".\"services\".\"image_url_2\", \"public\".\"services\".\"image_url_3\", \"public\".\"services\".\"image_url_4\", \"public\".\"services\".\"questions_id\", \"public\".\"services\".\"reviews_id\", \"public\".\"services\".\"category_id\", \"public\".\"services\".\"service_category_id\" FROM \"public\".\"services\" WHERE (\"public\".\"services\".\"service_id\" = $1 AND \"public\".\"services\".\"service_category_id\" = $2) LIMIT $3 OFFSET $4"
[00:15:26.861] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:15:27.107] Server  LOG     prisma:query "COMMIT"
[00:15:27.267] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1) OFFSET $2"
[00:15:27.344] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:15:27.664] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE \"public\".\"service_categories\".\"service_category_id\" IN ($1) OFFSET $2"
[00:15:27.864] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"service_id\" IN ($1) OFFSET $2"
[00:15:28.068] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"specialists_id\" IN ($1,$2,$3) OFFSET $4"
[00:15:28.466] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1,$2,$3) OFFSET $4"
[00:15:28.866] Server  LOG     prisma:query "SELECT \"public\".\"questions\".\"questions_id\", \"public\".\"questions\".\"question\", \"public\".\"questions\".\"answer\", \"public\".\"questions\".\"category\", \"public\".\"questions\".\"service_id\" FROM \"public\".\"questions\" WHERE \"public\".\"questions\".\"service_id\" IN ($1) OFFSET $2"
[00:15:29.065] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"service_id\" IN ($1) ORDER BY \"public\".\"feedbacks\".\"date\" DESC OFFSET $2"
[00:15:34.044] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:15:40.042] Server  LOG     prisma:query "SELECT 1"
[00:15:40.246] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:15:40.543] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:15:40.743] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:15:40.941] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:15:41.140] Server  LOG     prisma:query "BEGIN"
[00:15:41.341] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:15:41.539] Server  LOG     prisma:query "COMMIT"
[00:15:41.740] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:15:49.053] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:15:55.065] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:15:55.072] Server  LOG     prisma:query "SELECT 1"
[00:15:55.074] Server  LOG     prisma:query "SELECT 1"
[00:15:55.269] Server  LOG     prisma:query "SELECT 1"
[00:15:55.276] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:15:55.282] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:15:55.468] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:15:55.482] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:15:55.492] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:15:55.692] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:15:55.895] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:15:56.100] Server  LOG     prisma:query "BEGIN"
[00:15:56.303] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:15:56.506] Server  LOG     prisma:query "COMMIT"
[00:15:56.713] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:15:56.987] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:15:57.138] Browser ERROR   uncaughtError: TypeError: navigate is not a function
[00:15:57.200] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:15:57.292] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:15:57.293] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:15:57.298] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:15:57.418] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:15:57.495] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:15:57.498] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:15:57.507] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:15:57.696] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:15:57.898] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:15:58.105] Server  LOG     prisma:query "BEGIN"
[00:15:58.235] Browser ERROR   uncaughtError: TypeError: navigate is not a function
[00:15:58.304] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:15:58.503] Server  LOG     prisma:query "COMMIT"
[00:15:58.705] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:16:03.639] Server  LOG      ✓ Compiled in 187ms
[00:16:03.934] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"slug\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:04.068] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:16:04.139] Server  LOG     prisma:query "SELECT \"public\".\"services\".\"service_id\", \"public\".\"services\".\"title\", \"public\".\"services\".\"subtitle\", \"public\".\"services\".\"price\", \"public\".\"services\".\"video_url\", \"public\".\"services\".\"description\", \"public\".\"services\".\"image_url\", \"public\".\"services\".\"image_url_1\", \"public\".\"services\".\"image_url_2\", \"public\".\"services\".\"image_url_3\", \"public\".\"services\".\"image_url_4\", \"public\".\"services\".\"questions_id\", \"public\".\"services\".\"reviews_id\", \"public\".\"services\".\"category_id\", \"public\".\"services\".\"service_category_id\" FROM \"public\".\"services\" WHERE (\"public\".\"services\".\"service_id\" = $1 AND \"public\".\"services\".\"service_category_id\" = $2) LIMIT $3 OFFSET $4"
[00:16:04.363] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1) OFFSET $2"
[00:16:04.600] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE \"public\".\"service_categories\".\"service_category_id\" IN ($1) OFFSET $2"
[00:16:04.800] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"service_id\" IN ($1) OFFSET $2"
[00:16:05.010] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"specialists_id\" IN ($1,$2,$3) OFFSET $4"
[00:16:05.214] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1,$2,$3) OFFSET $4"
[00:16:05.414] Server  LOG     prisma:query "SELECT \"public\".\"questions\".\"questions_id\", \"public\".\"questions\".\"question\", \"public\".\"questions\".\"answer\", \"public\".\"questions\".\"category\", \"public\".\"questions\".\"service_id\" FROM \"public\".\"questions\" WHERE \"public\".\"questions\".\"service_id\" IN ($1) OFFSET $2"
[00:16:05.611] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"service_id\" IN ($1) ORDER BY \"public\".\"feedbacks\".\"date\" DESC OFFSET $2"
[00:16:12.019] Server  LOG      ✓ Compiled in 168ms
[00:16:12.752] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:13.153] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:16:13.549] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:16:13.946] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:16:14.146] Server  LOG     prisma:query "BEGIN"
[00:16:14.541] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:16:14.740] Server  LOG     prisma:query "COMMIT"
[00:16:15.138] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:16:16.073] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:16.284] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:16.501] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:17.648] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:16:17.922] Server  LOG     prisma:query "SELECT 1"
[00:16:18.065] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:16:18.119] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:18.279] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:16:18.491] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:16:18.516] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:16:19.065] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:16:19.276] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:16:19.547] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:16:19.559] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:19.761] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:16:19.949] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:16:19.957] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:16:20.487] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:16:20.883] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:16:21.083] Server  LOG     prisma:query "BEGIN"
[00:16:21.482] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:16:21.573] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"categori_id\" = $1 ORDER BY \"public\".\"specialists\".\"name\" ASC OFFSET $2"
[00:16:21.681] Server  LOG     prisma:query "COMMIT"
[00:16:21.970] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1) OFFSET $2"
[00:16:22.080] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:16:23.374] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:23.576] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:16:23.774] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:16:24.065] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:16:24.380] Server  LOG     prisma:query "BEGIN"
[00:16:24.633] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:16:24.843] Server  LOG     prisma:query "COMMIT"
[00:16:25.066] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:16:25.231] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE (\"public\".\"specialists\".\"specialists_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:25.476] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1) OFFSET $2"
[00:16:25.897] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"specialist_id\" IN ($1) OFFSET $2"
[00:16:26.003] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:26.127] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE (\"public\".\"specialists\".\"specialists_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:26.204] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:16:26.327] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1) OFFSET $2"
[00:16:26.404] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:16:26.525] Server  LOG     prisma:query "SELECT \"public\".\"service_specialists\".\"service_id\", \"public\".\"service_specialists\".\"specialist_id\" FROM \"public\".\"service_specialists\" WHERE \"public\".\"service_specialists\".\"specialist_id\" IN ($1) OFFSET $2"
[00:16:26.603] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:16:26.802] Server  LOG     prisma:query "BEGIN"
[00:16:27.001] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:16:27.199] Server  LOG     prisma:query "COMMIT"
[00:16:27.409] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:16:29.945] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:30.159] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:30.377] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:32.038] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:16:32.039] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:32.040] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:32.244] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:16:32.441] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:16:32.445] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:16:32.446] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:16:32.643] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:16:32.843] Server  LOG     prisma:query "BEGIN"
[00:16:33.042] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:16:33.241] Server  LOG     prisma:query "COMMIT"
[00:16:33.377] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:16:33.442] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:16:41.432] Browser ERROR   uncaughtError: TypeError: Cannot read properties of undefined (reading 'replace')
[00:16:48.802] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:16:48.993] Browser LOG     Fetching feedbacks with limit: 3
[00:16:49.101] Server  LOG     prisma:query "SELECT 1"
[00:16:49.110] Server  LOG     prisma:query "SELECT 1"
[00:16:49.194] Server  LOG     prisma:query "SELECT 1"
[00:16:49.201] Server  LOG     prisma:query "SELECT 1"
[00:16:49.504] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:16:49.517] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:16:49.596] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:49.607] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:16:49.717] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:16:49.925] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:16:49.943] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:16:50.049] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:50.051] Browser LOG     Response status: 200
[00:16:50.051] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:16:50.163] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:16:50.279] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:51.199] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:51.399] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:16:51.400] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:16:51.608] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:16:51.608] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:16:51.809] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:16:52.210] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:16:52.484] Browser ERROR   uncaughtError: TypeError: Cannot read properties of undefined (reading 'replace')
[00:16:52.606] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:16:52.810] Server  LOG     prisma:query "BEGIN"
[00:16:53.205] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:16:53.403] Server  LOG     prisma:query "COMMIT"
[00:16:53.804] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:17:02.195] Server  LOG      ✓ Compiled in 212ms
[00:17:02.202] Server  WARN     ⚠ Fast Refresh had to perform a full reload due to a runtime error.
[00:17:02.684] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:17:03.116] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:03.331] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:03.455] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:03.457] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:17:03.538] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:03.665] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:03.872] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:06.042] Server  LOG     prisma:query "SELECT 1"
[00:17:06.042] Server  LOG     prisma:query "SELECT 1"
[00:17:06.046] Server  LOG     prisma:query "SELECT 1"
[00:17:06.240] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:17:06.241] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:06.244] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:06.641] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:17:06.641] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:17:06.641] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:17:07.049] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:17:07.444] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:17:07.643] Server  LOG     prisma:query "BEGIN"
[00:17:08.038] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:17:08.237] Server  LOG     prisma:query "COMMIT"
[00:17:08.637] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:17:09.941] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:10.576] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:10.815] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:10.972] Browser LOG     Fetching feedbacks with limit: 3
[00:17:10.972] Browser LOG     Fetching feedbacks with limit: 3
[00:17:11.278] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:11.288] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:11.488] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:11.688] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:11.795] Browser LOG     Response status: 200
[00:17:11.795] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:11.901] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:12.016] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:17:12.029] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:12.101] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:12.207] Browser LOG     Response status: 200
[00:17:12.207] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:12.217] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:17:12.233] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:17:13.089] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:13.292] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:17:13.512] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:17:13.689] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:17:13.890] Server  LOG     prisma:query "BEGIN"
[00:17:14.088] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:17:14.288] Server  LOG     prisma:query "COMMIT"
[00:17:14.488] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:17:14.587] Browser LOG     Fetching feedbacks with limit: 3
[00:17:14.587] Browser LOG     Fetching feedbacks with limit: 3
[00:17:14.704] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:14.720] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:14.915] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:14.919] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:15.036] Browser LOG     Response status: 200
[00:17:15.036] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:15.134] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:15.336] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:15.442] Browser LOG     Response status: 200
[00:17:15.442] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:16.713] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:16.896] Server  LOG     API: Fetching category with slug: "pediatric-dentistry"
[00:17:16.919] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:17:17.118] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:17:17.300] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"slug\" = $1 AND \"public\".\"service_categories\".\"is_active\" = $2) LIMIT $3 OFFSET $4"
[00:17:17.301] Server  LOG     API: Category found: "No"
[00:17:17.320] Server  LOG     API: Fetching category with slug: "pediatric-dentistry"
[00:17:17.322] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:17:17.521] Server  LOG     prisma:query "BEGIN"
[00:17:17.721] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:17:17.745] Server  LOG     prisma:query "SELECT \"public\".\"service_categories\".\"service_category_id\", \"public\".\"service_categories\".\"name\", \"public\".\"service_categories\".\"slug\", \"public\".\"service_categories\".\"icon\", \"public\".\"service_categories\".\"description\", \"public\".\"service_categories\".\"parent_id\", \"public\".\"service_categories\".\"order\", \"public\".\"service_categories\".\"is_active\", \"public\".\"service_categories\".\"created_at\", \"public\".\"service_categories\".\"updated_at\" FROM \"public\".\"service_categories\" WHERE (\"public\".\"service_categories\".\"slug\" = $1 AND \"public\".\"service_categories\".\"is_active\" = $2) LIMIT $3 OFFSET $4"
[00:17:17.745] Server  LOG     API: Category found: "No"
[00:17:17.967] Server  LOG     prisma:query "COMMIT"
[00:17:18.168] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:17:18.564] Browser LOG     Fetching feedbacks with limit: 3
[00:17:18.564] Browser LOG     Fetching feedbacks with limit: 3
[00:17:18.657] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:17:18.673] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:18.685] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:18.883] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:18.887] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:19.002] Browser LOG     Response status: 200
[00:17:19.002] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:19.095] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:19.296] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:19.415] Browser LOG     Response status: 200
[00:17:19.415] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:20.673] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:20.874] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:17:21.125] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:17:21.271] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:17:21.474] Server  LOG     prisma:query "SELECT 1"
[00:17:21.674] Server  LOG     prisma:query "BEGIN"
[00:17:21.874] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:17:22.071] Server  LOG     prisma:query "COMMIT"
[00:17:22.277] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:17:22.768] Browser LOG     Fetching feedbacks with limit: 3
[00:17:22.768] Browser LOG     Fetching feedbacks with limit: 3
[00:17:22.871] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:23.086] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:23.323] Server  LOG     prisma:query "SELECT 1"
[00:17:23.521] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:23.725] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:23.850] Browser LOG     Response status: 200
[00:17:23.850] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:23.943] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:24.146] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:24.256] Browser LOG     Response status: 200
[00:17:24.256] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:25.080] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:25.281] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:17:25.482] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:17:25.680] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:17:25.880] Server  LOG     prisma:query "BEGIN"
[00:17:26.078] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:17:26.290] Server  LOG     prisma:query "COMMIT"
[00:17:26.623] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:17:26.644] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:26.856] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:27.081] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:27.294] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:27.662] Browser LOG     Fetching feedbacks with limit: 3
[00:17:27.662] Browser LOG     Fetching feedbacks with limit: 3
[00:17:27.776] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:27.780] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:27.979] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:27.991] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:28.088] Browser LOG     Response status: 200
[00:17:28.088] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:28.191] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:28.392] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:28.501] Browser LOG     Response status: 200
[00:17:28.501] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:29.775] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:30.006] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:17:30.178] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:17:30.320] Server  LOG     prisma:query "SELECT 1"
[00:17:30.377] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:17:30.508] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:17:30.525] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:30.577] Server  LOG     prisma:query "BEGIN"
[00:17:30.736] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:30.774] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:17:30.920] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:17:30.971] Server  LOG     prisma:query "COMMIT"
[00:17:31.133] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:17:31.176] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:17:31.544] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:17:32.057] Browser LOG     Fetching feedbacks with limit: 3
[00:17:32.057] Browser LOG     Fetching feedbacks with limit: 3
[00:17:32.166] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:32.170] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:32.370] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:32.391] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:32.476] Browser LOG     Response status: 200
[00:17:32.476] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:32.583] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:32.782] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:32.886] Browser LOG     Response status: 200
[00:17:32.886] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:33.494] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:17:34.170] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:34.370] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:17:34.569] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:17:34.768] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:17:34.970] Server  LOG     prisma:query "BEGIN"
[00:17:35.596] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:17:35.794] Server  LOG     prisma:query "COMMIT"
[00:17:35.999] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:17:36.015] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:17:36.029] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:36.242] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:36.628] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:17:36.837] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:17:37.059] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:17:38.005] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:38.207] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:17:38.406] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:17:38.605] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:17:38.806] Server  LOG     prisma:query "BEGIN"
[00:17:39.006] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:17:39.125] Browser LOG     Fetching feedbacks with limit: 3
[00:17:39.125] Browser LOG     Fetching feedbacks with limit: 3
[00:17:39.204] Server  LOG     prisma:query "COMMIT"
[00:17:39.228] Server  LOG     prisma:query "SELECT 1"
[00:17:39.240] Server  LOG     prisma:query "SELECT 1"
[00:17:39.409] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:17:39.433] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:39.443] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:39.641] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:39.655] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:39.764] Browser LOG     Response status: 200
[00:17:39.764] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:39.885] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:39.976] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:17:39.978] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:40.086] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:40.176] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:17:40.179] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:17:40.189] Browser LOG     Response status: 200
[00:17:40.189] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:41.240] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:41.443] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:17:41.640] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:17:41.840] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:17:42.042] Server  LOG     prisma:query "BEGIN"
[00:17:42.240] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:17:42.440] Server  LOG     prisma:query "COMMIT"
[00:17:42.642] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:17:43.015] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:43.122] Browser LOG     Loaded contacts from API: {"address":"Витебская обл., г. Новополоцк, ул. Парковая, д. 16А, пом.1","email":"6310707df@gmail.com","id":10,"map_geo":"55.5405143,28.6375773","phone_number":"+375(29)631-07-07","phone_number_sec":"+375(29)632-07-07","work_hours_main":"Пн–Пт 08:00–21:00","work_hours_sunday":"Сб-Вс 09:00–18:00"}
[00:17:43.228] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:43.333] Browser LOG     Loaded contacts from API: {"address":"Витебская обл., г. Новополоцк, ул. Парковая, д. 16А, пом.1","email":"6310707df@gmail.com","id":10,"map_geo":"55.5405143,28.6375773","phone_number":"+375(29)631-07-07","phone_number_sec":"+375(29)632-07-07","work_hours_main":"Пн–Пт 08:00–21:00","work_hours_sunday":"Сб-Вс 09:00–18:00"}
[00:17:44.713] Browser LOG     Fetching feedbacks with limit: 3
[00:17:44.713] Browser LOG     Fetching feedbacks with limit: 3
[00:17:44.820] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:44.826] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:45.029] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:45.034] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:17:45.137] Browser LOG     Response status: 200
[00:17:45.137] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:45.451] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:17:45.654] Server  LOG     prisma:query "SELECT 1"
[00:17:46.050] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:17:46.839] Browser LOG     Response status: 200
[00:17:46.839] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:17:47.047] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:17:47.247] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:17:47.447] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:17:47.647] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:17:47.849] Server  LOG     prisma:query "BEGIN"
[00:17:48.468] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:17:48.668] Server  LOG     prisma:query "COMMIT"
[00:17:48.874] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:17:49.000] Server  LOG      ✓ Compiled in 232ms
[00:17:49.059] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:18:00.043] Server  LOG     prisma:query "SELECT 1"
[00:18:00.243] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:18:00.442] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:18:00.639] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:18:00.837] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:18:01.037] Server  LOG     prisma:query "BEGIN"
[00:18:01.235] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:18:01.432] Server  LOG     prisma:query "COMMIT"
[00:18:01.631] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:18:04.048] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:18:10.052] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:18:10.053] Server  LOG     prisma:query "SELECT 1"
[00:18:10.252] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:18:10.253] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:18:10.452] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:18:15.044] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:18:15.248] Server  LOG     prisma:query "SELECT 1"
[00:18:15.449] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:18:15.650] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:18:15.848] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:18:16.048] Server  LOG     prisma:query "BEGIN"
[00:18:16.248] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:18:16.449] Server  LOG     prisma:query "COMMIT"
[00:18:16.650] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:18:19.040] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:18:30.045] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:18:30.244] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:18:30.443] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:18:30.642] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:18:30.842] Server  LOG     prisma:query "SELECT 1"
[00:18:31.041] Server  LOG     prisma:query "BEGIN"
[00:18:31.238] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:18:31.436] Server  LOG     prisma:query "COMMIT"
[00:18:31.636] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:18:34.037] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:18:40.056] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:18:40.057] Server  LOG     prisma:query "SELECT 1"
[00:18:40.270] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:18:40.272] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:18:40.473] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:18:45.034] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:18:45.234] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:18:45.432] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:18:45.631] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:18:45.833] Server  LOG     prisma:query "BEGIN"
[00:18:46.031] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:18:46.229] Server  LOG     prisma:query "COMMIT"
[00:18:46.429] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:19:00.047] Server  LOG     prisma:query "SELECT 1"
[00:19:00.247] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:00.449] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:19:00.649] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:19:00.847] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:19:01.047] Server  LOG     prisma:query "BEGIN"
[00:19:01.248] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:19:01.446] Server  LOG     prisma:query "COMMIT"
[00:19:01.646] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:19:10.044] Server  LOG     prisma:query "SELECT 1"
[00:19:10.044] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:19:10.243] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:10.246] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:19:10.443] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:19:13.047] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:19:15.043] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:15.242] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:19:15.443] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:19:15.640] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:19:15.839] Server  LOG     prisma:query "BEGIN"
[00:19:16.037] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:19:16.236] Server  LOG     prisma:query "COMMIT"
[00:19:16.439] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:19:39.841] Server  LOG     prisma:query "SELECT 1"
[00:19:39.841] Server  LOG     prisma:query "SELECT 1"
[00:19:39.911] Server  LOG     prisma:query "SELECT 1"
[00:19:40.049] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:19:40.049] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:40.110] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:40.252] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:19:40.322] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:40.452] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:19:40.535] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:40.650] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:19:40.850] Server  LOG     prisma:query "BEGIN"
[00:19:41.050] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:19:41.252] Server  LOG     prisma:query "COMMIT"
[00:19:41.452] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:19:41.950] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:41.951] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:19:41.951] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:42.153] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:19:42.154] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:19:42.352] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:19:42.353] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:19:42.553] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:19:42.755] Server  LOG     prisma:query "BEGIN"
[00:19:42.962] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:19:43.163] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:19:43.167] Server  LOG     prisma:query "COMMIT"
[00:19:43.168] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:19:43.371] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:19:43.403] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:19:43.792] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:19:44.006] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:19:44.432] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:19:44.572] Browser LOG     Fetching feedbacks with limit: 3
[00:19:44.572] Browser LOG     Fetching feedbacks with limit: 3
[00:19:44.691] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:19:44.702] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:19:44.905] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:19:44.906] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:19:45.033] Browser LOG     Response status: 200
[00:19:45.033] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:19:45.123] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:19:45.324] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:19:45.431] Browser LOG     Response status: 200
[00:19:45.431] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:19:47.042] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:47.243] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:19:47.441] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:19:47.639] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:19:47.839] Server  LOG     prisma:query "BEGIN"
[00:19:48.037] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:19:48.236] Server  LOG     prisma:query "COMMIT"
[00:19:48.282] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:48.440] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:19:48.471] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:19:48.493] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:48.700] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:50.308] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:19:50.310] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:50.311] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:19:50.509] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:19:50.512] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:19:50.513] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:19:50.714] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:19:50.914] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:19:51.117] Server  LOG     prisma:query "BEGIN"
[00:19:51.314] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:19:51.517] Server  LOG     prisma:query "COMMIT"
[00:19:51.719] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:19:59.499] Server  LOG      ✓ Compiled in 245ms
[00:20:04.045] Server  LOG     prisma:query "SELECT 1"
[00:20:04.046] Server  LOG     prisma:query "SELECT 1"
[00:20:04.243] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:20:04.245] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:20:04.261] Server  LOG     prisma:query "SELECT 1"
[00:20:04.447] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:20:04.459] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:20:04.645] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:20:04.671] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:20:04.842] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:20:04.886] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:20:05.042] Server  LOG     prisma:query "BEGIN"
[00:20:05.241] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:20:05.854] Server  LOG     prisma:query "COMMIT"
[00:20:06.056] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:20:06.276] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:20:06.277] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:20:06.287] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:20:06.485] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:20:06.486] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:20:06.494] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:20:06.687] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:20:06.885] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:20:07.090] Server  LOG     prisma:query "BEGIN"
[00:20:07.288] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:20:07.496] Server  LOG     prisma:query "COMMIT"
[00:20:07.698] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:20:09.353] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:20:09.563] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:20:09.564] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:20:09.783] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:20:09.998] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:20:10.019] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"categori_id\" = $1 ORDER BY \"public\".\"specialists\".\"name\" ASC OFFSET $2"
[00:20:10.218] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE 1=1 ORDER BY \"public\".\"categories\".\"name\" ASC OFFSET $1"
[00:20:10.219] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1) OFFSET $2"
[00:20:10.455] Server  LOG     prisma:query "SELECT \"public\".\"specialists\".\"specialists_id\", \"public\".\"specialists\".\"categori_id\", \"public\".\"specialists\".\"name\", \"public\".\"specialists\".\"specialization\", \"public\".\"specialists\".\"qualification\", \"public\".\"specialists\".\"experience\", \"public\".\"specialists\".\"grade\", \"public\".\"specialists\".\"image_url\", \"public\".\"specialists\".\"activity_area\", \"public\".\"specialists\".\"education_details\", \"public\".\"specialists\".\"conferences\", \"public\".\"specialists\".\"specializations\", \"public\".\"specialists\".\"education\", \"public\".\"specialists\".\"work_examples\" FROM \"public\".\"specialists\" WHERE \"public\".\"specialists\".\"categori_id\" = $1 ORDER BY \"public\".\"specialists\".\"name\" ASC OFFSET $2"
[00:20:10.653] Server  LOG     prisma:query "SELECT \"public\".\"categories\".\"category_id\", \"public\".\"categories\".\"name\", \"public\".\"categories\".\"slug\" FROM \"public\".\"categories\" WHERE \"public\".\"categories\".\"category_id\" IN ($1) OFFSET $2"
[00:20:11.328] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:20:11.529] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:20:11.735] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:20:11.883] Browser LOG     Fetching feedbacks with limit: 3
[00:20:11.883] Browser LOG     Fetching feedbacks with limit: 3
[00:20:11.925] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:20:11.996] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:20:12.000] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:20:12.126] Server  LOG     prisma:query "BEGIN"
[00:20:12.201] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:20:12.213] Server  LOG     prisma:query "SELECT \"public\".\"contacts\".\"contact_id\", \"public\".\"contacts\".\"address\", \"public\".\"contacts\".\"map_geo\", \"public\".\"contacts\".\"work_hours_main\", \"public\".\"contacts\".\"work_hours_sunday\", \"public\".\"contacts\".\"phone_number\", \"public\".\"contacts\".\"phone_number_sec\", \"public\".\"contacts\".\"email\" FROM \"public\".\"contacts\" WHERE 1=1 LIMIT $1 OFFSET $2"
[00:20:12.684] Browser LOG     Response status: 200
[00:20:12.684] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:20:12.685] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:20:12.685] Server  LOG     prisma:query "SELECT \"public\".\"feedbacks\".\"reviews_id\", \"public\".\"feedbacks\".\"name\", \"public\".\"feedbacks\".\"text\", \"public\".\"feedbacks\".\"date\", \"public\".\"feedbacks\".\"grade\", \"public\".\"feedbacks\".\"image_url\", \"public\".\"feedbacks\".\"verified\", \"public\".\"feedbacks\".\"service_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 ORDER BY \"public\".\"feedbacks\".\"date\" DESC LIMIT $2 OFFSET $3"
[00:20:12.685] Server  LOG     prisma:query "COMMIT"
[00:20:12.892] Server  LOG     prisma:query "SELECT COUNT(*) AS \"_count$_all\" FROM (SELECT \"public\".\"feedbacks\".\"reviews_id\" FROM \"public\".\"feedbacks\" WHERE \"public\".\"feedbacks\".\"verified\" = $1 OFFSET $2) AS \"sub\""
[00:20:12.896] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:20:12.998] Browser LOG     Response status: 200
[00:20:12.998] Browser LOG     Received feedbacks data: {"pagination":{"limit":3,"page":1,"total":12,"totalPages":4},"reviews":[{"date":"2025-01-15T00:00:00.000Z","grade":5,"id":474,"image_url":"/images/avatars/default.jpg","name":"Анна Петрова","service_id":null,"text":"Замечательная клиника! Современное оборудование, профессиональные врачи. Особенно хочу отметить детского стоматолога - ребенок впервые не боялся лечить зубы.","verified":true},{"date":"2025-01-12T00:00:00.000Z","grade":5,"id":475,"image_url":"/images/avatars/default.jpg","name":"Дмитрий Сидоров","service_id":null,"text":"Прошел полное обследование в клинике. Очень доволен качеством услуг и отношением персонала. Все процедуры выполнены на высшем уровне.","verified":true},{"date":"2025-01-10T00:00:00.000Z","grade":4,"id":476,"image_url":"/images/avatars/default.jpg","name":"Елена Козлова","service_id":null,"text":"Хорошая клиника с современным оборудованием. Врачи профессиональные, но иногда приходится долго ждать приема.","verified":true}]}
[00:20:14.043] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:20:14.247] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:20:14.448] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:20:14.647] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:20:14.855] Server  LOG     prisma:query "BEGIN"
[00:20:15.054] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:20:15.262] Server  LOG     prisma:query "COMMIT"
[00:20:15.469] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:20:16.986] Server  LOG      ✓ Compiled in 245ms
[00:20:19.040] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:20:27.046] Server  LOG     prisma:query "SELECT 1"
[00:20:27.244] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:20:27.447] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:20:27.645] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:20:27.843] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:20:28.042] Server  LOG     prisma:query "BEGIN"
[00:20:28.239] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:20:28.440] Server  LOG     prisma:query "COMMIT"
[00:20:28.642] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:20:34.046] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:20:35.053] Server  LOG     prisma:query "SELECT 1"
[00:20:35.053] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:20:35.253] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:20:35.253] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:20:35.452] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:20:42.045] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:20:42.244] Server  LOG     prisma:query "SELECT 1"
[00:20:42.444] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:20:42.643] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:20:42.841] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:20:43.042] Server  LOG     prisma:query "BEGIN"
[00:20:43.241] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:20:43.439] Server  LOG     prisma:query "COMMIT"
[00:20:43.671] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:20:49.042] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:20:57.041] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:20:57.244] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:20:57.442] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:20:57.641] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:20:57.843] Server  LOG     prisma:query "SELECT 1"
[00:20:58.042] Server  LOG     prisma:query "BEGIN"
[00:20:58.239] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:20:58.437] Server  LOG     prisma:query "COMMIT"
[00:20:58.637] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:21:01.392] Server  LOG      ✓ Compiled in 139ms
[00:21:04.039] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:21:04.426] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:21:04.438] Server  LOG     prisma:query "SELECT 1"
[00:21:04.500] Server  LOG     prisma:query "SELECT 1"
[00:21:04.629] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:21:04.636] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:21:04.700] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:21:04.838] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:21:04.912] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:21:05.122] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:21:06.510] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:21:06.511] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:21:06.511] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:21:06.715] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:21:06.715] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:21:06.726] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:21:06.913] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:21:07.112] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:21:07.314] Server  LOG     prisma:query "BEGIN"
[00:21:07.513] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:21:07.712] Server  LOG     prisma:query "COMMIT"
[00:21:07.914] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:21:16.920] Server  LOG      ✓ Compiled in 152ms
[00:21:19.051] Server  LOG     prisma:query "SELECT 1"
[00:21:19.251] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:21:21.865] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:21:22.283] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:21:22.699] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:21:23.123] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:21:23.333] Server  LOG     prisma:query "BEGIN"
[00:21:23.752] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:21:23.959] Server  LOG     prisma:query "COMMIT"
[00:21:24.494] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:21:34.262] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:21:35.283] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:21:35.721] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:21:36.720] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:21:36.752] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:21:37.187] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:21:37.200] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:21:37.669] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:21:38.090] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:21:38.289] Server  LOG     prisma:query "BEGIN"
[00:21:38.755] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:21:38.964] Server  LOG     prisma:query "COMMIT"
[00:21:39.401] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:21:49.256] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:21:50.046] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:21:50.246] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:21:50.443] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:21:50.642] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:21:50.841] Server  LOG     prisma:query "BEGIN"
[00:21:51.038] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:21:51.238] Server  LOG     prisma:query "COMMIT"
[00:21:51.438] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
[00:22:04.046] Server  LOG     prisma:query "SELECT 1"
[00:22:04.249] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\")) AND \"public\".\"operator_chats\".\"has_unread_patient\" = $4) LIMIT $5 OFFSET $6"
[00:22:05.053] Server  LOG     prisma:query "SELECT 1"
[00:22:05.060] Server  LOG     prisma:query "SELECT 1"
[00:22:05.255] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"role\"::text FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:22:05.255] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"replied_at\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND \"public\".\"letters\".\"reply\" IS NOT NULL AND \"public\".\"letters\".\"is_reply_read\" = $2) OFFSET $3"
[00:22:05.269] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"is_messages_blocked\" FROM \"public\".\"patients\" WHERE (\"public\".\"patients\".\"patient_id\" = $1 AND 1=1) LIMIT $2 OFFSET $3"
[00:22:05.483] Server  LOG     prisma:query "SELECT \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\" FROM \"public\".\"operator_chats\" WHERE (\"public\".\"operator_chats\".\"patient_id\" = $1 AND \"public\".\"operator_chats\".\"status\" IN (CAST($2::text AS \"public\".\"ChatStatus\"),CAST($3::text AS \"public\".\"ChatStatus\"))) LIMIT $4 OFFSET $5"
[00:22:05.658] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"subject\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"patient_id\" = $1 AND EXISTS(SELECT \"t0\".\"letter_id\" FROM \"public\".\"letter_messages\" AS \"t0\" WHERE (\"t0\".\"sender_type\" = $2 AND \"t0\".\"is_read\" = $3 AND (\"public\".\"letters\".\"letter_id\") = (\"t0\".\"letter_id\") AND \"t0\".\"letter_id\" IS NOT NULL))) OFFSET $4"
[00:22:05.658] Server  LOG     prisma:query "SELECT \"public\".\"letters\".\"letter_id\", \"public\".\"letters\".\"patient_id\", \"public\".\"letters\".\"subject\", \"public\".\"letters\".\"content\", \"public\".\"letters\".\"created_at\", \"public\".\"letters\".\"reply\", \"public\".\"letters\".\"replied_at\", \"public\".\"letters\".\"is_read\", \"public\".\"letters\".\"is_reply_read\", \"public\".\"letters\".\"has_new_patient_message\" FROM \"public\".\"letters\" WHERE (\"public\".\"letters\".\"is_read\" = $1 OR \"public\".\"letters\".\"has_new_patient_message\" = $2) ORDER BY \"public\".\"letters\".\"created_at\" DESC OFFSET $3"
[00:22:05.691] Server  LOG     prisma:query "SELECT \"public\".\"operator_chat_messages\".\"message_id\", \"public\".\"operator_chat_messages\".\"chat_id\", \"public\".\"operator_chat_messages\".\"sender_id\", \"public\".\"operator_chat_messages\".\"sender_type\", \"public\".\"operator_chat_messages\".\"content\", \"public\".\"operator_chat_messages\".\"created_at\", \"public\".\"operator_chat_messages\".\"is_read\" FROM \"public\".\"operator_chat_messages\" WHERE \"public\".\"operator_chat_messages\".\"chat_id\" IN ($1) ORDER BY \"public\".\"operator_chat_messages\".\"created_at\" ASC OFFSET $2"
[00:22:05.899] Server  LOG     prisma:query "SELECT \"public\".\"patients\".\"patient_id\", \"public\".\"patients\".\"name\", \"public\".\"patients\".\"avatar_url\" FROM \"public\".\"patients\" WHERE \"public\".\"patients\".\"patient_id\" IN ($1) OFFSET $2"
[00:22:06.108] Server  LOG     prisma:query "BEGIN"
[00:22:06.316] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chat_messages\" SET \"is_read\" = $1 WHERE (\"public\".\"operator_chat_messages\".\"chat_id\" = $2 AND \"public\".\"operator_chat_messages\".\"sender_type\" = $3 AND \"public\".\"operator_chat_messages\".\"is_read\" = $4)"
[00:22:06.524] Server  LOG     prisma:query "COMMIT"
[00:22:06.734] Server  LOG     prisma:query "UPDATE \"public\".\"operator_chats\" SET \"has_unread_patient\" = $1, \"updated_at\" = $2 WHERE (\"public\".\"operator_chats\".\"chat_id\" = $3 AND 1=1) RETURNING \"public\".\"operator_chats\".\"chat_id\", \"public\".\"operator_chats\".\"patient_id\", \"public\".\"operator_chats\".\"operator_id\", \"public\".\"operator_chats\".\"status\"::text, \"public\".\"operator_chats\".\"created_at\", \"public\".\"operator_chats\".\"updated_at\", \"public\".\"operator_chats\".\"last_message_at\", \"public\".\"operator_chats\".\"has_unread_operator\", \"public\".\"operator_chats\".\"has_unread_patient\""
