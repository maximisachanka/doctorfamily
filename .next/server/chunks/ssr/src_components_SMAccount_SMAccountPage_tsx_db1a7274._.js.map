{"version":3,"sources":["turbopack:///[project]/src/components/SMAccount/SMAccountSkeleton.tsx","turbopack:///[project]/node_modules/@radix-ui/number/dist/index.mjs","turbopack:///[project]/node_modules/@radix-ui/react-select/dist/index.mjs","turbopack:///[project]/src/components/common/SMSelect/SMSelect.tsx","turbopack:///[project]/src/components/SMAccount/SMNavigableAccountMenu.tsx","turbopack:///[project]/src/components/SMAccount/SMChangePasswordModal.tsx","turbopack:///[project]/node_modules/@radix-ui/react-slider/dist/index.mjs","turbopack:///[project]/src/components/SMAccount/SMAccountPage.tsx","turbopack:///[project]/src/components/common/SMSlider/SMSlider.tsx","turbopack:///[project]/src/components/SMAccount/SMAvatarCropModal.tsx","turbopack:///[project]/src/components/SMAccount/SMEditProfileModal.tsx","turbopack:///[project]/src/components/SMAccount/SMMaterialDetailModal.tsx","turbopack:///[project]/src/components/SMAccount/SMAccountContent.tsx","turbopack:///[project]/src/components/common/SMTextarea/SMTextarea.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/chevron-up.ts","turbopack:///[project]/node_modules/@radix-ui/react-select/src/select.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/log-out.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/zoom-out.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/rotate-cw.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/calendar-days.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/zoom-in.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/at-sign.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/settings-2.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/camera.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/settings.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/pen-line.ts","turbopack:///[project]/node_modules/@radix-ui/react-slider/src/slider.tsx","turbopack:///[project]/src/data/SMAccountData/SMAccountData.ts"],"sourcesContent":["'use client';\r\n\r\nimport { Card, CardContent, CardHeader } from '../common/SMCard/SMCard';\r\n\r\n// Базовый компонент скелетона\r\nfunction Skeleton({ className = '' }: { className?: string }) {\r\n  return (\r\n    <div className={`animate-pulse bg-gray-200 rounded ${className}`} />\r\n  );\r\n}\r\n\r\n// Скелетон для Welcome Hero секции\r\nexport function WelcomeHeroSkeleton() {\r\n  return (\r\n    <div className=\"bg-white border border-gray-200 rounded-lg p-8 lg:p-12 mb-12\">\r\n      <div className=\"flex flex-col lg:flex-row items-center gap-8\">\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex flex-col lg:flex-row items-center lg:items-start gap-6\">\r\n            {/* Avatar skeleton */}\r\n            <Skeleton className=\"w-20 h-20 lg:w-24 lg:h-24 rounded-full\" />\r\n\r\n            <div className=\"text-center lg:text-left flex-1\">\r\n              {/* Title skeleton */}\r\n              <Skeleton className=\"h-10 w-64 mb-4 mx-auto lg:mx-0\" />\r\n              {/* Subtitle skeleton */}\r\n              <Skeleton className=\"h-5 w-48 mx-auto lg:mx-0\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Cards skeleton */}\r\n        <div className=\"grid grid-cols-2 gap-6\">\r\n          <div className=\"bg-gray-50 rounded-lg p-6 border border-gray-200 w-24 h-24\">\r\n            <Skeleton className=\"h-8 w-8 mx-auto mb-2\" />\r\n            <Skeleton className=\"h-4 w-16 mx-auto\" />\r\n          </div>\r\n          <div className=\"bg-gray-50 rounded-lg p-6 border border-gray-200 w-24 h-24\">\r\n            <Skeleton className=\"h-8 w-8 mx-auto mb-2\" />\r\n            <Skeleton className=\"h-4 w-16 mx-auto\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для карточки профиля\r\nexport function ProfileCardSkeleton() {\r\n  return (\r\n    <Card className=\"border border-gray-200 mb-12\">\r\n      <CardHeader className=\"border-b border-gray-200 bg-gray-50\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Skeleton className=\"w-12 h-12 rounded-lg\" />\r\n            <div>\r\n              <Skeleton className=\"h-6 w-40 mb-2\" />\r\n              <Skeleton className=\"h-4 w-56\" />\r\n            </div>\r\n          </div>\r\n          <Skeleton className=\"h-10 w-40 rounded-md\" />\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"p-6\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          {[1, 2, 3, 4].map((i) => (\r\n            <div key={i} className=\"space-y-2\">\r\n              <Skeleton className=\"h-4 w-20\" />\r\n              <Skeleton className=\"h-12 w-full rounded-lg\" />\r\n            </div>\r\n          ))}\r\n          <div className=\"space-y-2 md:col-span-2\">\r\n            <Skeleton className=\"h-4 w-24\" />\r\n            <Skeleton className=\"h-12 w-full rounded-lg\" />\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// Скелетон для Quick Actions\r\nexport function QuickActionsSkeleton() {\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12\">\r\n      {[1, 2, 3].map((i) => (\r\n        <Card key={i} className=\"border border-gray-200\">\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex items-center gap-4 mb-4\">\r\n              <Skeleton className=\"w-14 h-14 rounded-lg\" />\r\n              <div className=\"flex-1\">\r\n                <Skeleton className=\"h-5 w-24 mb-2\" />\r\n                <Skeleton className=\"h-4 w-32\" />\r\n              </div>\r\n            </div>\r\n            <Skeleton className=\"h-4 w-36\" />\r\n          </CardContent>\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для карточки материала\r\nexport function MaterialCardSkeleton() {\r\n  return (\r\n    <Card className=\"border border-gray-200\">\r\n      <Skeleton className=\"w-full h-48 rounded-t-lg rounded-b-none\" />\r\n      <CardContent className=\"p-4\">\r\n        <Skeleton className=\"h-6 w-full mb-2\" />\r\n        <Skeleton className=\"h-4 w-full mb-1\" />\r\n        <Skeleton className=\"h-4 w-3/4 mb-3\" />\r\n        <div className=\"flex items-center justify-between\">\r\n          <Skeleton className=\"h-4 w-24\" />\r\n          <Skeleton className=\"h-8 w-28 rounded-md\" />\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// Скелетон для секции материалов\r\nexport function MaterialsSectionSkeleton() {\r\n  return (\r\n    <div className=\"mb-12\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <Skeleton className=\"h-8 w-48\" />\r\n        <Skeleton className=\"h-10 w-32 rounded-md\" />\r\n      </div>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {[1, 2, 3].map((i) => (\r\n          <MaterialCardSkeleton key={i} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для Profile Management карточки внизу\r\nexport function ProfileManagementSkeleton() {\r\n  return (\r\n    <Card className=\"border border-gray-200\">\r\n      <CardContent className=\"p-6\">\r\n        <div className=\"flex flex-col lg:flex-row items-center justify-between gap-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <Skeleton className=\"w-16 h-16 rounded-full\" />\r\n            <div>\r\n              <Skeleton className=\"h-6 w-40 mb-2\" />\r\n              <Skeleton className=\"h-4 w-48 mb-1\" />\r\n              <Skeleton className=\"h-4 w-32\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"flex flex-col sm:flex-row gap-3\">\r\n            <Skeleton className=\"h-10 w-44 rounded-md\" />\r\n            <Skeleton className=\"h-10 w-36 rounded-md\" />\r\n            <Skeleton className=\"h-10 w-24 rounded-md\" />\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// Полный скелетон для Welcome Dashboard\r\nexport function WelcomeDashboardSkeleton() {\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 lg:px-8 py-8\">\r\n      <WelcomeHeroSkeleton />\r\n      <ProfileCardSkeleton />\r\n      <QuickActionsSkeleton />\r\n      <MaterialsSectionSkeleton />\r\n      <ProfileManagementSkeleton />\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для страницы подписок\r\nexport function SubscriptionsSkeleton() {\r\n  return (\r\n    <div className=\"p-4 lg:p-8 max-w-7xl mx-auto space-y-6\">\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n        <div className=\"flex items-center gap-3 mb-4\">\r\n          <Skeleton className=\"w-12 h-12 rounded-lg\" />\r\n          <div>\r\n            <Skeleton className=\"h-6 w-40 mb-2\" />\r\n            <Skeleton className=\"h-4 w-64\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Card className=\"border border-gray-200\">\r\n        <CardContent className=\"p-6 space-y-6\">\r\n          <div className=\"space-y-2\">\r\n            <Skeleton className=\"h-4 w-24\" />\r\n            <Skeleton className=\"h-10 w-full rounded-md\" />\r\n          </div>\r\n\r\n          <div className=\"space-y-3\">\r\n            <Skeleton className=\"h-4 w-32\" />\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n              {[1, 2, 3, 4, 5, 6].map((i) => (\r\n                <div key={i} className=\"flex items-center gap-2\">\r\n                  <Skeleton className=\"w-5 h-5 rounded\" />\r\n                  <Skeleton className=\"h-4 w-32\" />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Skeleton className=\"h-4 w-40\" />\r\n            <Skeleton className=\"h-10 w-48 rounded-md\" />\r\n          </div>\r\n\r\n          <div className=\"flex gap-4\">\r\n            <Skeleton className=\"h-10 w-28 rounded-md\" />\r\n            <Skeleton className=\"h-10 w-24 rounded-md\" />\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для страницы материалов\r\nexport function MaterialsPageSkeleton() {\r\n  return (\r\n    <div className=\"p-4 lg:p-8 max-w-7xl mx-auto space-y-6\">\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n        <div className=\"flex items-center gap-3 mb-4\">\r\n          <Skeleton className=\"w-12 h-12 rounded-lg\" />\r\n          <div>\r\n            <Skeleton className=\"h-6 w-32 mb-2\" />\r\n            <Skeleton className=\"h-4 w-56\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex gap-4 items-center\">\r\n        <Skeleton className=\"h-4 w-16\" />\r\n        <Skeleton className=\"h-10 w-48 rounded-md\" />\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {[1, 2, 3, 4, 5, 6].map((i) => (\r\n          <MaterialCardSkeleton key={i} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Скелетон для страницы контактов\r\nexport function ContactSkeleton() {\r\n  return (\r\n    <div className=\"p-4 lg:p-8 max-w-7xl mx-auto space-y-6\">\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n        <div className=\"flex items-center gap-3 mb-4\">\r\n          <Skeleton className=\"w-12 h-12 rounded-lg\" />\r\n          <div>\r\n            <Skeleton className=\"h-6 w-44 mb-2\" />\r\n            <Skeleton className=\"h-4 w-48\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Card className=\"border border-gray-200\">\r\n        <CardContent className=\"p-6 space-y-6\">\r\n          <Skeleton className=\"h-16 w-full rounded-lg\" />\r\n\r\n          <div className=\"space-y-4\">\r\n            <div className=\"space-y-2\">\r\n              <Skeleton className=\"h-4 w-24\" />\r\n              <Skeleton className=\"h-10 w-full rounded-md\" />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Skeleton className=\"h-4 w-16\" />\r\n              <Skeleton className=\"h-10 w-full rounded-md\" />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Skeleton className=\"h-4 w-24\" />\r\n              <Skeleton className=\"h-32 w-full rounded-md\" />\r\n            </div>\r\n          </div>\r\n\r\n          <Skeleton className=\"h-10 w-32 rounded-md\" />\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","// packages/core/number/src/number.ts\nfunction clamp(value, [min, max]) {\n  return Math.min(max, Math.max(min, value));\n}\nexport {\n  clamp\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/select.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { VISUALLY_HIDDEN_STYLES } from \"@radix-ui/react-visually-hidden\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar OPEN_KEYS = [\" \", \"Enter\", \"ArrowUp\", \"ArrowDown\"];\nvar SELECTION_KEYS = [\" \", \"Enter\"];\nvar SELECT_NAME = \"Select\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(SELECT_NAME);\nvar [createSelectContext, createSelectScope] = createContextScope(SELECT_NAME, [\n  createCollectionScope,\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar [SelectProvider, useSelectContext] = createSelectContext(SELECT_NAME);\nvar [SelectNativeOptionsProvider, useSelectNativeOptionsContext] = createSelectContext(SELECT_NAME);\nvar Select = (props) => {\n  const {\n    __scopeSelect,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    value: valueProp,\n    defaultValue,\n    onValueChange,\n    dir,\n    name,\n    autoComplete,\n    disabled,\n    required,\n    form\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  const [trigger, setTrigger] = React.useState(null);\n  const [valueNode, setValueNode] = React.useState(null);\n  const [valueNodeHasChildren, setValueNodeHasChildren] = React.useState(false);\n  const direction = useDirection(dir);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: SELECT_NAME\n  });\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange,\n    caller: SELECT_NAME\n  });\n  const triggerPointerDownPosRef = React.useRef(null);\n  const isFormControl = trigger ? form || !!trigger.closest(\"form\") : true;\n  const [nativeOptionsSet, setNativeOptionsSet] = React.useState(/* @__PURE__ */ new Set());\n  const nativeSelectKey = Array.from(nativeOptionsSet).map((option) => option.props.value).join(\";\");\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsxs(\n    SelectProvider,\n    {\n      required,\n      scope: __scopeSelect,\n      trigger,\n      onTriggerChange: setTrigger,\n      valueNode,\n      onValueNodeChange: setValueNode,\n      valueNodeHasChildren,\n      onValueNodeHasChildrenChange: setValueNodeHasChildren,\n      contentId: useId(),\n      value,\n      onValueChange: setValue,\n      open,\n      onOpenChange: setOpen,\n      dir: direction,\n      triggerPointerDownPosRef,\n      disabled,\n      children: [\n        /* @__PURE__ */ jsx(Collection.Provider, { scope: __scopeSelect, children: /* @__PURE__ */ jsx(\n          SelectNativeOptionsProvider,\n          {\n            scope: props.__scopeSelect,\n            onNativeOptionAdd: React.useCallback((option) => {\n              setNativeOptionsSet((prev) => new Set(prev).add(option));\n            }, []),\n            onNativeOptionRemove: React.useCallback((option) => {\n              setNativeOptionsSet((prev) => {\n                const optionsSet = new Set(prev);\n                optionsSet.delete(option);\n                return optionsSet;\n              });\n            }, []),\n            children\n          }\n        ) }),\n        isFormControl ? /* @__PURE__ */ jsxs(\n          SelectBubbleInput,\n          {\n            \"aria-hidden\": true,\n            required,\n            tabIndex: -1,\n            name,\n            autoComplete,\n            value,\n            onChange: (event) => setValue(event.target.value),\n            disabled,\n            form,\n            children: [\n              value === void 0 ? /* @__PURE__ */ jsx(\"option\", { value: \"\" }) : null,\n              Array.from(nativeOptionsSet)\n            ]\n          },\n          nativeSelectKey\n        ) : null\n      ]\n    }\n  ) });\n};\nSelect.displayName = SELECT_NAME;\nvar TRIGGER_NAME = \"SelectTrigger\";\nvar SelectTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, disabled = false, ...triggerProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(TRIGGER_NAME, __scopeSelect);\n    const isDisabled = context.disabled || disabled;\n    const composedRefs = useComposedRefs(forwardedRef, context.onTriggerChange);\n    const getItems = useCollection(__scopeSelect);\n    const pointerTypeRef = React.useRef(\"touch\");\n    const [searchRef, handleTypeaheadSearch, resetTypeahead] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.value === context.value);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem !== void 0) {\n        context.onValueChange(nextItem.value);\n      }\n    });\n    const handleOpen = (pointerEvent) => {\n      if (!isDisabled) {\n        context.onOpenChange(true);\n        resetTypeahead();\n      }\n      if (pointerEvent) {\n        context.triggerPointerDownPosRef.current = {\n          x: Math.round(pointerEvent.pageX),\n          y: Math.round(pointerEvent.pageY)\n        };\n      }\n    };\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        role: \"combobox\",\n        \"aria-controls\": context.contentId,\n        \"aria-expanded\": context.open,\n        \"aria-required\": context.required,\n        \"aria-autocomplete\": \"none\",\n        dir: context.dir,\n        \"data-state\": context.open ? \"open\" : \"closed\",\n        disabled: isDisabled,\n        \"data-disabled\": isDisabled ? \"\" : void 0,\n        \"data-placeholder\": shouldShowPlaceholder(context.value) ? \"\" : void 0,\n        ...triggerProps,\n        ref: composedRefs,\n        onClick: composeEventHandlers(triggerProps.onClick, (event) => {\n          event.currentTarget.focus();\n          if (pointerTypeRef.current !== \"mouse\") {\n            handleOpen(event);\n          }\n        }),\n        onPointerDown: composeEventHandlers(triggerProps.onPointerDown, (event) => {\n          pointerTypeRef.current = event.pointerType;\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n          }\n          if (event.button === 0 && event.ctrlKey === false && event.pointerType === \"mouse\") {\n            handleOpen(event);\n            event.preventDefault();\n          }\n        }),\n        onKeyDown: composeEventHandlers(triggerProps.onKeyDown, (event) => {\n          const isTypingAhead = searchRef.current !== \"\";\n          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n          if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n          if (isTypingAhead && event.key === \" \") return;\n          if (OPEN_KEYS.includes(event.key)) {\n            handleOpen();\n            event.preventDefault();\n          }\n        })\n      }\n    ) });\n  }\n);\nSelectTrigger.displayName = TRIGGER_NAME;\nvar VALUE_NAME = \"SelectValue\";\nvar SelectValue = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, className, style, children, placeholder = \"\", ...valueProps } = props;\n    const context = useSelectContext(VALUE_NAME, __scopeSelect);\n    const { onValueNodeHasChildrenChange } = context;\n    const hasChildren = children !== void 0;\n    const composedRefs = useComposedRefs(forwardedRef, context.onValueNodeChange);\n    useLayoutEffect(() => {\n      onValueNodeHasChildrenChange(hasChildren);\n    }, [onValueNodeHasChildrenChange, hasChildren]);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...valueProps,\n        ref: composedRefs,\n        style: { pointerEvents: \"none\" },\n        children: shouldShowPlaceholder(context.value) ? /* @__PURE__ */ jsx(Fragment, { children: placeholder }) : children\n      }\n    );\n  }\n);\nSelectValue.displayName = VALUE_NAME;\nvar ICON_NAME = \"SelectIcon\";\nvar SelectIcon = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, children, ...iconProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.span, { \"aria-hidden\": true, ...iconProps, ref: forwardedRef, children: children || \"\\u25BC\" });\n  }\n);\nSelectIcon.displayName = ICON_NAME;\nvar PORTAL_NAME = \"SelectPortal\";\nvar SelectPortal = (props) => {\n  return /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, ...props });\n};\nSelectPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"SelectContent\";\nvar SelectContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useSelectContext(CONTENT_NAME, props.__scopeSelect);\n    const [fragment, setFragment] = React.useState();\n    useLayoutEffect(() => {\n      setFragment(new DocumentFragment());\n    }, []);\n    if (!context.open) {\n      const frag = fragment;\n      return frag ? ReactDOM.createPortal(\n        /* @__PURE__ */ jsx(SelectContentProvider, { scope: props.__scopeSelect, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeSelect, children: /* @__PURE__ */ jsx(\"div\", { children: props.children }) }) }),\n        frag\n      ) : null;\n    }\n    return /* @__PURE__ */ jsx(SelectContentImpl, { ...props, ref: forwardedRef });\n  }\n);\nSelectContent.displayName = CONTENT_NAME;\nvar CONTENT_MARGIN = 10;\nvar [SelectContentProvider, useSelectContentContext] = createSelectContext(CONTENT_NAME);\nvar CONTENT_IMPL_NAME = \"SelectContentImpl\";\nvar Slot = createSlot(\"SelectContent.RemoveScroll\");\nvar SelectContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSelect,\n      position = \"item-aligned\",\n      onCloseAutoFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      //\n      // PopperContent props\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions,\n      //\n      ...contentProps\n    } = props;\n    const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n    const [content, setContent] = React.useState(null);\n    const [viewport, setViewport] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n    const [selectedItem, setSelectedItem] = React.useState(null);\n    const [selectedItemText, setSelectedItemText] = React.useState(\n      null\n    );\n    const getItems = useCollection(__scopeSelect);\n    const [isPositioned, setIsPositioned] = React.useState(false);\n    const firstValidItemFoundRef = React.useRef(false);\n    React.useEffect(() => {\n      if (content) return hideOthers(content);\n    }, [content]);\n    useFocusGuards();\n    const focusFirst = React.useCallback(\n      (candidates) => {\n        const [firstItem, ...restItems] = getItems().map((item) => item.ref.current);\n        const [lastItem] = restItems.slice(-1);\n        const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n        for (const candidate of candidates) {\n          if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n          candidate?.scrollIntoView({ block: \"nearest\" });\n          if (candidate === firstItem && viewport) viewport.scrollTop = 0;\n          if (candidate === lastItem && viewport) viewport.scrollTop = viewport.scrollHeight;\n          candidate?.focus();\n          if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n        }\n      },\n      [getItems, viewport]\n    );\n    const focusSelectedItem = React.useCallback(\n      () => focusFirst([selectedItem, content]),\n      [focusFirst, selectedItem, content]\n    );\n    React.useEffect(() => {\n      if (isPositioned) {\n        focusSelectedItem();\n      }\n    }, [isPositioned, focusSelectedItem]);\n    const { onOpenChange, triggerPointerDownPosRef } = context;\n    React.useEffect(() => {\n      if (content) {\n        let pointerMoveDelta = { x: 0, y: 0 };\n        const handlePointerMove = (event) => {\n          pointerMoveDelta = {\n            x: Math.abs(Math.round(event.pageX) - (triggerPointerDownPosRef.current?.x ?? 0)),\n            y: Math.abs(Math.round(event.pageY) - (triggerPointerDownPosRef.current?.y ?? 0))\n          };\n        };\n        const handlePointerUp = (event) => {\n          if (pointerMoveDelta.x <= 10 && pointerMoveDelta.y <= 10) {\n            event.preventDefault();\n          } else {\n            if (!content.contains(event.target)) {\n              onOpenChange(false);\n            }\n          }\n          document.removeEventListener(\"pointermove\", handlePointerMove);\n          triggerPointerDownPosRef.current = null;\n        };\n        if (triggerPointerDownPosRef.current !== null) {\n          document.addEventListener(\"pointermove\", handlePointerMove);\n          document.addEventListener(\"pointerup\", handlePointerUp, { capture: true, once: true });\n        }\n        return () => {\n          document.removeEventListener(\"pointermove\", handlePointerMove);\n          document.removeEventListener(\"pointerup\", handlePointerUp, { capture: true });\n        };\n      }\n    }, [content, onOpenChange, triggerPointerDownPosRef]);\n    React.useEffect(() => {\n      const close = () => onOpenChange(false);\n      window.addEventListener(\"blur\", close);\n      window.addEventListener(\"resize\", close);\n      return () => {\n        window.removeEventListener(\"blur\", close);\n        window.removeEventListener(\"resize\", close);\n      };\n    }, [onOpenChange]);\n    const [searchRef, handleTypeaheadSearch] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.ref.current === document.activeElement);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem) {\n        setTimeout(() => nextItem.ref.current.focus());\n      }\n    });\n    const itemRefCallback = React.useCallback(\n      (node, value, disabled) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== void 0 && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItem(node);\n          if (isFirstValidItem) firstValidItemFoundRef.current = true;\n        }\n      },\n      [context.value]\n    );\n    const handleItemLeave = React.useCallback(() => content?.focus(), [content]);\n    const itemTextRefCallback = React.useCallback(\n      (node, value, disabled) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== void 0 && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItemText(node);\n        }\n      },\n      [context.value]\n    );\n    const SelectPosition = position === \"popper\" ? SelectPopperPosition : SelectItemAlignedPosition;\n    const popperContentProps = SelectPosition === SelectPopperPosition ? {\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions\n    } : {};\n    return /* @__PURE__ */ jsx(\n      SelectContentProvider,\n      {\n        scope: __scopeSelect,\n        content,\n        viewport,\n        onViewportChange: setViewport,\n        itemRefCallback,\n        selectedItem,\n        onItemLeave: handleItemLeave,\n        itemTextRefCallback,\n        focusSelectedItem,\n        selectedItemText,\n        position,\n        isPositioned,\n        searchRef,\n        children: /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, children: /* @__PURE__ */ jsx(\n          FocusScope,\n          {\n            asChild: true,\n            trapped: context.open,\n            onMountAutoFocus: (event) => {\n              event.preventDefault();\n            },\n            onUnmountAutoFocus: composeEventHandlers(onCloseAutoFocus, (event) => {\n              context.trigger?.focus({ preventScroll: true });\n              event.preventDefault();\n            }),\n            children: /* @__PURE__ */ jsx(\n              DismissableLayer,\n              {\n                asChild: true,\n                disableOutsidePointerEvents: true,\n                onEscapeKeyDown,\n                onPointerDownOutside,\n                onFocusOutside: (event) => event.preventDefault(),\n                onDismiss: () => context.onOpenChange(false),\n                children: /* @__PURE__ */ jsx(\n                  SelectPosition,\n                  {\n                    role: \"listbox\",\n                    id: context.contentId,\n                    \"data-state\": context.open ? \"open\" : \"closed\",\n                    dir: context.dir,\n                    onContextMenu: (event) => event.preventDefault(),\n                    ...contentProps,\n                    ...popperContentProps,\n                    onPlaced: () => setIsPositioned(true),\n                    ref: composedRefs,\n                    style: {\n                      // flex layout so we can place the scroll buttons properly\n                      display: \"flex\",\n                      flexDirection: \"column\",\n                      // reset the outline by default as the content MAY get focused\n                      outline: \"none\",\n                      ...contentProps.style\n                    },\n                    onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event) => {\n                      const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                      if (event.key === \"Tab\") event.preventDefault();\n                      if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n                      if ([\"ArrowUp\", \"ArrowDown\", \"Home\", \"End\"].includes(event.key)) {\n                        const items = getItems().filter((item) => !item.disabled);\n                        let candidateNodes = items.map((item) => item.ref.current);\n                        if ([\"ArrowUp\", \"End\"].includes(event.key)) {\n                          candidateNodes = candidateNodes.slice().reverse();\n                        }\n                        if ([\"ArrowUp\", \"ArrowDown\"].includes(event.key)) {\n                          const currentElement = event.target;\n                          const currentIndex = candidateNodes.indexOf(currentElement);\n                          candidateNodes = candidateNodes.slice(currentIndex + 1);\n                        }\n                        setTimeout(() => focusFirst(candidateNodes));\n                        event.preventDefault();\n                      }\n                    })\n                  }\n                )\n              }\n            )\n          }\n        ) })\n      }\n    );\n  }\n);\nSelectContentImpl.displayName = CONTENT_IMPL_NAME;\nvar ITEM_ALIGNED_POSITION_NAME = \"SelectItemAlignedPosition\";\nvar SelectItemAlignedPosition = React.forwardRef((props, forwardedRef) => {\n  const { __scopeSelect, onPlaced, ...popperProps } = props;\n  const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n  const contentContext = useSelectContentContext(CONTENT_NAME, __scopeSelect);\n  const [contentWrapper, setContentWrapper] = React.useState(null);\n  const [content, setContent] = React.useState(null);\n  const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n  const getItems = useCollection(__scopeSelect);\n  const shouldExpandOnScrollRef = React.useRef(false);\n  const shouldRepositionRef = React.useRef(true);\n  const { viewport, selectedItem, selectedItemText, focusSelectedItem } = contentContext;\n  const position = React.useCallback(() => {\n    if (context.trigger && context.valueNode && contentWrapper && content && viewport && selectedItem && selectedItemText) {\n      const triggerRect = context.trigger.getBoundingClientRect();\n      const contentRect = content.getBoundingClientRect();\n      const valueNodeRect = context.valueNode.getBoundingClientRect();\n      const itemTextRect = selectedItemText.getBoundingClientRect();\n      if (context.dir !== \"rtl\") {\n        const itemTextOffset = itemTextRect.left - contentRect.left;\n        const left = valueNodeRect.left - itemTextOffset;\n        const leftDelta = triggerRect.left - left;\n        const minContentWidth = triggerRect.width + leftDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const rightEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedLeft = clamp(left, [\n          CONTENT_MARGIN,\n          // Prevents the content from going off the starting edge of the\n          // viewport. It may still go off the ending edge, but this can be\n          // controlled by the user since they may want to manage overflow in a\n          // specific way.\n          // https://github.com/radix-ui/primitives/issues/2049\n          Math.max(CONTENT_MARGIN, rightEdge - contentWidth)\n        ]);\n        contentWrapper.style.minWidth = minContentWidth + \"px\";\n        contentWrapper.style.left = clampedLeft + \"px\";\n      } else {\n        const itemTextOffset = contentRect.right - itemTextRect.right;\n        const right = window.innerWidth - valueNodeRect.right - itemTextOffset;\n        const rightDelta = window.innerWidth - triggerRect.right - right;\n        const minContentWidth = triggerRect.width + rightDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const leftEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedRight = clamp(right, [\n          CONTENT_MARGIN,\n          Math.max(CONTENT_MARGIN, leftEdge - contentWidth)\n        ]);\n        contentWrapper.style.minWidth = minContentWidth + \"px\";\n        contentWrapper.style.right = clampedRight + \"px\";\n      }\n      const items = getItems();\n      const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n      const itemsHeight = viewport.scrollHeight;\n      const contentStyles = window.getComputedStyle(content);\n      const contentBorderTopWidth = parseInt(contentStyles.borderTopWidth, 10);\n      const contentPaddingTop = parseInt(contentStyles.paddingTop, 10);\n      const contentBorderBottomWidth = parseInt(contentStyles.borderBottomWidth, 10);\n      const contentPaddingBottom = parseInt(contentStyles.paddingBottom, 10);\n      const fullContentHeight = contentBorderTopWidth + contentPaddingTop + itemsHeight + contentPaddingBottom + contentBorderBottomWidth;\n      const minContentHeight = Math.min(selectedItem.offsetHeight * 5, fullContentHeight);\n      const viewportStyles = window.getComputedStyle(viewport);\n      const viewportPaddingTop = parseInt(viewportStyles.paddingTop, 10);\n      const viewportPaddingBottom = parseInt(viewportStyles.paddingBottom, 10);\n      const topEdgeToTriggerMiddle = triggerRect.top + triggerRect.height / 2 - CONTENT_MARGIN;\n      const triggerMiddleToBottomEdge = availableHeight - topEdgeToTriggerMiddle;\n      const selectedItemHalfHeight = selectedItem.offsetHeight / 2;\n      const itemOffsetMiddle = selectedItem.offsetTop + selectedItemHalfHeight;\n      const contentTopToItemMiddle = contentBorderTopWidth + contentPaddingTop + itemOffsetMiddle;\n      const itemMiddleToContentBottom = fullContentHeight - contentTopToItemMiddle;\n      const willAlignWithoutTopOverflow = contentTopToItemMiddle <= topEdgeToTriggerMiddle;\n      if (willAlignWithoutTopOverflow) {\n        const isLastItem = items.length > 0 && selectedItem === items[items.length - 1].ref.current;\n        contentWrapper.style.bottom = \"0px\";\n        const viewportOffsetBottom = content.clientHeight - viewport.offsetTop - viewport.offsetHeight;\n        const clampedTriggerMiddleToBottomEdge = Math.max(\n          triggerMiddleToBottomEdge,\n          selectedItemHalfHeight + // viewport might have padding bottom, include it to avoid a scrollable viewport\n          (isLastItem ? viewportPaddingBottom : 0) + viewportOffsetBottom + contentBorderBottomWidth\n        );\n        const height = contentTopToItemMiddle + clampedTriggerMiddleToBottomEdge;\n        contentWrapper.style.height = height + \"px\";\n      } else {\n        const isFirstItem = items.length > 0 && selectedItem === items[0].ref.current;\n        contentWrapper.style.top = \"0px\";\n        const clampedTopEdgeToTriggerMiddle = Math.max(\n          topEdgeToTriggerMiddle,\n          contentBorderTopWidth + viewport.offsetTop + // viewport might have padding top, include it to avoid a scrollable viewport\n          (isFirstItem ? viewportPaddingTop : 0) + selectedItemHalfHeight\n        );\n        const height = clampedTopEdgeToTriggerMiddle + itemMiddleToContentBottom;\n        contentWrapper.style.height = height + \"px\";\n        viewport.scrollTop = contentTopToItemMiddle - topEdgeToTriggerMiddle + viewport.offsetTop;\n      }\n      contentWrapper.style.margin = `${CONTENT_MARGIN}px 0`;\n      contentWrapper.style.minHeight = minContentHeight + \"px\";\n      contentWrapper.style.maxHeight = availableHeight + \"px\";\n      onPlaced?.();\n      requestAnimationFrame(() => shouldExpandOnScrollRef.current = true);\n    }\n  }, [\n    getItems,\n    context.trigger,\n    context.valueNode,\n    contentWrapper,\n    content,\n    viewport,\n    selectedItem,\n    selectedItemText,\n    context.dir,\n    onPlaced\n  ]);\n  useLayoutEffect(() => position(), [position]);\n  const [contentZIndex, setContentZIndex] = React.useState();\n  useLayoutEffect(() => {\n    if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n  }, [content]);\n  const handleScrollButtonChange = React.useCallback(\n    (node) => {\n      if (node && shouldRepositionRef.current === true) {\n        position();\n        focusSelectedItem?.();\n        shouldRepositionRef.current = false;\n      }\n    },\n    [position, focusSelectedItem]\n  );\n  return /* @__PURE__ */ jsx(\n    SelectViewportProvider,\n    {\n      scope: __scopeSelect,\n      contentWrapper,\n      shouldExpandOnScrollRef,\n      onScrollButtonChange: handleScrollButtonChange,\n      children: /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          ref: setContentWrapper,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            position: \"fixed\",\n            zIndex: contentZIndex\n          },\n          children: /* @__PURE__ */ jsx(\n            Primitive.div,\n            {\n              ...popperProps,\n              ref: composedRefs,\n              style: {\n                // When we get the height of the content, it includes borders. If we were to set\n                // the height without having `boxSizing: 'border-box'` it would be too big.\n                boxSizing: \"border-box\",\n                // We need to ensure the content doesn't get taller than the wrapper\n                maxHeight: \"100%\",\n                ...popperProps.style\n              }\n            }\n          )\n        }\n      )\n    }\n  );\n});\nSelectItemAlignedPosition.displayName = ITEM_ALIGNED_POSITION_NAME;\nvar POPPER_POSITION_NAME = \"SelectPopperPosition\";\nvar SelectPopperPosition = React.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeSelect,\n    align = \"start\",\n    collisionPadding = CONTENT_MARGIN,\n    ...popperProps\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  return /* @__PURE__ */ jsx(\n    PopperPrimitive.Content,\n    {\n      ...popperScope,\n      ...popperProps,\n      ref: forwardedRef,\n      align,\n      collisionPadding,\n      style: {\n        // Ensure border-box for floating-ui calculations\n        boxSizing: \"border-box\",\n        ...popperProps.style,\n        // re-namespace exposed content custom properties\n        ...{\n          \"--radix-select-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n          \"--radix-select-content-available-width\": \"var(--radix-popper-available-width)\",\n          \"--radix-select-content-available-height\": \"var(--radix-popper-available-height)\",\n          \"--radix-select-trigger-width\": \"var(--radix-popper-anchor-width)\",\n          \"--radix-select-trigger-height\": \"var(--radix-popper-anchor-height)\"\n        }\n      }\n    }\n  );\n});\nSelectPopperPosition.displayName = POPPER_POSITION_NAME;\nvar [SelectViewportProvider, useSelectViewportContext] = createSelectContext(CONTENT_NAME, {});\nvar VIEWPORT_NAME = \"SelectViewport\";\nvar SelectViewport = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, nonce, ...viewportProps } = props;\n    const contentContext = useSelectContentContext(VIEWPORT_NAME, __scopeSelect);\n    const viewportContext = useSelectViewportContext(VIEWPORT_NAME, __scopeSelect);\n    const composedRefs = useComposedRefs(forwardedRef, contentContext.onViewportChange);\n    const prevScrollTopRef = React.useRef(0);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        \"style\",\n        {\n          dangerouslySetInnerHTML: {\n            __html: `[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}`\n          },\n          nonce\n        }\n      ),\n      /* @__PURE__ */ jsx(Collection.Slot, { scope: __scopeSelect, children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          \"data-radix-select-viewport\": \"\",\n          role: \"presentation\",\n          ...viewportProps,\n          ref: composedRefs,\n          style: {\n            // we use position: 'relative' here on the `viewport` so that when we call\n            // `selectedItem.offsetTop` in calculations, the offset is relative to the viewport\n            // (independent of the scrollUpButton).\n            position: \"relative\",\n            flex: 1,\n            // Viewport should only be scrollable in the vertical direction.\n            // This won't work in vertical writing modes, so we'll need to\n            // revisit this if/when that is supported\n            // https://developer.chrome.com/blog/vertical-form-controls\n            overflow: \"hidden auto\",\n            ...viewportProps.style\n          },\n          onScroll: composeEventHandlers(viewportProps.onScroll, (event) => {\n            const viewport = event.currentTarget;\n            const { contentWrapper, shouldExpandOnScrollRef } = viewportContext;\n            if (shouldExpandOnScrollRef?.current && contentWrapper) {\n              const scrolledBy = Math.abs(prevScrollTopRef.current - viewport.scrollTop);\n              if (scrolledBy > 0) {\n                const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n                const cssMinHeight = parseFloat(contentWrapper.style.minHeight);\n                const cssHeight = parseFloat(contentWrapper.style.height);\n                const prevHeight = Math.max(cssMinHeight, cssHeight);\n                if (prevHeight < availableHeight) {\n                  const nextHeight = prevHeight + scrolledBy;\n                  const clampedNextHeight = Math.min(availableHeight, nextHeight);\n                  const heightDiff = nextHeight - clampedNextHeight;\n                  contentWrapper.style.height = clampedNextHeight + \"px\";\n                  if (contentWrapper.style.bottom === \"0px\") {\n                    viewport.scrollTop = heightDiff > 0 ? heightDiff : 0;\n                    contentWrapper.style.justifyContent = \"flex-end\";\n                  }\n                }\n              }\n            }\n            prevScrollTopRef.current = viewport.scrollTop;\n          })\n        }\n      ) })\n    ] });\n  }\n);\nSelectViewport.displayName = VIEWPORT_NAME;\nvar GROUP_NAME = \"SelectGroup\";\nvar [SelectGroupContextProvider, useSelectGroupContext] = createSelectContext(GROUP_NAME);\nvar SelectGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...groupProps } = props;\n    const groupId = useId();\n    return /* @__PURE__ */ jsx(SelectGroupContextProvider, { scope: __scopeSelect, id: groupId, children: /* @__PURE__ */ jsx(Primitive.div, { role: \"group\", \"aria-labelledby\": groupId, ...groupProps, ref: forwardedRef }) });\n  }\n);\nSelectGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"SelectLabel\";\nvar SelectLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...labelProps } = props;\n    const groupContext = useSelectGroupContext(LABEL_NAME, __scopeSelect);\n    return /* @__PURE__ */ jsx(Primitive.div, { id: groupContext.id, ...labelProps, ref: forwardedRef });\n  }\n);\nSelectLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"SelectItem\";\nvar [SelectItemContextProvider, useSelectItemContext] = createSelectContext(ITEM_NAME);\nvar SelectItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSelect,\n      value,\n      disabled = false,\n      textValue: textValueProp,\n      ...itemProps\n    } = props;\n    const context = useSelectContext(ITEM_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_NAME, __scopeSelect);\n    const isSelected = context.value === value;\n    const [textValue, setTextValue] = React.useState(textValueProp ?? \"\");\n    const [isFocused, setIsFocused] = React.useState(false);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => contentContext.itemRefCallback?.(node, value, disabled)\n    );\n    const textId = useId();\n    const pointerTypeRef = React.useRef(\"touch\");\n    const handleSelect = () => {\n      if (!disabled) {\n        context.onValueChange(value);\n        context.onOpenChange(false);\n      }\n    };\n    if (value === \"\") {\n      throw new Error(\n        \"A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.\"\n      );\n    }\n    return /* @__PURE__ */ jsx(\n      SelectItemContextProvider,\n      {\n        scope: __scopeSelect,\n        value,\n        disabled,\n        textId,\n        isSelected,\n        onItemTextChange: React.useCallback((node) => {\n          setTextValue((prevTextValue) => prevTextValue || (node?.textContent ?? \"\").trim());\n        }, []),\n        children: /* @__PURE__ */ jsx(\n          Collection.ItemSlot,\n          {\n            scope: __scopeSelect,\n            value,\n            disabled,\n            textValue,\n            children: /* @__PURE__ */ jsx(\n              Primitive.div,\n              {\n                role: \"option\",\n                \"aria-labelledby\": textId,\n                \"data-highlighted\": isFocused ? \"\" : void 0,\n                \"aria-selected\": isSelected && isFocused,\n                \"data-state\": isSelected ? \"checked\" : \"unchecked\",\n                \"aria-disabled\": disabled || void 0,\n                \"data-disabled\": disabled ? \"\" : void 0,\n                tabIndex: disabled ? void 0 : -1,\n                ...itemProps,\n                ref: composedRefs,\n                onFocus: composeEventHandlers(itemProps.onFocus, () => setIsFocused(true)),\n                onBlur: composeEventHandlers(itemProps.onBlur, () => setIsFocused(false)),\n                onClick: composeEventHandlers(itemProps.onClick, () => {\n                  if (pointerTypeRef.current !== \"mouse\") handleSelect();\n                }),\n                onPointerUp: composeEventHandlers(itemProps.onPointerUp, () => {\n                  if (pointerTypeRef.current === \"mouse\") handleSelect();\n                }),\n                onPointerDown: composeEventHandlers(itemProps.onPointerDown, (event) => {\n                  pointerTypeRef.current = event.pointerType;\n                }),\n                onPointerMove: composeEventHandlers(itemProps.onPointerMove, (event) => {\n                  pointerTypeRef.current = event.pointerType;\n                  if (disabled) {\n                    contentContext.onItemLeave?.();\n                  } else if (pointerTypeRef.current === \"mouse\") {\n                    event.currentTarget.focus({ preventScroll: true });\n                  }\n                }),\n                onPointerLeave: composeEventHandlers(itemProps.onPointerLeave, (event) => {\n                  if (event.currentTarget === document.activeElement) {\n                    contentContext.onItemLeave?.();\n                  }\n                }),\n                onKeyDown: composeEventHandlers(itemProps.onKeyDown, (event) => {\n                  const isTypingAhead = contentContext.searchRef?.current !== \"\";\n                  if (isTypingAhead && event.key === \" \") return;\n                  if (SELECTION_KEYS.includes(event.key)) handleSelect();\n                  if (event.key === \" \") event.preventDefault();\n                })\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nSelectItem.displayName = ITEM_NAME;\nvar ITEM_TEXT_NAME = \"SelectItemText\";\nvar SelectItemText = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, className, style, ...itemTextProps } = props;\n    const context = useSelectContext(ITEM_TEXT_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_TEXT_NAME, __scopeSelect);\n    const itemContext = useSelectItemContext(ITEM_TEXT_NAME, __scopeSelect);\n    const nativeOptionsContext = useSelectNativeOptionsContext(ITEM_TEXT_NAME, __scopeSelect);\n    const [itemTextNode, setItemTextNode] = React.useState(null);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => setItemTextNode(node),\n      itemContext.onItemTextChange,\n      (node) => contentContext.itemTextRefCallback?.(node, itemContext.value, itemContext.disabled)\n    );\n    const textContent = itemTextNode?.textContent;\n    const nativeOption = React.useMemo(\n      () => /* @__PURE__ */ jsx(\"option\", { value: itemContext.value, disabled: itemContext.disabled, children: textContent }, itemContext.value),\n      [itemContext.disabled, itemContext.value, textContent]\n    );\n    const { onNativeOptionAdd, onNativeOptionRemove } = nativeOptionsContext;\n    useLayoutEffect(() => {\n      onNativeOptionAdd(nativeOption);\n      return () => onNativeOptionRemove(nativeOption);\n    }, [onNativeOptionAdd, onNativeOptionRemove, nativeOption]);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(Primitive.span, { id: itemContext.textId, ...itemTextProps, ref: composedRefs }),\n      itemContext.isSelected && context.valueNode && !context.valueNodeHasChildren ? ReactDOM.createPortal(itemTextProps.children, context.valueNode) : null\n    ] });\n  }\n);\nSelectItemText.displayName = ITEM_TEXT_NAME;\nvar ITEM_INDICATOR_NAME = \"SelectItemIndicator\";\nvar SelectItemIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...itemIndicatorProps } = props;\n    const itemContext = useSelectItemContext(ITEM_INDICATOR_NAME, __scopeSelect);\n    return itemContext.isSelected ? /* @__PURE__ */ jsx(Primitive.span, { \"aria-hidden\": true, ...itemIndicatorProps, ref: forwardedRef }) : null;\n  }\n);\nSelectItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SCROLL_UP_BUTTON_NAME = \"SelectScrollUpButton\";\nvar SelectScrollUpButton = React.forwardRef((props, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollUp, setCanScrollUp] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      let handleScroll2 = function() {\n        const canScrollUp2 = viewport.scrollTop > 0;\n        setCanScrollUp(canScrollUp2);\n      };\n      var handleScroll = handleScroll2;\n      const viewport = contentContext.viewport;\n      handleScroll2();\n      viewport.addEventListener(\"scroll\", handleScroll2);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll2);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n  return canScrollUp ? /* @__PURE__ */ jsx(\n    SelectScrollButtonImpl,\n    {\n      ...props,\n      ref: composedRefs,\n      onAutoScroll: () => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop - selectedItem.offsetHeight;\n        }\n      }\n    }\n  ) : null;\n});\nSelectScrollUpButton.displayName = SCROLL_UP_BUTTON_NAME;\nvar SCROLL_DOWN_BUTTON_NAME = \"SelectScrollDownButton\";\nvar SelectScrollDownButton = React.forwardRef((props, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollDown, setCanScrollDown] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      let handleScroll2 = function() {\n        const maxScroll = viewport.scrollHeight - viewport.clientHeight;\n        const canScrollDown2 = Math.ceil(viewport.scrollTop) < maxScroll;\n        setCanScrollDown(canScrollDown2);\n      };\n      var handleScroll = handleScroll2;\n      const viewport = contentContext.viewport;\n      handleScroll2();\n      viewport.addEventListener(\"scroll\", handleScroll2);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll2);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n  return canScrollDown ? /* @__PURE__ */ jsx(\n    SelectScrollButtonImpl,\n    {\n      ...props,\n      ref: composedRefs,\n      onAutoScroll: () => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop + selectedItem.offsetHeight;\n        }\n      }\n    }\n  ) : null;\n});\nSelectScrollDownButton.displayName = SCROLL_DOWN_BUTTON_NAME;\nvar SelectScrollButtonImpl = React.forwardRef((props, forwardedRef) => {\n  const { __scopeSelect, onAutoScroll, ...scrollIndicatorProps } = props;\n  const contentContext = useSelectContentContext(\"SelectScrollButton\", __scopeSelect);\n  const autoScrollTimerRef = React.useRef(null);\n  const getItems = useCollection(__scopeSelect);\n  const clearAutoScrollTimer = React.useCallback(() => {\n    if (autoScrollTimerRef.current !== null) {\n      window.clearInterval(autoScrollTimerRef.current);\n      autoScrollTimerRef.current = null;\n    }\n  }, []);\n  React.useEffect(() => {\n    return () => clearAutoScrollTimer();\n  }, [clearAutoScrollTimer]);\n  useLayoutEffect(() => {\n    const activeItem = getItems().find((item) => item.ref.current === document.activeElement);\n    activeItem?.ref.current?.scrollIntoView({ block: \"nearest\" });\n  }, [getItems]);\n  return /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      \"aria-hidden\": true,\n      ...scrollIndicatorProps,\n      ref: forwardedRef,\n      style: { flexShrink: 0, ...scrollIndicatorProps.style },\n      onPointerDown: composeEventHandlers(scrollIndicatorProps.onPointerDown, () => {\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      }),\n      onPointerMove: composeEventHandlers(scrollIndicatorProps.onPointerMove, () => {\n        contentContext.onItemLeave?.();\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      }),\n      onPointerLeave: composeEventHandlers(scrollIndicatorProps.onPointerLeave, () => {\n        clearAutoScrollTimer();\n      })\n    }\n  );\n});\nvar SEPARATOR_NAME = \"SelectSeparator\";\nvar SelectSeparator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...separatorProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { \"aria-hidden\": true, ...separatorProps, ref: forwardedRef });\n  }\n);\nSelectSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"SelectArrow\";\nvar SelectArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(ARROW_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ARROW_NAME, __scopeSelect);\n    return context.open && contentContext.position === \"popper\" ? /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef }) : null;\n  }\n);\nSelectArrow.displayName = ARROW_NAME;\nvar BUBBLE_INPUT_NAME = \"SelectBubbleInput\";\nvar SelectBubbleInput = React.forwardRef(\n  ({ __scopeSelect, value, ...props }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const prevValue = usePrevious(value);\n    React.useEffect(() => {\n      const select = ref.current;\n      if (!select) return;\n      const selectProto = window.HTMLSelectElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        selectProto,\n        \"value\"\n      );\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event(\"change\", { bubbles: true });\n        setValue.call(select, value);\n        select.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n    return /* @__PURE__ */ jsx(\n      Primitive.select,\n      {\n        ...props,\n        style: { ...VISUALLY_HIDDEN_STYLES, ...props.style },\n        ref: composedRefs,\n        defaultValue: value\n      }\n    );\n  }\n);\nSelectBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction shouldShowPlaceholder(value) {\n  return value === \"\" || value === void 0;\n}\nfunction useTypeaheadSearch(onSearchChange) {\n  const handleSearchChange = useCallbackRef(onSearchChange);\n  const searchRef = React.useRef(\"\");\n  const timerRef = React.useRef(0);\n  const handleTypeaheadSearch = React.useCallback(\n    (key) => {\n      const search = searchRef.current + key;\n      handleSearchChange(search);\n      (function updateSearch(value) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== \"\") timerRef.current = window.setTimeout(() => updateSearch(\"\"), 1e3);\n      })(search);\n    },\n    [handleSearchChange]\n  );\n  const resetTypeahead = React.useCallback(() => {\n    searchRef.current = \"\";\n    window.clearTimeout(timerRef.current);\n  }, []);\n  React.useEffect(() => {\n    return () => window.clearTimeout(timerRef.current);\n  }, []);\n  return [searchRef, handleTypeaheadSearch, resetTypeahead];\n}\nfunction findNextItem(items, search, currentItem) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentItemIndex = currentItem ? items.indexOf(currentItem) : -1;\n  let wrappedItems = wrapArray(items, Math.max(currentItemIndex, 0));\n  const excludeCurrentItem = normalizedSearch.length === 1;\n  if (excludeCurrentItem) wrappedItems = wrappedItems.filter((v) => v !== currentItem);\n  const nextItem = wrappedItems.find(\n    (item) => item.textValue.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextItem !== currentItem ? nextItem : void 0;\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nvar Root2 = Select;\nvar Trigger = SelectTrigger;\nvar Value = SelectValue;\nvar Icon = SelectIcon;\nvar Portal = SelectPortal;\nvar Content2 = SelectContent;\nvar Viewport = SelectViewport;\nvar Group = SelectGroup;\nvar Label = SelectLabel;\nvar Item = SelectItem;\nvar ItemText = SelectItemText;\nvar ItemIndicator = SelectItemIndicator;\nvar ScrollUpButton = SelectScrollUpButton;\nvar ScrollDownButton = SelectScrollDownButton;\nvar Separator = SelectSeparator;\nvar Arrow2 = SelectArrow;\nexport {\n  Arrow2 as Arrow,\n  Content2 as Content,\n  Group,\n  Icon,\n  Item,\n  ItemIndicator,\n  ItemText,\n  Label,\n  Portal,\n  Root2 as Root,\n  ScrollDownButton,\n  ScrollUpButton,\n  Select,\n  SelectArrow,\n  SelectContent,\n  SelectGroup,\n  SelectIcon,\n  SelectItem,\n  SelectItemIndicator,\n  SelectItemText,\n  SelectLabel,\n  SelectPortal,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n  SelectViewport,\n  Separator,\n  Trigger,\n  Value,\n  Viewport,\n  createSelectScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\r\nimport {\r\n  CheckIcon,\r\n  ChevronDownIcon,\r\n  ChevronUpIcon,\r\n} from \"lucide-react\";\r\n\r\nimport { cn } from \"../SMUtils/SMUtils\";\r\n\r\nfunction Select({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\r\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />;\r\n}\r\n\r\nfunction SelectGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\r\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />;\r\n}\r\n\r\nfunction SelectValue({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\r\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />;\r\n}\r\n\r\nfunction SelectTrigger({\r\n  className,\r\n  size = \"default\",\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\r\n  size?: \"sm\" | \"default\";\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Trigger\r\n      data-slot=\"select-trigger\"\r\n      data-size={size}\r\n      className={cn(\r\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <SelectPrimitive.Icon asChild>\r\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\r\n      </SelectPrimitive.Icon>\r\n    </SelectPrimitive.Trigger>\r\n  );\r\n}\r\n\r\nfunction SelectContent({\r\n  className,\r\n  children,\r\n  position = \"popper\",\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\r\n  return (\r\n    <SelectPrimitive.Portal>\r\n      <SelectPrimitive.Content\r\n        data-slot=\"select-content\"\r\n        className={cn(\r\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\r\n          position === \"popper\" &&\r\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\r\n          className,\r\n        )}\r\n        position={position}\r\n        {...props}\r\n      >\r\n        <SelectScrollUpButton />\r\n        <SelectPrimitive.Viewport\r\n          className={cn(\r\n            \"p-1\",\r\n            position === \"popper\" &&\r\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\",\r\n          )}\r\n        >\r\n          {children}\r\n        </SelectPrimitive.Viewport>\r\n        <SelectScrollDownButton />\r\n      </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n  );\r\n}\r\n\r\nfunction SelectLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\r\n  return (\r\n    <SelectPrimitive.Label\r\n      data-slot=\"select-label\"\r\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SelectItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\r\n  return (\r\n    <SelectPrimitive.Item\r\n      data-slot=\"select-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\r\n        <SelectPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </SelectPrimitive.ItemIndicator>\r\n      </span>\r\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n    </SelectPrimitive.Item>\r\n  );\r\n}\r\n\r\nfunction SelectSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\r\n  return (\r\n    <SelectPrimitive.Separator\r\n      data-slot=\"select-separator\"\r\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SelectScrollUpButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollUpButton\r\n      data-slot=\"select-scroll-up-button\"\r\n      className={cn(\r\n        \"flex cursor-default items-center justify-center py-1\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronUpIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollUpButton>\r\n  );\r\n}\r\n\r\nfunction SelectScrollDownButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollDownButton\r\n      data-slot=\"select-scroll-down-button\"\r\n      className={cn(\r\n        \"flex cursor-default items-center justify-center py-1\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronDownIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollDownButton>\r\n  );\r\n}\r\n\r\nexport {\r\n  Select,\r\n  SelectContent,\r\n  SelectGroup,\r\n  SelectItem,\r\n  SelectLabel,\r\n  SelectScrollDownButton,\r\n  SelectScrollUpButton,\r\n  SelectSeparator,\r\n  SelectTrigger,\r\n  SelectValue,\r\n};\r\n","'use client';\r\nimport { useState } from 'react';\r\nimport { ChevronRight, ChevronDown, Settings, FileText, MessageSquare, LogOut, Menu, X, User } from 'lucide-react';\r\nimport { Button } from '../common/SMButton/SMButton';\r\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetDescription, SheetTrigger, SheetClose } from '../common/SMSheet/SMSheet';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '../common/SMDialog/SMDialog';\r\nimport { useRouter } from '../SMRouter/SMRouter';\r\nimport { useMenu } from '../SMMenuContext/SMMenuContext';\r\nimport { signOut } from 'next-auth/react';\r\n\r\ninterface MenuItem {\r\n  id: string;\r\n  title: string;\r\n  icon?: React.ReactNode;\r\n  children?: MenuItem[];\r\n  isAction?: boolean;\r\n}\r\n\r\nconst menuData: MenuItem[] = [\r\n  {\r\n    id: 'materials',\r\n    title: 'Материалы',\r\n    icon: <FileText className=\"w-4 h-4\" />,\r\n    children: []\r\n  },\r\n  {\r\n    id: 'contact',\r\n    title: 'Написать глав.врачу',\r\n    icon: <MessageSquare className=\"w-4 h-4\" />,\r\n    children: []\r\n  },\r\n  {\r\n    id: 'logout',\r\n    title: 'Выйти',\r\n    icon: <LogOut className=\"w-4 h-4\" />,\r\n    children: [],\r\n    isAction: true\r\n  }\r\n];\r\n\r\ninterface MenuItemComponentProps {\r\n  item: MenuItem;\r\n  level: number;\r\n  expandedItems: Set<string>;\r\n  setExpandedItems: (items: Set<string>) => void;\r\n  selectedItem: string | null;\r\n  onItemClick: (item: MenuItem) => void;\r\n}\r\n\r\nfunction MenuItemComponent({ \r\n  item, \r\n  level, \r\n  expandedItems, \r\n  setExpandedItems, \r\n  selectedItem,\r\n  onItemClick \r\n}: MenuItemComponentProps) {\r\n  const hasChildren = item.children && item.children.length > 0;\r\n  const isExpanded = expandedItems.has(item.id);\r\n  const isSelected = selectedItem === item.id;\r\n\r\n  const handleToggle = () => {\r\n    if (hasChildren) {\r\n      const newExpanded = new Set(expandedItems);\r\n      if (isExpanded) {\r\n        newExpanded.delete(item.id);\r\n      } else {\r\n        newExpanded.add(item.id);\r\n      }\r\n      setExpandedItems(newExpanded);\r\n    } else {\r\n      onItemClick(item);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={level === 0 ? 'mb-1' : ''}>\r\n      <button\r\n        onClick={handleToggle}\r\n        className={`w-full flex items-center justify-between px-4 py-3 text-left transition-all duration-300 group rounded-lg mx-1 ${\r\n          isSelected\r\n            ? 'bg-[#18A36C]/10 text-[#18A36C] shadow-sm'\r\n            : 'hover:bg-gray-50'\r\n        } ${level > 0 ? 'ml-6 border-l-2 border-gray-200' : ''} ${\r\n          item.isAction ? 'hover:bg-red-50' : ''\r\n        }`}\r\n        style={{ width: 'calc(100% - 8px)' }}\r\n      >\r\n        <div className=\"flex items-center gap-3\">\r\n          {item.icon && (\r\n            <div className={`flex-shrink-0 transition-all duration-300 ${\r\n              isSelected\r\n                ? 'text-[#18A36C] scale-110'\r\n                : 'text-gray-500 group-hover:text-[#18A36C] group-hover:scale-110'\r\n            } ${item.isAction ? 'text-red-500 group-hover:text-red-600' : ''}`}>\r\n              {item.icon}\r\n            </div>\r\n          )}\r\n          <span className={`font-medium transition-colors duration-300 ${\r\n            isSelected ? 'text-[#18A36C]' : 'text-gray-700 group-hover:text-[#18A36C]'\r\n          } ${item.isAction ? 'text-red-500 group-hover:text-red-600' : ''}`}>\r\n            {item.title}\r\n          </span>\r\n        </div>\r\n        {hasChildren && (\r\n          <div className={`flex-shrink-0 transition-all duration-300 ${\r\n            isSelected ? 'text-[#18A36C]' : 'text-gray-400 group-hover:text-[#18A36C]'\r\n          }`}>\r\n            {isExpanded ? <ChevronDown className=\"w-4 h-4\" /> : <ChevronRight className=\"w-4 h-4\" />}\r\n          </div>\r\n        )}\r\n      </button>\r\n\r\n      {hasChildren && isExpanded && (\r\n        <div className=\"ml-4\">\r\n          {item.children!.map((child) => (\r\n            <MenuItemComponent\r\n              key={child.id}\r\n              item={child}\r\n              level={level + 1}\r\n              expandedItems={expandedItems}\r\n              setExpandedItems={setExpandedItems}\r\n              selectedItem={selectedItem}\r\n              onItemClick={onItemClick}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function NavigableAccountMenu() {\r\n  const [expandedItems, setExpandedItems] = useState<Set<string>>(new Set());\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const [showLogoutDialog, setShowLogoutDialog] = useState(false);\r\n  const { navigate, currentRoute } = useRouter();\r\n  const { isBurgerMenuOpen } = useMenu();\r\n\r\n  // Sync selectedItem with URL\r\n  const pathParts = currentRoute.replace(/^\\/+|\\/+$/g, '').split('/');\r\n  let sectionFromUrl = '';\r\n  if (pathParts[0] === 'account') {\r\n    sectionFromUrl = pathParts[1] || '';\r\n  }\r\n  const selectedItem = sectionFromUrl && ['materials', 'contact'].includes(sectionFromUrl)\r\n    ? sectionFromUrl\r\n    : null;\r\n\r\n  const handleItemClick = async (item: MenuItem) => {\r\n    if (item.isAction && item.id === 'logout') {\r\n      setMobileMenuOpen(false);\r\n      setShowLogoutDialog(true);\r\n      return;\r\n    }\r\n    \r\n    navigate(`/account/${item.id}`);\r\n    setMobileMenuOpen(false);\r\n  };\r\n\r\n  const handleLogoutConfirm = async () => {\r\n    setShowLogoutDialog(false);\r\n    await signOut({ \r\n      callbackUrl: \"/\",\r\n      redirect: true \r\n    });\r\n  };\r\n\r\n  const handleHeaderClick = () => {\r\n    // Если находимся в подразделе, возвращаемся на главную страницу аккаунта\r\n    if (sectionFromUrl) {\r\n      navigate('/account');\r\n      setMobileMenuOpen(false);\r\n    }\r\n  };\r\n\r\n  const MenuContent = ({ onItemClick: onItemClickProp }: { onItemClick?: (item: MenuItem) => void }) => (\r\n    <div className=\"bg-white h-full flex flex-col\">\r\n      {/* Header with gradient accent */}\r\n      <div className=\"p-4 lg:p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50\">\r\n        <button\r\n          onClick={handleHeaderClick}\r\n          className={`w-full flex items-center gap-3 transition-all duration-300 ${\r\n            sectionFromUrl\r\n              ? 'cursor-pointer hover:bg-[#18A36C]/5 rounded-xl p-3 -m-3'\r\n              : 'cursor-default p-3 -m-3'\r\n          }`}\r\n          disabled={!sectionFromUrl}\r\n        >\r\n          <div className=\"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-xl flex items-center justify-center flex-shrink-0 shadow-md\">\r\n            <User className=\"w-6 h-6 text-white\" />\r\n          </div>\r\n          <div className=\"text-left flex-1\">\r\n            <h2 className={`text-lg lg:text-xl font-semibold transition-colors duration-300 ${\r\n              sectionFromUrl\r\n                ? 'text-[#18A36C]'\r\n                : 'text-gray-800'\r\n            }`}>\r\n              Личный кабинет\r\n            </h2>\r\n            <p className=\"text-xs lg:text-sm text-gray-500 mt-0.5\">Управление аккаунтом</p>\r\n          </div>\r\n          {sectionFromUrl && (\r\n            <ChevronRight className=\"w-5 h-5 text-[#18A36C] flex-shrink-0 transition-transform duration-300 group-hover:translate-x-1\" />\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Navigation items */}\r\n      <div className=\"flex-1 overflow-y-auto\">\r\n        <nav className=\"py-4 px-2\">\r\n          {menuData.map((item) => (\r\n            <MenuItemComponent\r\n              key={item.id}\r\n              item={item}\r\n              level={0}\r\n              expandedItems={expandedItems}\r\n              setExpandedItems={setExpandedItems}\r\n              selectedItem={selectedItem}\r\n              onItemClick={onItemClickProp || handleItemClick}\r\n            />\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <div className=\"p-4 border-t border-gray-100 bg-gradient-to-r from-gray-50 to-white\">\r\n        <p className=\"text-xs text-gray-500 text-center font-medium\">\r\n          Doctor Family © 2025\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className=\"hidden lg:block w-80 flex-shrink-0 sticky top-[80px] h-[calc(100vh-80px)] overflow-y-auto bg-white border-r border-gray-200 shadow-lg\">\r\n        <MenuContent />\r\n      </div>\r\n\r\n      <div className=\"lg:hidden fixed top-24 left-4 z-50\">\r\n        <Sheet open={mobileMenuOpen && !isBurgerMenuOpen} onOpenChange={(open) => !isBurgerMenuOpen && setMobileMenuOpen(open)}>\r\n          <SheetTrigger asChild>\r\n            <Button\r\n              size=\"sm\"\r\n              disabled={isBurgerMenuOpen}\r\n              className=\"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white shadow-xl rounded-full w-14 h-14 p-0 transition-all duration-300 hover:scale-110 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              <User className=\"w-6 h-6\" />\r\n            </Button>\r\n          </SheetTrigger>\r\n          <SheetContent side=\"left\" className=\"w-80 p-0\">\r\n            <SheetHeader className=\"sr-only\">\r\n              <SheetTitle>Личный кабинет</SheetTitle>\r\n              <SheetDescription>Управление аккаунтом и настройками</SheetDescription>\r\n            </SheetHeader>\r\n            <MenuContent onItemClick={handleItemClick} />\r\n          </SheetContent>\r\n        </Sheet>\r\n      </div>\r\n\r\n      <Dialog open={showLogoutDialog} onOpenChange={setShowLogoutDialog}>\r\n        <DialogContent className=\"sm:max-w-md border-0\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-xl text-[#2E2E2E]\">\r\n              Подтверждение выхода\r\n            </DialogTitle>\r\n            <DialogDescription className=\"text-gray-600 pt-2\">\r\n              Вы уверены, что хотите выйти из аккаунта?\r\n              <br />\r\n              Вам потребуется войти снова для доступа к личному кабинету.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <DialogFooter className=\"flex flex-col sm:flex-row gap-3 sm:gap-2 pt-4\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setShowLogoutDialog(false)}\r\n              className=\"w-full sm:w-auto border-gray-300 text-[#2E2E2E] hover:bg-gray-50\"\r\n            >\r\n              Отмена\r\n            </Button>\r\n            <Button\r\n              onClick={handleLogoutConfirm}\r\n              className=\"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white\"\r\n            >\r\n              <LogOut className=\"w-4 h-4 mr-2\" />\r\n              Выйти\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogDescription,\r\n} from '../common/SMDialog/SMDialog';\r\nimport { Button } from '../common/SMButton/SMButton';\r\nimport { Input } from '../common/SMInput/SMInput';\r\nimport { Label } from '../common/SMLabel/SMLabel';\r\nimport { Eye, EyeOff, Lock, Shield, CheckCircle2 } from 'lucide-react';\r\nimport { useAlert } from '../common/SMAlert/AlertProvider';\r\n\r\ninterface ChangePasswordModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport function ChangePasswordModal({ isOpen, onClose }: ChangePasswordModalProps) {\r\n  const [oldPassword, setOldPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [showOldPassword, setShowOldPassword] = useState(false);\r\n  const [showNewPassword, setShowNewPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const alert = useAlert();\r\n\r\n  const resetForm = () => {\r\n    setOldPassword('');\r\n    setNewPassword('');\r\n    setConfirmPassword('');\r\n    setShowOldPassword(false);\r\n    setShowNewPassword(false);\r\n    setShowConfirmPassword(false);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    resetForm();\r\n    onClose();\r\n  };\r\n\r\n  const validateForm = (): boolean => {\r\n    if (!oldPassword.trim()) {\r\n      alert.error('Введите текущий пароль', 'Ошибка валидации');\r\n      return false;\r\n    }\r\n\r\n    if (!newPassword.trim()) {\r\n      alert.error('Введите новый пароль', 'Ошибка валидации');\r\n      return false;\r\n    }\r\n\r\n    if (newPassword.length < 6) {\r\n      alert.error('Новый пароль должен содержать минимум 6 символов', 'Слишком короткий пароль');\r\n      return false;\r\n    }\r\n\r\n    if (newPassword !== confirmPassword) {\r\n      alert.error('Пароли не совпадают', 'Ошибка валидации');\r\n      return false;\r\n    }\r\n\r\n    if (oldPassword === newPassword) {\r\n      alert.warning('Новый пароль должен отличаться от текущего', 'Одинаковые пароли');\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!validateForm()) return;\r\n\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await fetch('/api/auth/change-password', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          oldPassword,\r\n          newPassword,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        alert.error(data.error || 'Ошибка при смене пароля', 'Ошибка');\r\n        return;\r\n      }\r\n\r\n      alert.success('Пароль успешно изменен!', 'Успешно');\r\n      handleClose();\r\n    } catch (error) {\r\n      alert.error('Ошибка при смене пароля. Попробуйте позже.', 'Ошибка');\r\n      console.error('Change password error:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const passwordStrength = (password: string): { strength: number; text: string; color: string } => {\r\n    if (!password) return { strength: 0, text: '', color: '' };\r\n\r\n    let strength = 0;\r\n    if (password.length >= 6) strength++;\r\n    if (password.length >= 8) strength++;\r\n    if (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength++;\r\n    if (/\\d/.test(password)) strength++;\r\n    if (/[^a-zA-Z\\d]/.test(password)) strength++;\r\n\r\n    if (strength <= 1) return { strength: 20, text: 'Слабый', color: 'bg-red-500' };\r\n    if (strength <= 2) return { strength: 40, text: 'Средний', color: 'bg-orange-500' };\r\n    if (strength <= 3) return { strength: 60, text: 'Хороший', color: 'bg-yellow-500' };\r\n    if (strength <= 4) return { strength: 80, text: 'Сильный', color: 'bg-green-500' };\r\n    return { strength: 100, text: 'Очень сильный', color: 'bg-emerald-500' };\r\n  };\r\n\r\n  const strength = passwordStrength(newPassword);\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={handleClose}>\r\n      <DialogContent className=\"sm:max-w-md border-gray-200 bg-white\">\r\n        <DialogHeader>\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.4 }}\r\n          >\r\n            <div className=\"flex items-center justify-center mb-4\">\r\n              <motion.div\r\n                initial={{ scale: 0 }}\r\n                animate={{ scale: 1 }}\r\n                transition={{\r\n                  delay: 0.2,\r\n                  type: 'spring',\r\n                  stiffness: 200,\r\n                }}\r\n                className=\"inline-flex items-center justify-center w-16 h-16 rounded-lg bg-[#18A36C]/10\"\r\n              >\r\n                <Shield className=\"w-8 h-8 text-[#18A36C]\" />\r\n              </motion.div>\r\n            </div>\r\n            <DialogTitle className=\"text-center text-[#2E2E2E] text-2xl\">\r\n              Смена пароля\r\n            </DialogTitle>\r\n            <DialogDescription className=\"text-center text-gray-600 mt-2\">\r\n              Введите текущий пароль и новый пароль для подтверждения\r\n            </DialogDescription>\r\n          </motion.div>\r\n        </DialogHeader>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.3, delay: 0.1 }}\r\n          className=\"space-y-5 mt-6\"\r\n        >\r\n          {/* Old Password */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"oldPassword\" className=\"text-[#2E2E2E]\">\r\n              Текущий пароль\r\n            </Label>\r\n            <div className=\"relative group\">\r\n              <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#18A36C] transition-colors\" />\r\n              <Input\r\n                id=\"oldPassword\"\r\n                type={showOldPassword ? 'text' : 'password'}\r\n                placeholder=\"Введите текущий пароль\"\r\n                value={oldPassword}\r\n                onChange={(e) => setOldPassword(e.target.value)}\r\n                className=\"pl-12 pr-12 h-12 border-gray-300 focus:border-[#18A36C] transition-all duration-200 rounded-lg\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowOldPassword(!showOldPassword)}\r\n                className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#18A36C] transition-colors\"\r\n              >\r\n                {showOldPassword ? (\r\n                  <EyeOff className=\"w-5 h-5\" />\r\n                ) : (\r\n                  <Eye className=\"w-5 h-5\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* New Password */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"newPassword\" className=\"text-[#2E2E2E]\">\r\n              Новый пароль\r\n            </Label>\r\n            <div className=\"relative group\">\r\n              <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#18A36C] transition-colors\" />\r\n              <Input\r\n                id=\"newPassword\"\r\n                type={showNewPassword ? 'text' : 'password'}\r\n                placeholder=\"Введите новый пароль\"\r\n                value={newPassword}\r\n                onChange={(e) => setNewPassword(e.target.value)}\r\n                className=\"pl-12 pr-12 h-12 border-gray-300 focus:border-[#18A36C] transition-all duration-200 rounded-lg\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowNewPassword(!showNewPassword)}\r\n                className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#18A36C] transition-colors\"\r\n              >\r\n                {showNewPassword ? (\r\n                  <EyeOff className=\"w-5 h-5\" />\r\n                ) : (\r\n                  <Eye className=\"w-5 h-5\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n\r\n            {/* Password Strength Indicator */}\r\n            {newPassword && (\r\n              <motion.div\r\n                initial={{ opacity: 0, height: 0 }}\r\n                animate={{ opacity: 1, height: 'auto' }}\r\n                className=\"space-y-2\"\r\n              >\r\n                <div className=\"flex items-center justify-between text-xs\">\r\n                  <span className=\"text-gray-600\">Надежность пароля</span>\r\n                  <span className={`font-medium ${strength.color.replace('bg-', 'text-')}`}>\r\n                    {strength.text}\r\n                  </span>\r\n                </div>\r\n                <div className=\"h-2 bg-gray-200 rounded-full overflow-hidden\">\r\n                  <motion.div\r\n                    initial={{ width: 0 }}\r\n                    animate={{ width: `${strength.strength}%` }}\r\n                    transition={{ duration: 0.3 }}\r\n                    className={`h-full ${strength.color} rounded-full`}\r\n                  />\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Confirm Password */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"confirmPassword\" className=\"text-[#2E2E2E]\">\r\n              Подтверждение пароля\r\n            </Label>\r\n            <div className=\"relative group\">\r\n              <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#18A36C] transition-colors\" />\r\n              <Input\r\n                id=\"confirmPassword\"\r\n                type={showConfirmPassword ? 'text' : 'password'}\r\n                placeholder=\"Повторите новый пароль\"\r\n                value={confirmPassword}\r\n                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                className=\"pl-12 pr-12 h-12 border-gray-300 focus:border-[#18A36C] transition-all duration-200 rounded-lg\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#18A36C] transition-colors\"\r\n              >\r\n                {showConfirmPassword ? (\r\n                  <EyeOff className=\"w-5 h-5\" />\r\n                ) : (\r\n                  <Eye className=\"w-5 h-5\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n\r\n            {/* Match Indicator */}\r\n            {confirmPassword && (\r\n              <motion.div\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                {newPassword === confirmPassword ? (\r\n                  <>\r\n                    <CheckCircle2 className=\"w-4 h-4 text-green-500\" />\r\n                    <span className=\"text-xs text-green-600\">Пароли совпадают</span>\r\n                  </>\r\n                ) : (\r\n                  <span className=\"text-xs text-red-600\">Пароли не совпадают</span>\r\n                )}\r\n              </motion.div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Buttons */}\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <Button\r\n              onClick={handleClose}\r\n              variant=\"outline\"\r\n              className=\"flex-1 h-12 border-gray-300 text-gray-700 hover:bg-gray-50\"\r\n              disabled={isLoading}\r\n            >\r\n              Отмена\r\n            </Button>\r\n            <Button\r\n              onClick={handleSubmit}\r\n              disabled={isLoading || !oldPassword || !newPassword || !confirmPassword}\r\n              className=\"flex-1 h-12 bg-[#18A36C] hover:bg-[#18A36C]/90 text-white\"\r\n            >\r\n              {isLoading ? 'Изменение...' : 'Изменить пароль'}\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Security Note */}\r\n          <div className=\"text-center text-xs text-gray-600 mt-4 p-3 bg-[#F4F4F4] rounded-lg\">\r\n            <Shield className=\"w-4 h-4 inline mr-1\" />\r\n            Для безопасности используйте пароль длиной минимум 8 символов с буквами и цифрами\r\n          </div>\r\n        </motion.div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","\"use client\";\n\n// src/slider.tsx\nimport * as React from \"react\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar PAGE_KEYS = [\"PageUp\", \"PageDown\"];\nvar ARROW_KEYS = [\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"];\nvar BACK_KEYS = {\n  \"from-left\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowLeft\"],\n  \"from-right\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowRight\"],\n  \"from-bottom\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowLeft\"],\n  \"from-top\": [\"Home\", \"PageDown\", \"ArrowUp\", \"ArrowLeft\"]\n};\nvar SLIDER_NAME = \"Slider\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(SLIDER_NAME);\nvar [createSliderContext, createSliderScope] = createContextScope(SLIDER_NAME, [\n  createCollectionScope\n]);\nvar [SliderProvider, useSliderContext] = createSliderContext(SLIDER_NAME);\nvar Slider = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      name,\n      min = 0,\n      max = 100,\n      step = 1,\n      orientation = \"horizontal\",\n      disabled = false,\n      minStepsBetweenThumbs = 0,\n      defaultValue = [min],\n      value,\n      onValueChange = () => {\n      },\n      onValueCommit = () => {\n      },\n      inverted = false,\n      form,\n      ...sliderProps\n    } = props;\n    const thumbRefs = React.useRef(/* @__PURE__ */ new Set());\n    const valueIndexToChangeRef = React.useRef(0);\n    const isHorizontal = orientation === \"horizontal\";\n    const SliderOrientation = isHorizontal ? SliderHorizontal : SliderVertical;\n    const [values = [], setValues] = useControllableState({\n      prop: value,\n      defaultProp: defaultValue,\n      onChange: (value2) => {\n        const thumbs = [...thumbRefs.current];\n        thumbs[valueIndexToChangeRef.current]?.focus();\n        onValueChange(value2);\n      }\n    });\n    const valuesBeforeSlideStartRef = React.useRef(values);\n    function handleSlideStart(value2) {\n      const closestIndex = getClosestValueIndex(values, value2);\n      updateValues(value2, closestIndex);\n    }\n    function handleSlideMove(value2) {\n      updateValues(value2, valueIndexToChangeRef.current);\n    }\n    function handleSlideEnd() {\n      const prevValue = valuesBeforeSlideStartRef.current[valueIndexToChangeRef.current];\n      const nextValue = values[valueIndexToChangeRef.current];\n      const hasChanged = nextValue !== prevValue;\n      if (hasChanged) onValueCommit(values);\n    }\n    function updateValues(value2, atIndex, { commit } = { commit: false }) {\n      const decimalCount = getDecimalCount(step);\n      const snapToStep = roundValue(Math.round((value2 - min) / step) * step + min, decimalCount);\n      const nextValue = clamp(snapToStep, [min, max]);\n      setValues((prevValues = []) => {\n        const nextValues = getNextSortedValues(prevValues, nextValue, atIndex);\n        if (hasMinStepsBetweenValues(nextValues, minStepsBetweenThumbs * step)) {\n          valueIndexToChangeRef.current = nextValues.indexOf(nextValue);\n          const hasChanged = String(nextValues) !== String(prevValues);\n          if (hasChanged && commit) onValueCommit(nextValues);\n          return hasChanged ? nextValues : prevValues;\n        } else {\n          return prevValues;\n        }\n      });\n    }\n    return /* @__PURE__ */ jsx(\n      SliderProvider,\n      {\n        scope: props.__scopeSlider,\n        name,\n        disabled,\n        min,\n        max,\n        valueIndexToChangeRef,\n        thumbs: thumbRefs.current,\n        values,\n        orientation,\n        form,\n        children: /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(\n          SliderOrientation,\n          {\n            \"aria-disabled\": disabled,\n            \"data-disabled\": disabled ? \"\" : void 0,\n            ...sliderProps,\n            ref: forwardedRef,\n            onPointerDown: composeEventHandlers(sliderProps.onPointerDown, () => {\n              if (!disabled) valuesBeforeSlideStartRef.current = values;\n            }),\n            min,\n            max,\n            inverted,\n            onSlideStart: disabled ? void 0 : handleSlideStart,\n            onSlideMove: disabled ? void 0 : handleSlideMove,\n            onSlideEnd: disabled ? void 0 : handleSlideEnd,\n            onHomeKeyDown: () => !disabled && updateValues(min, 0, { commit: true }),\n            onEndKeyDown: () => !disabled && updateValues(max, values.length - 1, { commit: true }),\n            onStepKeyDown: ({ event, direction: stepDirection }) => {\n              if (!disabled) {\n                const isPageKey = PAGE_KEYS.includes(event.key);\n                const isSkipKey = isPageKey || event.shiftKey && ARROW_KEYS.includes(event.key);\n                const multiplier = isSkipKey ? 10 : 1;\n                const atIndex = valueIndexToChangeRef.current;\n                const value2 = values[atIndex];\n                const stepInDirection = step * multiplier * stepDirection;\n                updateValues(value2 + stepInDirection, atIndex, { commit: true });\n              }\n            }\n          }\n        ) }) })\n      }\n    );\n  }\n);\nSlider.displayName = SLIDER_NAME;\nvar [SliderOrientationProvider, useSliderOrientationContext] = createSliderContext(SLIDER_NAME, {\n  startEdge: \"left\",\n  endEdge: \"right\",\n  size: \"width\",\n  direction: 1\n});\nvar SliderHorizontal = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      min,\n      max,\n      dir,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const [slider, setSlider] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setSlider(node));\n    const rectRef = React.useRef(void 0);\n    const direction = useDirection(dir);\n    const isDirectionLTR = direction === \"ltr\";\n    const isSlidingFromLeft = isDirectionLTR && !inverted || !isDirectionLTR && inverted;\n    function getValueFromPointer(pointerPosition) {\n      const rect = rectRef.current || slider.getBoundingClientRect();\n      const input = [0, rect.width];\n      const output = isSlidingFromLeft ? [min, max] : [max, min];\n      const value = linearScale(input, output);\n      rectRef.current = rect;\n      return value(pointerPosition - rect.left);\n    }\n    return /* @__PURE__ */ jsx(\n      SliderOrientationProvider,\n      {\n        scope: props.__scopeSlider,\n        startEdge: isSlidingFromLeft ? \"left\" : \"right\",\n        endEdge: isSlidingFromLeft ? \"right\" : \"left\",\n        direction: isSlidingFromLeft ? 1 : -1,\n        size: \"width\",\n        children: /* @__PURE__ */ jsx(\n          SliderImpl,\n          {\n            dir: direction,\n            \"data-orientation\": \"horizontal\",\n            ...sliderProps,\n            ref: composedRefs,\n            style: {\n              ...sliderProps.style,\n              [\"--radix-slider-thumb-transform\"]: \"translateX(-50%)\"\n            },\n            onSlideStart: (event) => {\n              const value = getValueFromPointer(event.clientX);\n              onSlideStart?.(value);\n            },\n            onSlideMove: (event) => {\n              const value = getValueFromPointer(event.clientX);\n              onSlideMove?.(value);\n            },\n            onSlideEnd: () => {\n              rectRef.current = void 0;\n              onSlideEnd?.();\n            },\n            onStepKeyDown: (event) => {\n              const slideDirection = isSlidingFromLeft ? \"from-left\" : \"from-right\";\n              const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n              onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n            }\n          }\n        )\n      }\n    );\n  }\n);\nvar SliderVertical = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      min,\n      max,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const sliderRef = React.useRef(null);\n    const ref = useComposedRefs(forwardedRef, sliderRef);\n    const rectRef = React.useRef(void 0);\n    const isSlidingFromBottom = !inverted;\n    function getValueFromPointer(pointerPosition) {\n      const rect = rectRef.current || sliderRef.current.getBoundingClientRect();\n      const input = [0, rect.height];\n      const output = isSlidingFromBottom ? [max, min] : [min, max];\n      const value = linearScale(input, output);\n      rectRef.current = rect;\n      return value(pointerPosition - rect.top);\n    }\n    return /* @__PURE__ */ jsx(\n      SliderOrientationProvider,\n      {\n        scope: props.__scopeSlider,\n        startEdge: isSlidingFromBottom ? \"bottom\" : \"top\",\n        endEdge: isSlidingFromBottom ? \"top\" : \"bottom\",\n        size: \"height\",\n        direction: isSlidingFromBottom ? 1 : -1,\n        children: /* @__PURE__ */ jsx(\n          SliderImpl,\n          {\n            \"data-orientation\": \"vertical\",\n            ...sliderProps,\n            ref,\n            style: {\n              ...sliderProps.style,\n              [\"--radix-slider-thumb-transform\"]: \"translateY(50%)\"\n            },\n            onSlideStart: (event) => {\n              const value = getValueFromPointer(event.clientY);\n              onSlideStart?.(value);\n            },\n            onSlideMove: (event) => {\n              const value = getValueFromPointer(event.clientY);\n              onSlideMove?.(value);\n            },\n            onSlideEnd: () => {\n              rectRef.current = void 0;\n              onSlideEnd?.();\n            },\n            onStepKeyDown: (event) => {\n              const slideDirection = isSlidingFromBottom ? \"from-bottom\" : \"from-top\";\n              const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n              onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n            }\n          }\n        )\n      }\n    );\n  }\n);\nvar SliderImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSlider,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onHomeKeyDown,\n      onEndKeyDown,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const context = useSliderContext(SLIDER_NAME, __scopeSlider);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...sliderProps,\n        ref: forwardedRef,\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          if (event.key === \"Home\") {\n            onHomeKeyDown(event);\n            event.preventDefault();\n          } else if (event.key === \"End\") {\n            onEndKeyDown(event);\n            event.preventDefault();\n          } else if (PAGE_KEYS.concat(ARROW_KEYS).includes(event.key)) {\n            onStepKeyDown(event);\n            event.preventDefault();\n          }\n        }),\n        onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n          const target = event.target;\n          target.setPointerCapture(event.pointerId);\n          event.preventDefault();\n          if (context.thumbs.has(target)) {\n            target.focus();\n          } else {\n            onSlideStart(event);\n          }\n        }),\n        onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) onSlideMove(event);\n        }),\n        onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n            onSlideEnd(event);\n          }\n        })\n      }\n    );\n  }\n);\nvar TRACK_NAME = \"SliderTrack\";\nvar SliderTrack = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, ...trackProps } = props;\n    const context = useSliderContext(TRACK_NAME, __scopeSlider);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        \"data-orientation\": context.orientation,\n        ...trackProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nSliderTrack.displayName = TRACK_NAME;\nvar RANGE_NAME = \"SliderRange\";\nvar SliderRange = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, ...rangeProps } = props;\n    const context = useSliderContext(RANGE_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(RANGE_NAME, __scopeSlider);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const valuesCount = context.values.length;\n    const percentages = context.values.map(\n      (value) => convertValueToPercentage(value, context.min, context.max)\n    );\n    const offsetStart = valuesCount > 1 ? Math.min(...percentages) : 0;\n    const offsetEnd = 100 - Math.max(...percentages);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-orientation\": context.orientation,\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...rangeProps,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          [orientation.startEdge]: offsetStart + \"%\",\n          [orientation.endEdge]: offsetEnd + \"%\"\n        }\n      }\n    );\n  }\n);\nSliderRange.displayName = RANGE_NAME;\nvar THUMB_NAME = \"SliderThumb\";\nvar SliderThumb = React.forwardRef(\n  (props, forwardedRef) => {\n    const getItems = useCollection(props.__scopeSlider);\n    const [thumb, setThumb] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const index = React.useMemo(\n      () => thumb ? getItems().findIndex((item) => item.ref.current === thumb) : -1,\n      [getItems, thumb]\n    );\n    return /* @__PURE__ */ jsx(SliderThumbImpl, { ...props, ref: composedRefs, index });\n  }\n);\nvar SliderThumbImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, index, name, ...thumbProps } = props;\n    const context = useSliderContext(THUMB_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(THUMB_NAME, __scopeSlider);\n    const [thumb, setThumb] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const isFormControl = thumb ? context.form || !!thumb.closest(\"form\") : true;\n    const size = useSize(thumb);\n    const value = context.values[index];\n    const percent = value === void 0 ? 0 : convertValueToPercentage(value, context.min, context.max);\n    const label = getLabel(index, context.values.length);\n    const orientationSize = size?.[orientation.size];\n    const thumbInBoundsOffset = orientationSize ? getThumbInBoundsOffset(orientationSize, percent, orientation.direction) : 0;\n    React.useEffect(() => {\n      if (thumb) {\n        context.thumbs.add(thumb);\n        return () => {\n          context.thumbs.delete(thumb);\n        };\n      }\n    }, [thumb, context.thumbs]);\n    return /* @__PURE__ */ jsxs(\n      \"span\",\n      {\n        style: {\n          transform: \"var(--radix-slider-thumb-transform)\",\n          position: \"absolute\",\n          [orientation.startEdge]: `calc(${percent}% + ${thumbInBoundsOffset}px)`\n        },\n        children: [\n          /* @__PURE__ */ jsx(Collection.ItemSlot, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(\n            Primitive.span,\n            {\n              role: \"slider\",\n              \"aria-label\": props[\"aria-label\"] || label,\n              \"aria-valuemin\": context.min,\n              \"aria-valuenow\": value,\n              \"aria-valuemax\": context.max,\n              \"aria-orientation\": context.orientation,\n              \"data-orientation\": context.orientation,\n              \"data-disabled\": context.disabled ? \"\" : void 0,\n              tabIndex: context.disabled ? void 0 : 0,\n              ...thumbProps,\n              ref: composedRefs,\n              style: value === void 0 ? { display: \"none\" } : props.style,\n              onFocus: composeEventHandlers(props.onFocus, () => {\n                context.valueIndexToChangeRef.current = index;\n              })\n            }\n          ) }),\n          isFormControl && /* @__PURE__ */ jsx(\n            SliderBubbleInput,\n            {\n              name: name ?? (context.name ? context.name + (context.values.length > 1 ? \"[]\" : \"\") : void 0),\n              form: context.form,\n              value\n            },\n            index\n          )\n        ]\n      }\n    );\n  }\n);\nSliderThumb.displayName = THUMB_NAME;\nvar BUBBLE_INPUT_NAME = \"RadioBubbleInput\";\nvar SliderBubbleInput = React.forwardRef(\n  ({ __scopeSlider, value, ...props }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevValue = usePrevious(value);\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(inputProto, \"value\");\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event(\"input\", { bubbles: true });\n        setValue.call(input, value);\n        input.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n    return /* @__PURE__ */ jsx(\n      Primitive.input,\n      {\n        style: { display: \"none\" },\n        ...props,\n        ref: composedRefs,\n        defaultValue: value\n      }\n    );\n  }\n);\nSliderBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction getNextSortedValues(prevValues = [], nextValue, atIndex) {\n  const nextValues = [...prevValues];\n  nextValues[atIndex] = nextValue;\n  return nextValues.sort((a, b) => a - b);\n}\nfunction convertValueToPercentage(value, min, max) {\n  const maxSteps = max - min;\n  const percentPerStep = 100 / maxSteps;\n  const percentage = percentPerStep * (value - min);\n  return clamp(percentage, [0, 100]);\n}\nfunction getLabel(index, totalValues) {\n  if (totalValues > 2) {\n    return `Value ${index + 1} of ${totalValues}`;\n  } else if (totalValues === 2) {\n    return [\"Minimum\", \"Maximum\"][index];\n  } else {\n    return void 0;\n  }\n}\nfunction getClosestValueIndex(values, nextValue) {\n  if (values.length === 1) return 0;\n  const distances = values.map((value) => Math.abs(value - nextValue));\n  const closestDistance = Math.min(...distances);\n  return distances.indexOf(closestDistance);\n}\nfunction getThumbInBoundsOffset(width, left, direction) {\n  const halfWidth = width / 2;\n  const halfPercent = 50;\n  const offset = linearScale([0, halfPercent], [0, halfWidth]);\n  return (halfWidth - offset(left) * direction) * direction;\n}\nfunction getStepsBetweenValues(values) {\n  return values.slice(0, -1).map((value, index) => values[index + 1] - value);\n}\nfunction hasMinStepsBetweenValues(values, minStepsBetweenValues) {\n  if (minStepsBetweenValues > 0) {\n    const stepsBetweenValues = getStepsBetweenValues(values);\n    const actualMinStepsBetweenValues = Math.min(...stepsBetweenValues);\n    return actualMinStepsBetweenValues >= minStepsBetweenValues;\n  }\n  return true;\n}\nfunction linearScale(input, output) {\n  return (value) => {\n    if (input[0] === input[1] || output[0] === output[1]) return output[0];\n    const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n    return output[0] + ratio * (value - input[0]);\n  };\n}\nfunction getDecimalCount(value) {\n  return (String(value).split(\".\")[1] || \"\").length;\n}\nfunction roundValue(value, decimalCount) {\n  const rounder = Math.pow(10, decimalCount);\n  return Math.round(value * rounder) / rounder;\n}\nvar Root = Slider;\nvar Track = SliderTrack;\nvar Range = SliderRange;\nvar Thumb = SliderThumb;\nexport {\n  Range,\n  Root,\n  Slider,\n  SliderRange,\n  SliderThumb,\n  SliderTrack,\n  Thumb,\n  Track,\n  createSliderScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport {\r\n  User,\r\n  Calendar,\r\n  FileText,\r\n  Settings,\r\n  LogOut,\r\n  Phone,\r\n  Mail,\r\n  MapPin,\r\n  Clock,\r\n  CheckCircle,\r\n  XCircle,\r\n} from \"lucide-react\";\r\nimport { Button } from \"../common/SMButton/SMButton\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"../common/SMTabs/tabs\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"../common/SMCard/card\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"../common/SMDialog/SMDialog\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSession, signOut } from \"next-auth/react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface UserData {\r\n  id: number;\r\n  login: string;\r\n  email: string;\r\n  name: string;\r\n  phone: string;\r\n  registration_date: string;\r\n}\r\n\r\nexport function SMAccountPage() {\r\n  const { data: session, status } = useSession();\r\n  const router = useRouter();\r\n  const [user, setUser] = useState<UserData | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [showLogoutDialog, setShowLogoutDialog] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (status === \"unauthenticated\") {\r\n      router.push(\"/\");\r\n      return;\r\n    }\r\n\r\n    if (status === \"authenticated\" && session) {\r\n      fetchUserData();\r\n    }\r\n  }, [status, session, router]);\r\n\r\n  const fetchUserData = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/auth/me\");\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setUser(data.user);\r\n      } else {\r\n        console.error(\"Failed to fetch user data\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching user data:\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString(\"ru-RU\", {\r\n      day: \"2-digit\",\r\n      month: \"2-digit\",\r\n      year: \"numeric\",\r\n    });\r\n  };\r\n\r\n  const handleLogoutClick = () => {\r\n    setShowLogoutDialog(true);\r\n  };\r\n\r\n  const handleLogoutConfirm = async () => {\r\n    setShowLogoutDialog(false);\r\n    await signOut({ \r\n      callbackUrl: \"/\",\r\n      redirect: true \r\n    });\r\n  };\r\n\r\n  const appointments = [\r\n    {\r\n      id: 1,\r\n      doctor: \"Петрова Анна Сергеевна\",\r\n      specialty: \"Терапевт\",\r\n      date: \"2025-11-05\",\r\n      time: \"10:00\",\r\n      status: \"confirmed\",\r\n    },\r\n    {\r\n      id: 2,\r\n      doctor: \"Сидоров Петр Иванович\",\r\n      specialty: \"Кардиолог\",\r\n      date: \"2025-10-25\",\r\n      time: \"14:30\",\r\n      status: \"completed\",\r\n    },\r\n  ];\r\n\r\n  const documents = [\r\n    {\r\n      id: 1,\r\n      name: \"Результаты анализа крови\",\r\n      date: \"2025-10-20\",\r\n      type: \"Анализ\",\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Заключение терапевта\",\r\n      date: \"2025-10-15\",\r\n      type: \"Заключение\",\r\n    },\r\n  ];\r\n\r\n  if (isLoading || !user) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8 lg:py-12 max-w-7xl\">\r\n        <div className=\"flex items-center justify-center min-h-[400px]\">\r\n          <div className=\"text-center\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#18A36C] mx-auto mb-4\"></div>\r\n            <p className=\"text-gray-600\">Загрузка данных...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8 lg:py-12 max-w-7xl\">\r\n      <motion.div\r\n        className=\"bg-[#18A36C] rounded-lg p-8 lg:p-12 mb-10 lg:mb-12 text-center\"\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.6 }}\r\n      >\r\n        <div className=\"w-20 h-20 bg-white/20 rounded-lg flex items-center justify-center mx-auto mb-6\">\r\n          <User className=\"w-10 h-10 text-white\" />\r\n        </div>\r\n        <h1 className=\"text-3xl lg:text-4xl text-white mb-4\">Личный кабинет</h1>\r\n        <p className=\"text-white/90 leading-relaxed text-base lg:text-lg max-w-3xl mx-auto\">\r\n          Управляйте своими записями, просматривайте документы и историю посещений\r\n        </p>\r\n      </motion.div>\r\n\r\n      <Tabs defaultValue=\"profile\" className=\"space-y-8\">\r\n        <TabsList className=\"grid w-full grid-cols-2 lg:grid-cols-4 h-auto p-2 bg-white rounded-lg gap-2\">\r\n          <TabsTrigger\r\n            value=\"profile\"\r\n            className=\"data-[state=active]:bg-[#18A36C] data-[state=active]:text-white data-[state=active]:border-[#18A36C] data-[state=inactive]:text-[#2E2E2E] data-[state=inactive]:hover:text-[#18A36C] data-[state=inactive]:hover:bg-[#18A36C]/5 data-[state=inactive]:hover:border-[#18A36C] data-[state=inactive]:border-2 data-[state=inactive]:border-gray-300 transition-all duration-300 rounded-lg py-3 px-4\"\r\n          >\r\n            Профиль\r\n            <User className=\"w-5 h-5 ml-[2.5px]\" />\r\n          </TabsTrigger>\r\n          <TabsTrigger\r\n            value=\"appointments\"\r\n            className=\"data-[state=active]:bg-[#18A36C] data-[state=active]:text-white data-[state=active]:border-[#18A36C] data-[state=inactive]:text-[#2E2E2E] data-[state=inactive]:hover:text-[#18A36C] data-[state=inactive]:hover:bg-[#18A36C]/5 data-[state=inactive]:hover:border-[#18A36C] data-[state=inactive]:border-2 data-[state=inactive]:border-gray-300 transition-all duration-300 rounded-lg py-3 px-4\"\r\n          >\r\n            Записи\r\n            <Calendar className=\"w-5 h-5 ml-[2.5px]\" />\r\n          </TabsTrigger>\r\n          <TabsTrigger\r\n            value=\"documents\"\r\n            className=\"data-[state=active]:bg-[#18A36C] data-[state=active]:text-white data-[state=active]:border-[#18A36C] data-[state=inactive]:text-[#2E2E2E] data-[state=inactive]:hover:text-[#18A36C] data-[state=inactive]:hover:bg-[#18A36C]/5 data-[state=inactive]:hover:border-[#18A36C] data-[state=inactive]:border-2 data-[state=inactive]:border-gray-300 transition-all duration-300 rounded-lg py-3 px-4\"\r\n          >\r\n            Документы\r\n            <FileText className=\"w-5 h-5 ml-[2.5px]\" />\r\n          </TabsTrigger>\r\n          <TabsTrigger\r\n            value=\"settings\"\r\n            className=\"data-[state=active]:bg-[#18A36C] data-[state=active]:text-white data-[state=active]:border-[#18A36C] data-[state=inactive]:text-[#2E2E2E] data-[state=inactive]:hover:text-[#18A36C] data-[state=inactive]:hover:bg-[#18A36C]/5 data-[state=inactive]:hover:border-[#18A36C] data-[state=inactive]:border-2 data-[state=inactive]:border-gray-300 transition-all duration-300 rounded-lg py-3 px-4\"\r\n          >\r\n            Настройки\r\n            <Settings className=\"w-5 h-5 ml-[2.5px]\" />\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"profile\" className=\"space-y-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6 }}\r\n          >\r\n            <Card className=\"border border-gray-200 rounded-lg\">\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-3 text-[#2E2E2E] text-2xl\">\r\n                  <User className=\"w-6 h-6 text-[#18A36C]\" />\r\n                  Личная информация\r\n                </CardTitle>\r\n                <CardDescription className=\"text-gray-600 text-base\">\r\n                  Ваши персональные данные\r\n                </CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-6\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center gap-2 text-gray-600\">\r\n                      <User className=\"w-4 h-4 text-[#18A36C]\" />\r\n                      <span className=\"text-sm\">ФИО</span>\r\n                    </div>\r\n                    <p className=\"text-[#2E2E2E] text-lg\">{user.name || \"Не указано\"}</p>\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center gap-2 text-gray-600\">\r\n                      <Calendar className=\"w-4 h-4 text-[#18A36C]\" />\r\n                      <span className=\"text-sm\">Дата регистрации</span>\r\n                    </div>\r\n                    <p className=\"text-[#2E2E2E] text-lg\">\r\n                      {user.registration_date ? formatDate(user.registration_date) : \"Не указано\"}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center gap-2 text-gray-600\">\r\n                      <Phone className=\"w-4 h-4 text-[#18A36C]\" />\r\n                      <span className=\"text-sm\">Телефон</span>\r\n                    </div>\r\n                    <p className=\"text-[#2E2E2E] text-lg\">{user.phone || \"Не указано\"}</p>\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center gap-2 text-gray-600\">\r\n                      <Mail className=\"w-4 h-4 text-[#18A36C]\" />\r\n                      <span className=\"text-sm\">Email</span>\r\n                    </div>\r\n                    <p className=\"text-[#2E2E2E] text-lg\">{user.email || \"Не указано\"}</p>\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center gap-2 text-gray-600\">\r\n                      <User className=\"w-4 h-4 text-[#18A36C]\" />\r\n                      <span className=\"text-sm\">Логин</span>\r\n                    </div>\r\n                    <p className=\"text-[#2E2E2E] text-lg\">{user.login || \"Не указано\"}</p>\r\n                  </div>\r\n                </div>\r\n                <Button className=\"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white\">\r\n                  Редактировать профиль\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          </motion.div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"appointments\" className=\"space-y-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6 }}\r\n            className=\"space-y-6\"\r\n          >\r\n            {appointments.map((appointment) => (\r\n              <Card key={appointment.id} className=\"border border-gray-200 rounded-lg\">\r\n                <CardContent className=\"pt-6\">\r\n                  <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\r\n                    <div className=\"space-y-3\">\r\n                      <h3 className=\"text-xl text-[#2E2E2E] font-medium\">\r\n                        {appointment.doctor}\r\n                      </h3>\r\n                      <p className=\"text-gray-600\">{appointment.specialty}</p>\r\n                      <div className=\"flex flex-wrap items-center gap-4 text-sm text-gray-600\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Calendar className=\"w-4 h-4 text-[#18A36C]\" />\r\n                          <span>{appointment.date}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Clock className=\"w-4 h-4 text-[#18A36C]\" />\r\n                          <span>{appointment.time}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-3\">\r\n                      {appointment.status === \"confirmed\" ? (\r\n                        <div className=\"flex items-center gap-2 px-4 py-2 bg-green-50 text-green-700 rounded-lg\">\r\n                          <CheckCircle className=\"w-4 h-4\" />\r\n                          <span>Подтверждено</span>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"flex items-center gap-2 px-4 py-2 bg-gray-50 text-gray-700 rounded-lg\">\r\n                          <CheckCircle className=\"w-4 h-4\" />\r\n                          <span>Завершено</span>\r\n                        </div>\r\n                      )}\r\n                      {appointment.status === \"confirmed\" && (\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          className=\"border-red-500 text-red-500 hover:bg-red-500 hover:text-white\"\r\n                        >\r\n                          <XCircle className=\"w-4 h-4 mr-2\" />\r\n                          Отменить\r\n                        </Button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n            <Button\r\n              onClick={() => router.push('/contacts')}\r\n              className=\"w-full bg-[#18A36C] hover:bg-[#18A36C]/90 text-white\"\r\n            >\r\n              Связаться с нами\r\n            </Button>\r\n          </motion.div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"documents\" className=\"space-y-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6 }}\r\n            className=\"space-y-6\"\r\n          >\r\n            {documents.map((document) => (\r\n              <Card key={document.id} className=\"border border-gray-200 rounded-lg\">\r\n                <CardContent className=\"pt-6\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                      <div className=\"w-12 h-12 bg-[#18A36C]/10 rounded-lg flex items-center justify-center\">\r\n                        <FileText className=\"w-6 h-6 text-[#18A36C]\" />\r\n                      </div>\r\n                      <div>\r\n                        <h3 className=\"text-lg text-[#2E2E2E] font-medium\">\r\n                          {document.name}\r\n                        </h3>\r\n                        <p className=\"text-sm text-gray-600\">\r\n                          {document.type} • {document.date}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      className=\"border-[#18A36C] text-[#18A36C] hover:bg-[#18A36C] hover:text-white\"\r\n                    >\r\n                      Скачать\r\n                    </Button>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </motion.div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"settings\" className=\"space-y-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6 }}\r\n          >\r\n            <Card className=\"border border-gray-200 rounded-lg\">\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-3 text-[#2E2E2E] text-2xl\">\r\n                  <Settings className=\"w-6 h-6 text-[#18A36C]\" />\r\n                  Настройки аккаунта\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-6\">\r\n                <div className=\"space-y-4\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"w-full justify-start border-gray-300 text-[#2E2E2E] hover:border-[#18A36C] hover:text-[#18A36C]\"\r\n                  >\r\n                    Изменить пароль\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"w-full justify-start border-gray-300 text-[#2E2E2E] hover:border-[#18A36C] hover:text-[#18A36C]\"\r\n                  >\r\n                    Настройки уведомлений\r\n                  </Button>\r\n                  <Button\r\n                    onClick={handleLogoutClick}\r\n                    variant=\"outline\"\r\n                    className=\"w-full justify-start border-red-300 text-red-600 hover:bg-red-50 hover:border-red-500\"\r\n                  >\r\n                    <LogOut className=\"w-4 h-4 mr-2\" />\r\n                    Выйти из аккаунта\r\n                  </Button>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </motion.div>\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      <Dialog open={showLogoutDialog} onOpenChange={setShowLogoutDialog}>\r\n        <DialogContent className=\"sm:max-w-md border-0\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-xl text-[#2E2E2E]\">\r\n              Подтверждение выхода\r\n            </DialogTitle>\r\n            <DialogDescription className=\"text-gray-600 pt-2\">\r\n              Вы уверены, что хотите выйти из аккаунта?\r\n              <br />\r\n              Вам потребуется войти снова для доступа к личному кабинету.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <DialogFooter className=\"flex flex-col sm:flex-row gap-3 sm:gap-2 pt-4\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setShowLogoutDialog(false)}\r\n              className=\"w-full sm:w-auto border-gray-300 text-[#2E2E2E] hover:bg-gray-50\"\r\n            >\r\n              Отмена\r\n            </Button>\r\n            <Button\r\n              onClick={handleLogoutConfirm}\r\n              className=\"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white\"\r\n            >\r\n              <LogOut className=\"w-4 h-4 mr-2\" />\r\n              Выйти\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport * as React from 'react';\r\nimport * as SliderPrimitive from '@radix-ui/react-slider';\r\n\r\nimport { cn } from '../SMUtils/SMUtils';\r\n\r\nconst Slider = React.forwardRef<\r\n  React.ElementRef<typeof SliderPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <SliderPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      'relative flex w-full touch-none select-none items-center',\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-200\">\r\n      <SliderPrimitive.Range className=\"absolute h-full bg-[#18A36C]\" />\r\n    </SliderPrimitive.Track>\r\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-[#18A36C] bg-white ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#18A36C] focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-grab active:cursor-grabbing\" />\r\n  </SliderPrimitive.Root>\r\n));\r\nSlider.displayName = SliderPrimitive.Root.displayName;\r\n\r\nexport { Slider };\r\n","'use client';\r\n\r\nimport { useState, useRef, useCallback, useEffect } from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '../common/SMDialog/SMDialog';\r\nimport { Button } from '../common/SMButton/SMButton';\r\nimport { Slider } from '../common/SMSlider/SMSlider';\r\nimport { ZoomIn, ZoomOut, RotateCw, Upload } from 'lucide-react';\r\n\r\ninterface AvatarCropModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSave: (croppedImageBlob: Blob) => void;\r\n  imageFile: File | null;\r\n}\r\n\r\nexport function AvatarCropModal({ isOpen, onClose, onSave, imageFile }: AvatarCropModalProps) {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const imageRef = useRef<HTMLImageElement | null>(null);\r\n  const [imageUrl, setImageUrl] = useState<string | null>(null);\r\n  const [scale, setScale] = useState(1);\r\n  const [rotation, setRotation] = useState(0);\r\n  const [position, setPosition] = useState({ x: 0, y: 0 });\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Размер области обрезки\r\n  const cropSize = 200;\r\n  const canvasSize = 300;\r\n\r\n  useEffect(() => {\r\n    if (imageFile) {\r\n      const url = URL.createObjectURL(imageFile);\r\n      setImageUrl(url);\r\n      setScale(1);\r\n      setRotation(0);\r\n      setPosition({ x: 0, y: 0 });\r\n\r\n      // Загружаем изображение\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        imageRef.current = img;\r\n        drawImage();\r\n      };\r\n      img.src = url;\r\n\r\n      return () => URL.revokeObjectURL(url);\r\n    }\r\n  }, [imageFile]);\r\n\r\n  useEffect(() => {\r\n    if (imageRef.current) {\r\n      drawImage();\r\n    }\r\n  }, [scale, rotation, position]);\r\n\r\n  const drawImage = useCallback(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas?.getContext('2d');\r\n    const img = imageRef.current;\r\n\r\n    if (!canvas || !ctx || !img) return;\r\n\r\n    // Очищаем canvas белым фоном\r\n    ctx.fillStyle = '#f3f4f6';\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n    // Сохраняем состояние контекста\r\n    ctx.save();\r\n\r\n    // Создаем круглую маску для отображения\r\n    ctx.beginPath();\r\n    ctx.arc(canvas.width / 2, canvas.height / 2, cropSize / 2, 0, Math.PI * 2);\r\n    ctx.clip();\r\n\r\n    // Перемещаем центр canvas\r\n    ctx.translate(canvas.width / 2 + position.x, canvas.height / 2 + position.y);\r\n\r\n    // Вращаем\r\n    ctx.rotate((rotation * Math.PI) / 180);\r\n\r\n    // Масштабируем\r\n    ctx.scale(scale, scale);\r\n\r\n    // Рисуем изображение по центру\r\n    const aspectRatio = img.width / img.height;\r\n    let drawWidth, drawHeight;\r\n\r\n    if (aspectRatio > 1) {\r\n      drawHeight = cropSize;\r\n      drawWidth = cropSize * aspectRatio;\r\n    } else {\r\n      drawWidth = cropSize;\r\n      drawHeight = cropSize / aspectRatio;\r\n    }\r\n\r\n    ctx.drawImage(img, -drawWidth / 2, -drawHeight / 2, drawWidth, drawHeight);\r\n\r\n    // Восстанавливаем состояние контекста\r\n    ctx.restore();\r\n\r\n    // Рисуем границу круга\r\n    ctx.strokeStyle = '#18A36C';\r\n    ctx.lineWidth = 3;\r\n    ctx.beginPath();\r\n    ctx.arc(canvas.width / 2, canvas.height / 2, cropSize / 2, 0, Math.PI * 2);\r\n    ctx.stroke();\r\n\r\n    // Рисуем внешнюю границу для визуального эффекта\r\n    ctx.strokeStyle = '#e5e7eb';\r\n    ctx.lineWidth = 1;\r\n    ctx.beginPath();\r\n    ctx.arc(canvas.width / 2, canvas.height / 2, cropSize / 2 + 4, 0, Math.PI * 2);\r\n    ctx.stroke();\r\n  }, [scale, rotation, position, cropSize]);\r\n\r\n  const handleMouseDown = (e: React.MouseEvent<HTMLCanvasElement>) => {\r\n    setIsDragging(true);\r\n    setDragStart({ x: e.clientX - position.x, y: e.clientY - position.y });\r\n  };\r\n\r\n  const handleMouseMove = (e: React.MouseEvent<HTMLCanvasElement>) => {\r\n    if (!isDragging) return;\r\n    setPosition({\r\n      x: e.clientX - dragStart.x,\r\n      y: e.clientY - dragStart.y,\r\n    });\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setIsDragging(false);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    const canvas = canvasRef.current;\r\n    const img = imageRef.current;\r\n\r\n    if (!canvas || !img) return;\r\n\r\n    setIsLoading(true);\r\n\r\n    // Создаем временный canvas для обрезанного изображения\r\n    const outputCanvas = document.createElement('canvas');\r\n    outputCanvas.width = cropSize;\r\n    outputCanvas.height = cropSize;\r\n    const outputCtx = outputCanvas.getContext('2d');\r\n\r\n    if (!outputCtx) {\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Рисуем круглую область\r\n    outputCtx.beginPath();\r\n    outputCtx.arc(cropSize / 2, cropSize / 2, cropSize / 2, 0, Math.PI * 2);\r\n    outputCtx.closePath();\r\n    outputCtx.clip();\r\n\r\n    // Перемещаем и трансформируем изображение\r\n    outputCtx.translate(cropSize / 2 + position.x, cropSize / 2 + position.y);\r\n    outputCtx.rotate((rotation * Math.PI) / 180);\r\n    outputCtx.scale(scale, scale);\r\n\r\n    // Рисуем изображение\r\n    const aspectRatio = img.width / img.height;\r\n    let drawWidth, drawHeight;\r\n\r\n    if (aspectRatio > 1) {\r\n      drawHeight = cropSize;\r\n      drawWidth = cropSize * aspectRatio;\r\n    } else {\r\n      drawWidth = cropSize;\r\n      drawHeight = cropSize / aspectRatio;\r\n    }\r\n\r\n    outputCtx.drawImage(img, -drawWidth / 2, -drawHeight / 2, drawWidth, drawHeight);\r\n\r\n    // Конвертируем в blob\r\n    outputCanvas.toBlob(\r\n      (blob) => {\r\n        if (blob) {\r\n          onSave(blob);\r\n        }\r\n        setIsLoading(false);\r\n      },\r\n      'image/png',\r\n      1\r\n    );\r\n  };\r\n\r\n  const handleRotate = () => {\r\n    setRotation((prev) => (prev + 90) % 360);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"sm:max-w-lg\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"text-xl text-[#2E2E2E]\">\r\n            Настройка аватара\r\n          </DialogTitle>\r\n          <DialogDescription className=\"text-gray-600\">\r\n            Перетащите изображение для позиционирования и используйте ползунок для масштабирования\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"flex flex-col items-center gap-4 py-4\">\r\n          {imageUrl && (\r\n            <>\r\n              <canvas\r\n                ref={canvasRef}\r\n                width={300}\r\n                height={300}\r\n                className=\"border border-gray-200 rounded-lg cursor-move bg-gray-100\"\r\n                onMouseDown={handleMouseDown}\r\n                onMouseMove={handleMouseMove}\r\n                onMouseUp={handleMouseUp}\r\n                onMouseLeave={handleMouseUp}\r\n              />\r\n\r\n              <div className=\"w-full space-y-4\">\r\n                <div className=\"flex items-center gap-4\">\r\n                  <ZoomOut className=\"w-4 h-4 text-gray-500\" />\r\n                  <Slider\r\n                    value={[scale]}\r\n                    min={0.5}\r\n                    max={3}\r\n                    step={0.1}\r\n                    onValueChange={(value) => setScale(value[0])}\r\n                    className=\"flex-1\"\r\n                  />\r\n                  <ZoomIn className=\"w-4 h-4 text-gray-500\" />\r\n                </div>\r\n\r\n                <div className=\"flex justify-center\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={handleRotate}\r\n                    className=\"border-gray-300\"\r\n                  >\r\n                    <RotateCw className=\"w-4 h-4 mr-2\" />\r\n                    Повернуть\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <DialogFooter className=\"flex flex-col sm:flex-row gap-3 sm:gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={onClose}\r\n            className=\"w-full sm:w-auto border-gray-300\"\r\n          >\r\n            Отмена\r\n          </Button>\r\n          <Button\r\n            onClick={handleSave}\r\n            disabled={isLoading || !imageUrl}\r\n            className=\"w-full sm:w-auto bg-[#18A36C] hover:bg-[#18A36C]/90 text-white\"\r\n          >\r\n            {isLoading ? (\r\n              <>\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2\" />\r\n                Сохранение...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Upload className=\"w-4 h-4 mr-2\" />\r\n                Сохранить\r\n              </>\r\n            )}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '../common/SMDialog/SMDialog';\r\nimport { Button } from '../common/SMButton/SMButton';\r\nimport { Input } from '../common/SMInput/SMInput';\r\nimport { Label } from '../common/SMLabel/SMLabel';\r\nimport {\r\n  User,\r\n  Mail,\r\n  Phone,\r\n  AtSign,\r\n  Camera,\r\n  Trash2,\r\n  Save,\r\n  Loader2,\r\n  Lock\r\n} from 'lucide-react';\r\nimport { useAlert } from '../common/SMAlert/AlertProvider';\r\nimport { AvatarCropModal } from './SMAvatarCropModal';\r\nimport { ChangePasswordModal } from './SMChangePasswordModal';\r\n\r\ninterface UserData {\r\n  id: number;\r\n  login: string;\r\n  email: string;\r\n  name: string;\r\n  phone: string;\r\n  registration_date: string;\r\n  avatar_url?: string | null;\r\n}\r\n\r\ninterface EditProfileModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  user: UserData | null;\r\n  onProfileUpdate: (updatedUser: UserData) => void;\r\n}\r\n\r\nexport function EditProfileModal({ isOpen, onClose, user, onProfileUpdate }: EditProfileModalProps) {\r\n  const alert = useAlert();\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    login: '',\r\n  });\r\n  const [avatarUrl, setAvatarUrl] = useState<string | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isUploadingAvatar, setIsUploadingAvatar] = useState(false);\r\n  const [showCropModal, setShowCropModal] = useState(false);\r\n  const [showChangePasswordModal, setShowChangePasswordModal] = useState(false);\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (user && isOpen) {\r\n      setFormData({\r\n        name: user.name || '',\r\n        email: user.email || '',\r\n        phone: user.phone || '',\r\n        login: user.login || '',\r\n      });\r\n      setAvatarUrl(user.avatar_url || null);\r\n    }\r\n  }, [user, isOpen]);\r\n\r\n  const handleInputChange = (field: string, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const formatPhoneNumber = (value: string) => {\r\n    // Убираем все символы кроме цифр\r\n    const numbers = value.replace(/\\D/g, '');\r\n\r\n    // Форматируем для белорусского номера\r\n    if (numbers.startsWith('375')) {\r\n      const rest = numbers.slice(3);\r\n      if (rest.length <= 2) return `+375 (${rest}`;\r\n      if (rest.length <= 5) return `+375 (${rest.slice(0, 2)}) ${rest.slice(2)}`;\r\n      if (rest.length <= 7) return `+375 (${rest.slice(0, 2)}) ${rest.slice(2, 5)}-${rest.slice(5)}`;\r\n      return `+375 (${rest.slice(0, 2)}) ${rest.slice(2, 5)}-${rest.slice(5, 7)}-${rest.slice(7, 9)}`;\r\n    }\r\n\r\n    return value;\r\n  };\r\n\r\n  const handlePhoneChange = (value: string) => {\r\n    const formatted = formatPhoneNumber(value);\r\n    setFormData(prev => ({ ...prev, phone: formatted }));\r\n  };\r\n\r\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      // Проверяем тип файла\r\n      const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\r\n      if (!allowedTypes.includes(file.type)) {\r\n        alert.error('Недопустимый формат файла. Разрешены: JPEG, PNG, GIF, WebP', 'Ошибка');\r\n        return;\r\n      }\r\n\r\n      // Проверяем размер файла (5MB)\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        alert.error('Размер файла не должен превышать 5MB', 'Ошибка');\r\n        return;\r\n      }\r\n\r\n      setSelectedFile(file);\r\n      setShowCropModal(true);\r\n    }\r\n    // Сбрасываем input\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const handleAvatarSave = async (croppedBlob: Blob) => {\r\n    setShowCropModal(false);\r\n    setIsUploadingAvatar(true);\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('avatar', croppedBlob, 'avatar.png');\r\n\r\n      const response = await fetch('/api/auth/avatar', {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        setAvatarUrl(data.avatar_url);\r\n        alert.success('Аватар успешно загружен', 'Успех');\r\n      } else {\r\n        alert.error(data.error || 'Ошибка при загрузке аватара', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      alert.error('Произошла ошибка при загрузке аватара', 'Ошибка');\r\n    } finally {\r\n      setIsUploadingAvatar(false);\r\n      setSelectedFile(null);\r\n    }\r\n  };\r\n\r\n  const handleAvatarDelete = async () => {\r\n    setIsUploadingAvatar(true);\r\n\r\n    try {\r\n      const response = await fetch('/api/auth/avatar', {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (response.ok) {\r\n        setAvatarUrl(null);\r\n        alert.success('Аватар успешно удален', 'Успех');\r\n      } else {\r\n        const data = await response.json();\r\n        alert.error(data.error || 'Ошибка при удалении аватара', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      alert.error('Произошла ошибка при удалении аватара', 'Ошибка');\r\n    } finally {\r\n      setIsUploadingAvatar(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await fetch('/api/auth/profile', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        alert.success('Профиль успешно обновлен', 'Успех');\r\n        onProfileUpdate(data.user);\r\n        onClose();\r\n      } else {\r\n        alert.error(data.error || 'Ошибка при обновлении профиля', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      alert.error('Произошла ошибка при обновлении профиля', 'Ошибка');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Получаем инициалы пользователя (первая буква имени + первая буква фамилии)\r\n  // Формат: \"Фамилия Имя Отчество\" -> parts[0]=Фамилия, parts[1]=Имя\r\n  const getInitials = () => {\r\n    if (!formData.name) return 'U';\r\n    const parts = formData.name.trim().split(' ').filter(p => p.length > 0);\r\n    if (parts.length >= 2) {\r\n      // Имя (parts[1]) + Фамилия (parts[0])\r\n      return `${parts[1][0]}${parts[0][0]}`.toUpperCase();\r\n    }\r\n    return parts[0]?.[0]?.toUpperCase() || 'U';\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={isOpen} onOpenChange={onClose}>\r\n        <DialogContent className=\"sm:max-w-lg max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-xl text-[#2E2E2E]\">\r\n              Редактирование профиля\r\n            </DialogTitle>\r\n            <DialogDescription className=\"text-gray-600\">\r\n              Измените данные вашего профиля\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-6 py-4\">\r\n            {/* Avatar Section */}\r\n            <div className=\"flex flex-col items-center gap-4\">\r\n              <div className=\"relative\">\r\n                <div className=\"w-24 h-24 aspect-square rounded-full bg-[#18A36C] flex items-center justify-center overflow-hidden border-4 border-gray-100 shadow-lg flex-shrink-0\">\r\n                  {avatarUrl ? (\r\n                    <img\r\n                      src={avatarUrl}\r\n                      alt=\"Avatar\"\r\n                      className=\"w-full h-full object-cover rounded-full\"\r\n                    />\r\n                  ) : (\r\n                    <span className=\"text-3xl text-white font-medium\">\r\n                      {getInitials()}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                {isUploadingAvatar && (\r\n                  <div className=\"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center\">\r\n                    <Loader2 className=\"w-6 h-6 text-white animate-spin\" />\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"flex gap-2\">\r\n                <input\r\n                  ref={fileInputRef}\r\n                  type=\"file\"\r\n                  accept=\"image/jpeg,image/png,image/gif,image/webp\"\r\n                  className=\"hidden\"\r\n                  onChange={handleFileSelect}\r\n                />\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  disabled={isUploadingAvatar}\r\n                  className=\"border-[#18A36C] text-[#18A36C] hover:bg-[#18A36C] hover:text-white\"\r\n                >\r\n                  <Camera className=\"w-4 h-4 mr-2\" />\r\n                  Загрузить фото\r\n                </Button>\r\n                {avatarUrl && (\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={handleAvatarDelete}\r\n                    disabled={isUploadingAvatar}\r\n                    className=\"border-red-300 text-red-600 hover:bg-red-50\"\r\n                  >\r\n                    <Trash2 className=\"w-4 h-4\" />\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Form Fields */}\r\n            <div className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"name\" className=\"text-gray-700 flex items-center gap-2\">\r\n                  <User className=\"w-4 h-4 text-[#18A36C]\" />\r\n                  ФИО\r\n                </Label>\r\n                <Input\r\n                  id=\"name\"\r\n                  value={formData.name}\r\n                  onChange={(e) => handleInputChange('name', e.target.value)}\r\n                  placeholder=\"Иванов Иван Иванович\"\r\n                  className=\"border-gray-300\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"login\" className=\"text-gray-700 flex items-center gap-2\">\r\n                  <AtSign className=\"w-4 h-4 text-[#18A36C]\" />\r\n                  Логин\r\n                </Label>\r\n                <Input\r\n                  id=\"login\"\r\n                  value={formData.login}\r\n                  onChange={(e) => handleInputChange('login', e.target.value)}\r\n                  placeholder=\"Ваш логин\"\r\n                  className=\"border-gray-300\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"email\" className=\"text-gray-700 flex items-center gap-2\">\r\n                  <Mail className=\"w-4 h-4 text-gray-400\" />\r\n                  Email\r\n                  <span className=\"text-xs text-gray-400\">(нельзя изменить)</span>\r\n                </Label>\r\n                <Input\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  value={formData.email}\r\n                  disabled\r\n                  className=\"border-gray-200 bg-gray-50 text-gray-500 cursor-not-allowed\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"phone\" className=\"text-gray-700 flex items-center gap-2\">\r\n                  <Phone className=\"w-4 h-4 text-gray-400\" />\r\n                  Телефон\r\n                  <span className=\"text-xs text-gray-400\">(нельзя изменить)</span>\r\n                </Label>\r\n                <Input\r\n                  id=\"phone\"\r\n                  type=\"tel\"\r\n                  value={formData.phone}\r\n                  disabled\r\n                  className=\"border-gray-200 bg-gray-50 text-gray-500 cursor-not-allowed\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Change Password Button */}\r\n            <div className=\"pt-2 border-t border-gray-200\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={() => setShowChangePasswordModal(true)}\r\n                className=\"w-full border-gray-300 text-gray-700 hover:bg-gray-50\"\r\n              >\r\n                <Lock className=\"w-4 h-4 mr-2\" />\r\n                Сменить пароль\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter className=\"flex flex-col sm:flex-row gap-3 sm:gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={onClose}\r\n              className=\"w-full sm:w-auto border-gray-300\"\r\n            >\r\n              Отмена\r\n            </Button>\r\n            <Button\r\n              onClick={handleSubmit}\r\n              disabled={isLoading}\r\n              className=\"w-full sm:w-auto bg-[#18A36C] hover:bg-[#18A36C]/90 text-white\"\r\n            >\r\n              {isLoading ? (\r\n                <>\r\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                  Сохранение...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Save className=\"w-4 h-4 mr-2\" />\r\n                  Сохранить\r\n                </>\r\n              )}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Avatar Crop Modal */}\r\n      <AvatarCropModal\r\n        isOpen={showCropModal}\r\n        onClose={() => {\r\n          setShowCropModal(false);\r\n          setSelectedFile(null);\r\n        }}\r\n        onSave={handleAvatarSave}\r\n        imageFile={selectedFile}\r\n      />\r\n\r\n      {/* Change Password Modal */}\r\n      <ChangePasswordModal\r\n        isOpen={showChangePasswordModal}\r\n        onClose={() => setShowChangePasswordModal(false)}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\nimport { CalendarDays, Sparkles, X } from 'lucide-react';\r\nimport { ImageWithFallback } from '../SMImage/ImageWithFallback';\r\n\r\ninterface Material {\r\n  id: string;\r\n  title: string;\r\n  content: string;\r\n  detailed_content?: string | null;\r\n  image: string;\r\n  date: string;\r\n  dateRaw?: string;\r\n  year: number;\r\n}\r\n\r\ninterface MaterialDetailModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  material: Material | null;\r\n}\r\n\r\n// Функция для проверки, является ли материал новым (менее месяца)\r\nexport function isNewMaterial(dateRaw?: string): boolean {\r\n  if (!dateRaw) return false;\r\n\r\n  const materialDate = new Date(dateRaw);\r\n  const oneMonthAgo = new Date();\r\n  oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);\r\n\r\n  return materialDate > oneMonthAgo;\r\n}\r\n\r\nexport function MaterialDetailModal({ isOpen, onClose, material }: MaterialDetailModalProps) {\r\n  if (!material) return null;\r\n\r\n  const isNew = isNewMaterial(material.dateRaw);\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n          {/* Backdrop */}\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={onClose}\r\n            className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\r\n          />\r\n\r\n          {/* Modal */}\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            transition={{ duration: 0.2, ease: 'easeOut' }}\r\n            className=\"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-white rounded-2xl shadow-2xl\"\r\n          >\r\n            {/* Close Button */}\r\n            <button\r\n              onClick={onClose}\r\n              className=\"absolute top-6 right-6 w-12 h-12 flex items-center justify-center rounded-xl bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800 transition-all duration-200 hover:scale-110 z-10\"\r\n            >\r\n              <X className=\"w-6 h-6\" />\r\n            </button>\r\n\r\n            {/* Header with Gradient */}\r\n            <div className=\"bg-gradient-to-r from-[#18A36C]/5 via-[#18A36C]/10 to-[#18A36C]/5 p-8 border-b border-gray-100\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"flex-1\">\r\n                  <h2 className=\"text-2xl font-bold text-[#2E2E2E] mb-2\">\r\n                    {material.title}\r\n                  </h2>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className=\"text-gray-600\">Специальное предложение</span>\r\n                    {isNew && (\r\n                      <span className=\"inline-flex items-center gap-1 px-2.5 py-1 bg-gradient-to-r from-[#18A36C] to-[#15905f] text-white text-xs font-medium rounded-full\">\r\n                        <Sparkles className=\"w-3 h-3\" />\r\n                        Новое\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"p-8 space-y-6\">\r\n              {/* Image */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.1 }}\r\n                className=\"relative h-64 rounded-xl overflow-hidden shadow-md\"\r\n              >\r\n                <ImageWithFallback\r\n                  src={material.image}\r\n                  alt={material.title}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              </motion.div>\r\n\r\n              {/* Description */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.15 }}\r\n              >\r\n                <h3 className=\"text-lg font-semibold text-[#2E2E2E] mb-3 flex items-center gap-2\">\r\n                  <span className=\"w-1 h-6 bg-gradient-to-b from-[#18A36C] to-[#15905f] rounded-full\" />\r\n                  О материале\r\n                </h3>\r\n                <p className=\"text-gray-700 leading-relaxed\">\r\n                  {material.content}\r\n                </p>\r\n              </motion.div>\r\n\r\n              {/* Detailed description */}\r\n              {material.detailed_content && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: 10 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ delay: 0.2 }}\r\n                  className=\"bg-gradient-to-br from-gray-50 to-white p-6 rounded-xl border border-gray-100\"\r\n                >\r\n                  <h3 className=\"text-lg font-semibold text-[#2E2E2E] mb-3 flex items-center gap-2\">\r\n                    <span className=\"w-1 h-6 bg-gradient-to-b from-[#18A36C] to-[#15905f] rounded-full\" />\r\n                    Подробная информация\r\n                  </h3>\r\n                  <p className=\"text-gray-700 leading-relaxed whitespace-pre-wrap\">\r\n                    {material.detailed_content}\r\n                  </p>\r\n                </motion.div>\r\n              )}\r\n\r\n              {/* Additional Info */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.25 }}\r\n              >\r\n                <h3 className=\"text-lg font-semibold text-[#2E2E2E] mb-3 flex items-center gap-2\">\r\n                  <span className=\"w-1 h-6 bg-gradient-to-b from-[#18A36C] to-[#15905f] rounded-full\" />\r\n                  Дополнительно\r\n                </h3>\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex items-center gap-3 text-gray-700 bg-gradient-to-br from-[#18A36C]/5 to-transparent p-4 rounded-xl border border-[#18A36C]/10\">\r\n                    <div className=\"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-xl flex items-center justify-center shadow-md\">\r\n                      <CalendarDays className=\"w-6 h-6 text-white\" />\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"text-sm text-gray-600\">Дата публикации</div>\r\n                      <div className=\"font-semibold text-[#2E2E2E]\">{material.date}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"../common/SMCard/SMCard\";\r\nimport { Button } from \"../common/SMButton/SMButton\";\r\nimport { Input } from \"../common/SMInput/SMInput\";\r\nimport { Label } from \"../common/SMLabel/SMLabel\";\r\nimport { Checkbox } from \"../common/SMCheckBox/SMCheckBox\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"../common/SMSelect/SMSelect\";\r\nimport { Textarea } from \"../common/SMTextarea/SMTextarea\";\r\nimport { Badge } from \"../common/SMBadge/SMBadge\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"../common/SMDialog/SMDialog\";\r\nimport {\r\n  CalendarDays,\r\n  Mail,\r\n  Settings2,\r\n  FileText,\r\n  MessageSquare,\r\n  CheckCircle,\r\n  ChevronRight,\r\n  LogOut,\r\n  User,\r\n  Phone,\r\n  Lock,\r\n  AtSign,\r\n  Edit3,\r\n  Eye,\r\n  Shield,\r\n  Send,\r\n  Clock,\r\n  Loader2,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  Ban,\r\n} from \"lucide-react\";\r\nimport {\r\n  accountData,\r\n  subscriptionCategories,\r\n} from \"@/data/SMAccountData/SMAccountData\";\r\nimport { ImageWithFallback } from \"../SMImage/ImageWithFallback\";\r\nimport { useRouter } from \"../SMRouter/SMRouter\";\r\nimport { useSession, signOut } from \"next-auth/react\";\r\nimport { ChangePasswordModal } from \"./SMChangePasswordModal\";\r\nimport { EditProfileModal } from \"./SMEditProfileModal\";\r\nimport { MaterialDetailModal, isNewMaterial } from \"./SMMaterialDetailModal\";\r\nimport { useAlert } from \"../common/SMAlert/AlertProvider\";\r\nimport { Pagination } from \"../common/SMPagination/SMPagination\";\r\nimport {\r\n  WelcomeDashboardSkeleton,\r\n  MaterialsPageSkeleton,\r\n  ContactSkeleton,\r\n} from \"./SMAccountSkeleton\";\r\nimport { validateLetter } from \"@/utils/validation\";\r\n\r\ninterface UserData {\r\n  id: number;\r\n  login: string;\r\n  email: string;\r\n  name: string;\r\n  phone: string;\r\n  registration_date: string;\r\n  avatar_url?: string | null;\r\n  role?: 'USER' | 'ADMIN';\r\n  is_messages_blocked?: boolean;\r\n}\r\n\r\ninterface Material {\r\n  id: string;\r\n  title: string;\r\n  content: string;\r\n  detailed_content?: string | null;\r\n  image: string;\r\n  date: string;\r\n  dateRaw?: string;\r\n  year: number;\r\n}\r\n\r\ninterface LetterMessage {\r\n  id: number;\r\n  sender_type: 'patient' | 'chief_doctor';\r\n  content: string;\r\n  created_at: string;\r\n  is_read: boolean;\r\n}\r\n\r\ninterface Letter {\r\n  id: number;\r\n  subject: string;\r\n  content: string;\r\n  created_at: string;\r\n  reply: string | null;\r\n  replied_at: string | null;\r\n  is_read: boolean;\r\n  is_reply_read: boolean;\r\n  has_new_patient_message?: boolean;\r\n  messages?: LetterMessage[];\r\n}\r\n\r\nexport function AccountContent() {\r\n  const { navigate, currentRoute } = useRouter();\r\n  const { data: session, status } = useSession();\r\n  const alert = useAlert();\r\n  const [user, setUser] = useState<UserData | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [showLogoutDialog, setShowLogoutDialog] = useState(false);\r\n  const [showChangePasswordModal, setShowChangePasswordModal] = useState(false);\r\n  const [showEditProfileModal, setShowEditProfileModal] = useState(false);\r\n  const [showMaterialDetailModal, setShowMaterialDetailModal] = useState(false);\r\n  const [selectedMaterial, setSelectedMaterial] = useState<Material | null>(null);\r\n  const [materials, setMaterials] = useState<Material[]>([]);\r\n  const [materialsLoading, setMaterialsLoading] = useState(false);\r\n  const pathParts = currentRoute.replace(/^\\/+|\\/+$/g, '').split('/');\r\n\r\n  let sectionFromUrl = '';\r\n  if (pathParts[0] === 'account') {\r\n    sectionFromUrl = pathParts[1] || '';\r\n  }\r\n\r\n  const [activeSection, setActiveSection] = useState<string>(\r\n    sectionFromUrl && ['materials', 'contact'].includes(sectionFromUrl)\r\n      ? sectionFromUrl\r\n      : ''\r\n  );\r\n\r\n  const [subscriptionSettings, setSubscriptionSettings] =\r\n    useState(accountData.subscriptions.settings);\r\n  const [selectedYear, setSelectedYear] =\r\n    useState<string>(\"all\");\r\n  const [materialsPage, setMaterialsPage] = useState(1);\r\n  const [contactForm, setContactForm] = useState(\r\n    accountData.contact.form,\r\n  );\r\n  const [submitStatus, setSubmitStatus] = useState<\r\n    \"idle\" | \"success\" | \"error\"\r\n  >(\"idle\");\r\n\r\n  // Letters state\r\n  const [letters, setLetters] = useState<Letter[]>([]);\r\n  const [lettersLoading, setLettersLoading] = useState(false);\r\n  const [sendingLetter, setSendingLetter] = useState(false);\r\n  const [expandedLetterId, setExpandedLetterId] = useState<number | null>(null);\r\n  const [letterErrors, setLetterErrors] = useState<Record<string, string>>({});\r\n  const [replyMessage, setReplyMessage] = useState('');\r\n  const [sendingReply, setSendingReply] = useState(false);\r\n\r\n  // Validate letter field\r\n  const validateLetterField = (field: 'subject' | 'content', value: string) => {\r\n    const data = {\r\n      subject: field === 'subject' ? value : contactForm.subject,\r\n      content: field === 'content' ? value : contactForm.message,\r\n    };\r\n\r\n    if (field === 'subject') {\r\n      if (!value || value.trim().length < 3) {\r\n        setLetterErrors(prev => ({ ...prev, subject: 'Тема должна содержать минимум 3 символа' }));\r\n        return false;\r\n      } else if (value.length > 200) {\r\n        setLetterErrors(prev => ({ ...prev, subject: 'Тема не должна превышать 200 символов' }));\r\n        return false;\r\n      }\r\n    } else if (field === 'content') {\r\n      if (!value || value.trim().length < 10) {\r\n        setLetterErrors(prev => ({ ...prev, content: 'Сообщение должно содержать минимум 10 символов' }));\r\n        return false;\r\n      } else if (value.length > 5000) {\r\n        setLetterErrors(prev => ({ ...prev, content: 'Сообщение не должно превышать 5000 символов' }));\r\n        return false;\r\n      }\r\n    }\r\n\r\n    setLetterErrors(prev => {\r\n      const newErrors = { ...prev };\r\n      delete newErrors[field];\r\n      return newErrors;\r\n    });\r\n    return true;\r\n  };\r\n\r\n  const MATERIALS_PER_PAGE = 6;\r\n\r\n  // Load letters when contact section is active\r\n  const loadLetters = async () => {\r\n    setLettersLoading(true);\r\n    try {\r\n      const response = await fetch('/api/letters');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setLetters(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading letters:', error);\r\n    } finally {\r\n      setLettersLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (activeSection === 'contact' && session) {\r\n      loadLetters();\r\n    }\r\n  }, [activeSection, session]);\r\n\r\n  // Mark reply as read when letter is expanded\r\n  const markReplyAsRead = async (letterId: number) => {\r\n    try {\r\n      await fetch(`/api/letters/${letterId}`, { method: 'PATCH' });\r\n      setLetters(prev => prev.map(l =>\r\n        l.id === letterId ? { ...l, is_reply_read: true } : l\r\n      ));\r\n\r\n      // Очищаем уведомление из localStorage после прочтения\r\n      const { clearLetterNotification } = await import('@/utils/letterNotifications');\r\n      clearLetterNotification(letterId);\r\n    } catch (error) {\r\n      console.error('Error marking reply as read:', error);\r\n    }\r\n  };\r\n\r\n  // Send reply message in thread\r\n  const sendReplyMessage = async (letterId: number) => {\r\n    if (!replyMessage.trim() || replyMessage.trim().length < 10) {\r\n      alert.error('Сообщение должно содержать минимум 10 символов', 'Ошибка');\r\n      return;\r\n    }\r\n\r\n    setSendingReply(true);\r\n    try {\r\n      const response = await fetch(`/api/letters/${letterId}`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ content: replyMessage }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert.success('Сообщение отправлено', 'Успех');\r\n        setReplyMessage('');\r\n        await loadLetters(); // Reload to get updated messages\r\n      } else {\r\n        const data = await response.json();\r\n        alert.error(data.error || 'Ошибка при отправке сообщения', 'Ошибка');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending reply:', error);\r\n      alert.error('Ошибка при отправке сообщения', 'Ошибка');\r\n    } finally {\r\n      setSendingReply(false);\r\n    }\r\n  };\r\n\r\n  // Обновляем email в настройках подписки, когда загружаются данные пользователя\r\n  useEffect(() => {\r\n    if (user?.email) {\r\n      setSubscriptionSettings(prev => ({\r\n        ...prev,\r\n        email: user.email,\r\n      }));\r\n    }\r\n  }, [user]);\r\n\r\n  // Загружаем материалы из API\r\n  useEffect(() => {\r\n    const fetchMaterials = async () => {\r\n      setMaterialsLoading(true);\r\n      try {\r\n        const params = new URLSearchParams({\r\n          year: selectedYear,\r\n          page: \"1\",\r\n          limit: \"100\",\r\n        });\r\n        const response = await fetch(`/api/materials?${params}`);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setMaterials(data.materials);\r\n        } else {\r\n          alert.error(\"Не удалось загрузить материалы\", \"Ошибка загрузки\");\r\n        }\r\n      } catch (error) {\r\n        alert.error(\"Произошла ошибка при загрузке материалов\", \"Ошибка\");\r\n      } finally {\r\n        setMaterialsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchMaterials();\r\n  }, [selectedYear, alert]);\r\n\r\n  useEffect(() => {\r\n    if (sectionFromUrl && ['materials', 'contact'].includes(sectionFromUrl)) {\r\n      setActiveSection(sectionFromUrl);\r\n    } else {\r\n      setActiveSection('');\r\n    }\r\n  }, [sectionFromUrl]);\r\n\r\n  useEffect(() => {\r\n    if (status === \"authenticated\" && session) {\r\n      fetchUserData();\r\n    } else if (status === \"unauthenticated\") {\r\n      setIsLoading(false);\r\n    }\r\n  }, [status, session]);\r\n\r\n  const fetchUserData = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/auth/me\");\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setUser(data.user);\r\n      }\r\n    } catch (error) {\r\n      // Silently handle error - user data is optional\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Получаем имя пользователя из данных пользователя\r\n  // Формат имени в БД: \"Фамилия Имя Отчество\"\r\n  const getUserName = () => {\r\n    // Если пользователь загружен и есть имя\r\n    if (user?.name && user.name.trim()) {\r\n      const nameParts = user.name.trim().split(\" \").filter(part => part.length > 0);\r\n      // Фамилия Имя Отчество -> lastName firstName middleName\r\n      const lastName = nameParts[0] || \"\";\r\n      const firstName = nameParts[1] || \"\";\r\n      const middleName = nameParts[2] || \"\";\r\n\r\n      return {\r\n        firstName: firstName || lastName, // Если имени нет, используем фамилию\r\n        lastName: lastName,\r\n        middleName: middleName,\r\n        fullName: user.name,\r\n        name: user.name,\r\n        email: user.email || \"\",\r\n        avatarUrl: user.avatar_url || null,\r\n      };\r\n    }\r\n\r\n    // Если пользователь загружен, но имени нет - используем логин или email\r\n    if (user) {\r\n      const displayName = user.login || user.email || \"Пользователь\";\r\n      return {\r\n        firstName: displayName,\r\n        lastName: \"\",\r\n        middleName: \"\",\r\n        fullName: displayName,\r\n        name: displayName,\r\n        email: user.email || \"\",\r\n        avatarUrl: user.avatar_url || null,\r\n      };\r\n    }\r\n\r\n    // Если пользователь еще не загружен - возвращаем пустые значения\r\n    return {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      middleName: \"\",\r\n      fullName: \"\",\r\n      name: \"\",\r\n      email: \"\",\r\n      avatarUrl: null,\r\n    };\r\n  };\r\n\r\n  const displayUser = getUserName();\r\n\r\n  // Получаем инициалы для аватара (первая буква имени + первая буква фамилии)\r\n  const getInitials = () => {\r\n    // В формате \"Фамилия Имя Отчество\": firstName = Имя, lastName = Фамилия\r\n    // Отображаем: первая буква Имени + первая буква Фамилии\r\n    if (displayUser.firstName && displayUser.lastName) {\r\n      return `${displayUser.firstName[0]}${displayUser.lastName[0]}`.toUpperCase();\r\n    }\r\n    if (displayUser.firstName) {\r\n      return displayUser.firstName[0].toUpperCase();\r\n    }\r\n    if (displayUser.lastName) {\r\n      return displayUser.lastName[0].toUpperCase();\r\n    }\r\n    return \"U\";\r\n  };\r\n\r\n  // Обработчик обновления профиля\r\n  const handleProfileUpdate = (updatedUser: UserData) => {\r\n    setUser(updatedUser);\r\n  };\r\n\r\n  // Обработчик открытия деталей материала\r\n  const handleMaterialClick = (material: Material) => {\r\n    setSelectedMaterial(material);\r\n    setShowMaterialDetailModal(true);\r\n  };\r\n\r\n  const handleLogoutClick = () => {\r\n    setShowLogoutDialog(true);\r\n  };\r\n\r\n  const handleLogoutConfirm = async () => {\r\n    setShowLogoutDialog(false);\r\n    await signOut({\r\n      callbackUrl: \"/\",\r\n      redirect: true\r\n    });\r\n  };\r\n\r\n  const handleSubscriptionSubmit = () => {\r\n    console.log(\"Subscription settings:\", subscriptionSettings);\r\n    setSubmitStatus(\"success\");\r\n    setTimeout(() => setSubmitStatus(\"idle\"), 3000);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setSubscriptionSettings(accountData.subscriptions.settings);\r\n  };\r\n\r\n  const handleContactSubmit = async () => {\r\n    setSendingLetter(true);\r\n    try {\r\n      const response = await fetch('/api/letters', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          subject: contactForm.subject,\r\n          content: contactForm.message,\r\n        }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        setSubmitStatus(\"success\");\r\n        setContactForm({ name: \"\", subject: \"\", message: \"\" });\r\n        await loadLetters(); // Reload letters to show the new one\r\n        alert.success('Письмо успешно отправлено главному врачу', 'Отправлено');\r\n        setTimeout(() => setSubmitStatus(\"idle\"), 3000);\r\n      } else {\r\n        const error = await response.json();\r\n        alert.error(error.error || 'Ошибка при отправке письма', 'Ошибка');\r\n        setSubmitStatus(\"error\");\r\n      }\r\n    } catch (error) {\r\n      alert.error('Произошла ошибка при отправке письма', 'Ошибка');\r\n      setSubmitStatus(\"error\");\r\n    } finally {\r\n      setSendingLetter(false);\r\n    }\r\n  };\r\n\r\n  const filteredMaterials = materials;\r\n\r\n  const renderSubscriptions = () => (\r\n    <div className=\"p-3 sm:p-4 lg:p-8 max-w-7xl mx-auto space-y-4 sm:space-y-6\" >\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-4 sm:p-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-[#18A36C] rounded-lg flex items-center justify-center flex-shrink-0\">\r\n            <Settings2 className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\r\n          </div>\r\n          <div>\r\n            <h2 className=\"text-lg sm:text-xl text-gray-800\">\r\n              Настройки подписки\r\n            </h2>\r\n            <p className=\"text-sm sm:text-base text-gray-600\">\r\n              Управляйте вашими подписками и уведомлениями\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Card className=\"border border-gray-200\">\r\n        <CardContent className=\"p-4 sm:p-6 space-y-4 sm:space-y-6\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"email\" className=\"text-gray-700 text-sm sm:text-base\">\r\n              Ваша почта\r\n            </Label>\r\n            <div className=\"relative\">\r\n              <Mail className=\"absolute left-3 top-3 w-5 h-5 text-gray-400\" />\r\n              <Input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                placeholder=\"Введите email\"\r\n                value={subscriptionSettings.email}\r\n                onChange={(e) =>\r\n                  setSubscriptionSettings({\r\n                    ...subscriptionSettings,\r\n                    email: e.target.value,\r\n                  })\r\n                }\r\n                className=\"pl-10 border-gray-300\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-3\">\r\n            <Label className=\"text-gray-700 text-sm sm:text-base\">\r\n              Рубрики подписки\r\n            </Label>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3\">\r\n              {subscriptionCategories.map((category) => (\r\n                <div\r\n                  key={category}\r\n                  className=\"flex items-center space-x-2\"\r\n                >\r\n                  <Checkbox\r\n                    id={category}\r\n                    checked={subscriptionSettings.categories.includes(\r\n                      category,\r\n                    )}\r\n                    onCheckedChange={(checked) => {\r\n                      if (checked) {\r\n                        setSubscriptionSettings({\r\n                          ...subscriptionSettings,\r\n                          categories: [\r\n                            ...subscriptionSettings.categories,\r\n                            category,\r\n                          ],\r\n                        });\r\n                      } else {\r\n                        setSubscriptionSettings({\r\n                          ...subscriptionSettings,\r\n                          categories:\r\n                            subscriptionSettings.categories.filter(\r\n                              (c) => c !== category,\r\n                            ),\r\n                        });\r\n                      }\r\n                    }}\r\n                  />\r\n                  <Label\r\n                    htmlFor={category}\r\n                    className=\"text-sm text-gray-700\"\r\n                  >\r\n                    {category}\r\n                  </Label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label className=\"text-gray-700 text-sm sm:text-base\">\r\n              Предпочтительный формат\r\n            </Label>\r\n            <Select\r\n              value={subscriptionSettings.format}\r\n              onValueChange={(value: \"text\" | \"html\") =>\r\n                setSubscriptionSettings({\r\n                  ...subscriptionSettings,\r\n                  format: value,\r\n                })\r\n              }\r\n            >\r\n              <SelectTrigger className=\"border-gray-300\">\r\n                <SelectValue placeholder=\"Выберите формат\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"text\">Текст</SelectItem>\r\n                <SelectItem value=\"html\">HTML</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div className=\"flex items-center space-x-2\">\r\n            <Checkbox\r\n              id=\"agreement\"\r\n              checked={subscriptionSettings.agreed}\r\n              onCheckedChange={(checked) =>\r\n                setSubscriptionSettings({\r\n                  ...subscriptionSettings,\r\n                  agreed: checked === true,\r\n                })\r\n              }\r\n            />\r\n            <Label\r\n              htmlFor=\"agreement\"\r\n              className=\"text-sm text-gray-700\"\r\n            >\r\n              Я согласен на обработку персональных данных\r\n            </Label>\r\n          </div>\r\n\r\n          <div className=\"flex flex-col sm:flex-row gap-3 sm:gap-4\">\r\n            <Button\r\n              onClick={handleSubscriptionSubmit}\r\n              disabled={!subscriptionSettings.agreed}\r\n              className=\"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white w-full sm:w-auto\"\r\n            >\r\n              Добавить\r\n            </Button>\r\n            <Button\r\n              onClick={handleReset}\r\n              variant=\"outline\"\r\n              className=\"border-gray-300 text-gray-700 hover:bg-gray-50 w-full sm:w-auto\"\r\n            >\r\n              Сброс\r\n            </Button>\r\n          </div>\r\n\r\n          {submitStatus === \"success\" && (\r\n            <div className=\"flex items-center gap-2 text-green-600 bg-green-50 p-3 rounded-lg\">\r\n              <CheckCircle className=\"w-4 h-4\" />\r\n              <span className=\"text-sm\">\r\n                Настройки успешно сохранены!\r\n              </span>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"bg-gray-50 rounded-lg p-3 sm:p-4\">\r\n            <p className=\"text-xs sm:text-sm text-gray-600\">\r\n              После добавления или изменения адреса подписки вам\r\n              будет выслан код подтверждения. Подписка будет не\r\n              активной до ввода кода подтверждения.\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderMaterials = () => (\r\n    <div className=\"p-3 sm:p-4 lg:p-8 max-w-7xl mx-auto space-y-4 sm:space-y-6\">\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-4 sm:p-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-[#18A36C] rounded-lg flex items-center justify-center flex-shrink-0\">\r\n            <FileText className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\r\n          </div>\r\n          <div>\r\n            <h2 className=\"text-lg sm:text-xl text-gray-800\">\r\n              Материалы\r\n            </h2>\r\n            <p className=\"text-sm sm:text-base text-gray-600\">\r\n              Специальные предложения и материалы для\r\n              подписчиков\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex flex-col sm:flex-row gap-2 sm:gap-4 sm:items-center\">\r\n        <Label className=\"text-gray-700 text-sm sm:text-base\">Период:</Label>\r\n        <Select\r\n          value={selectedYear}\r\n          onValueChange={setSelectedYear}\r\n        >\r\n          <SelectTrigger className=\"w-full sm:w-48 border-gray-300\">\r\n            <SelectValue placeholder=\"Выберите период\" />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"all\">За все время</SelectItem>\r\n            <SelectItem value=\"2025\">2025</SelectItem>\r\n            <SelectItem value=\"2024\">2024</SelectItem>\r\n            <SelectItem value=\"2023\">2023</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n\r\n      {materialsLoading ? (\r\n        <div className=\"text-center py-12\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#18A36C] mx-auto\"></div>\r\n          <p className=\"text-gray-600 mt-4\">Загрузка материалов...</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\r\n            {filteredMaterials\r\n              .slice((materialsPage - 1) * MATERIALS_PER_PAGE, materialsPage * MATERIALS_PER_PAGE)\r\n              .map((item) => (\r\n                <Card\r\n                  key={item.id}\r\n                  className=\"group hover:shadow-lg transition-all duration-300 border border-gray-200\"\r\n                >\r\n                  <div className=\"relative overflow-hidden rounded-t-lg\">\r\n                    <ImageWithFallback\r\n                      src={item.image}\r\n                      alt={item.title}\r\n                      className=\"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300\"\r\n                    />\r\n                    <div className=\"absolute top-2 sm:top-4 left-2 sm:left-4 flex flex-wrap gap-1 sm:gap-2\">\r\n                      <Badge className=\"bg-[#18A36C] text-white text-xs\">\r\n                        Специальное предложение\r\n                      </Badge>\r\n                      {isNewMaterial(item.dateRaw) && (\r\n                        <Badge className=\"bg-orange-500 text-white text-xs\">\r\n                          Новое\r\n                        </Badge>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <CardContent className=\"p-4 sm:p-6\">\r\n                    <h3 className=\"text-base sm:text-lg text-gray-800 mb-2 group-hover:text-[#18A36C] transition-colors\">\r\n                      {item.title}\r\n                    </h3>\r\n                    <p className=\"text-xs sm:text-sm text-gray-600 mb-3 sm:mb-4 line-clamp-3\">\r\n                      {item.content}\r\n                    </p>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-gray-500\">\r\n                        <CalendarDays className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                        <span>{item.date}</span>\r\n                      </div>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleMaterialClick(item)}\r\n                        className=\"text-[#18A36C] hover:text-[#18A36C]/80 hover:bg-[#18A36C]/10 text-xs sm:text-sm px-2 sm:px-3\"\r\n                      >\r\n                        <Eye className=\"w-3 h-3 sm:w-4 sm:h-4 mr-1\" />\r\n                        Подробнее\r\n                      </Button>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              ))}\r\n          </div>\r\n\r\n          {/* Pagination for materials */}\r\n          {filteredMaterials.length > MATERIALS_PER_PAGE && (\r\n            <Pagination\r\n              currentPage={materialsPage}\r\n              totalPages={Math.ceil(filteredMaterials.length / MATERIALS_PER_PAGE)}\r\n              onPageChange={setMaterialsPage}\r\n              className=\"mt-8\"\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {!materialsLoading && filteredMaterials.length === 0 && (\r\n        <div className=\"text-center py-8 sm:py-12\">\r\n          <FileText className=\"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 mx-auto mb-3 sm:mb-4\" />\r\n          <h3 className=\"text-base sm:text-lg text-gray-800 mb-2\">\r\n            Материалы не найдены\r\n          </h3>\r\n          <p className=\"text-sm sm:text-base text-gray-600\">\r\n            В выбранном периоде нет доступных материалов\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const renderContact = () => (\r\n    <div className=\"p-3 sm:p-4 lg:p-8 max-w-7xl mx-auto space-y-4 sm:space-y-6\">\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-4 sm:p-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-[#18A36C] rounded-lg flex items-center justify-center flex-shrink-0\">\r\n            <MessageSquare className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\r\n          </div>\r\n          <div>\r\n            <h2 className=\"text-lg sm:text-xl text-gray-800\">\r\n              Написать глав.врачу\r\n            </h2>\r\n            <p className=\"text-sm sm:text-base text-gray-600\">\r\n              Свяжитесь с руководством клиники\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Blocked user warning */}\r\n      {user?.is_messages_blocked && (\r\n        <Card className=\"border border-red-200 bg-red-50\">\r\n          <CardContent className=\"p-4 sm:p-6\">\r\n            <div className=\"flex items-start sm:items-center gap-3\">\r\n              <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0\">\r\n                <Ban className=\"w-5 h-5 sm:w-6 sm:h-6 text-red-600\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-red-800 font-medium text-sm sm:text-base\">Отправка сообщений заблокирована</h3>\r\n                <p className=\"text-red-600 text-xs sm:text-sm\">\r\n                  Вы не можете отправлять письма главному врачу. Если вы считаете, что это ошибка, обратитесь в клинику по телефону.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Send new letter form */}\r\n      {!user?.is_messages_blocked && (\r\n        <Card className=\"border border-gray-200\">\r\n          <CardContent className=\"p-6 space-y-6\">\r\n            <div className=\"bg-gray-50 rounded-lg p-4\">\r\n              <p className=\"text-sm text-gray-600\">\r\n                {accountData.contact.description}\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label\r\n                  htmlFor=\"subject\"\r\n                  className=\"text-gray-700\"\r\n                >\r\n                  Тема письма <span className=\"text-gray-400 text-xs\">(мин. 3 символа)</span>\r\n                </Label>\r\n                <Input\r\n                  id=\"subject\"\r\n                  type=\"text\"\r\n                  placeholder=\"Тема сообщения\"\r\n                  value={contactForm.subject}\r\n                  onChange={(e) =>\r\n                    setContactForm({\r\n                      ...contactForm,\r\n                      subject: e.target.value,\r\n                    })\r\n                  }\r\n                  onBlur={() => validateLetterField('subject', contactForm.subject)}\r\n                  className={`border-gray-300 ${letterErrors.subject ? 'border-red-500' : ''}`}\r\n                />\r\n                {letterErrors.subject && (\r\n                  <p className=\"text-red-500 text-xs\">{letterErrors.subject}</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label\r\n                  htmlFor=\"message\"\r\n                  className=\"text-gray-700\"\r\n                >\r\n                  Сообщение <span className=\"text-gray-400 text-xs\">(мин. 10 символов)</span>\r\n                </Label>\r\n                <Textarea\r\n                  id=\"message\"\r\n                  placeholder=\"Ваше сообщение главному врачу...\"\r\n                  rows={6}\r\n                  value={contactForm.message}\r\n                  onChange={(e) =>\r\n                    setContactForm({\r\n                      ...contactForm,\r\n                      message: e.target.value,\r\n                    })\r\n                  }\r\n                  onBlur={() => validateLetterField('content', contactForm.message)}\r\n                  className={`border-gray-200 focus:border-[#18A36C] focus:ring-[#18A36C] focus:border-1${letterErrors.content ? 'border-red-500' : ''}`}\r\n                />\r\n                {letterErrors.content && (\r\n                  <p className=\"text-red-500 text-xs\">{letterErrors.content}</p>\r\n                )}\r\n                <p className=\"text-xs text-gray-400 text-right\">\r\n                  {contactForm.message.length}/5000\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <Button\r\n              onClick={handleContactSubmit}\r\n              className=\"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white\"\r\n              disabled={\r\n                sendingLetter ||\r\n                !contactForm.subject ||\r\n                !contactForm.message ||\r\n                contactForm.subject.trim().length < 3 ||\r\n                contactForm.message.trim().length < 10 ||\r\n                Object.keys(letterErrors).length > 0\r\n              }\r\n            >\r\n              {sendingLetter ? (\r\n                <>\r\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                  Отправка...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Send className=\"w-4 h-4 mr-2\" />\r\n                  Отправить письмо\r\n                </>\r\n              )}\r\n            </Button>\r\n\r\n            {submitStatus === \"success\" && (\r\n              <div className=\"flex items-center gap-2 text-green-600 bg-green-50 p-3 rounded-lg\">\r\n                <CheckCircle className=\"w-4 h-4\" />\r\n                <span className=\"text-sm\">\r\n                  Письмо успешно отправлено!\r\n                </span>\r\n              </div>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Letters history */}\r\n      <div className=\"space-y-3 sm:space-y-4\">\r\n        <h3 className=\"text-base sm:text-lg text-gray-800 font-medium flex flex-wrap items-center gap-2\">\r\n          <Mail className=\"w-4 h-4 sm:w-5 sm:h-5 text-[#18A36C]\" />\r\n          Мои письма\r\n          {letters.filter(l => l.reply && !l.is_reply_read).length > 0 && (\r\n            <span className=\"px-2 py-0.5 bg-red-500 text-white text-xs rounded-full\">\r\n              {letters.filter(l => l.reply && !l.is_reply_read).length} новых\r\n            </span>\r\n          )}\r\n        </h3>\r\n\r\n        {lettersLoading ? (\r\n          <div className=\"text-center py-6 sm:py-8\">\r\n            <Loader2 className=\"w-6 h-6 sm:w-8 sm:h-8 animate-spin text-[#18A36C] mx-auto\" />\r\n            <p className=\"text-gray-600 mt-2 text-sm sm:text-base\">Загрузка писем...</p>\r\n          </div>\r\n        ) : letters.length === 0 ? (\r\n          <Card className=\"border border-gray-200\">\r\n            <CardContent className=\"p-6 sm:p-8 text-center\">\r\n              <Mail className=\"w-10 h-10 sm:w-12 sm:h-12 text-gray-300 mx-auto mb-3\" />\r\n              <p className=\"text-gray-500 text-sm sm:text-base\">У вас пока нет отправленных писем</p>\r\n            </CardContent>\r\n          </Card>\r\n        ) : (\r\n          <div className=\"space-y-2 sm:space-y-3\">\r\n            {letters.map((letter) => (\r\n              <Card\r\n                key={letter.id}\r\n                className={`border transition-all duration-200 ${letter.reply && !letter.is_reply_read\r\n                  ? 'border-[#18A36C] bg-[#18A36C]/5'\r\n                  : 'border-gray-200'\r\n                  }`}\r\n              >\r\n                <CardContent className=\"p-3 sm:p-4\">\r\n                  {/* Letter header */}\r\n                  <div\r\n                    className=\"flex items-start sm:items-center justify-between cursor-pointer gap-2\"\r\n                    onClick={() => {\r\n                      if (expandedLetterId === letter.id) {\r\n                        setExpandedLetterId(null);\r\n                      } else {\r\n                        setExpandedLetterId(letter.id);\r\n                        if (letter.reply && !letter.is_reply_read) {\r\n                          markReplyAsRead(letter.id);\r\n                        }\r\n                      }\r\n                    }}\r\n                  >\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex flex-wrap items-center gap-1 sm:gap-2 mb-1\">\r\n                        <h4 className=\"font-medium text-gray-800 text-sm sm:text-base truncate max-w-[150px] sm:max-w-none\">\r\n                          {letter.subject}\r\n                        </h4>\r\n                        {letter.reply ? (\r\n                          <Badge className=\"bg-[#18A36C] text-white text-xs\">\r\n                            Ответ\r\n                          </Badge>\r\n                        ) : (\r\n                          <Badge className=\"bg-amber-500 text-white text-xs flex items-center gap-1\">\r\n                            <Clock className=\"w-3 h-3\" />\r\n                            <span className=\"hidden sm:inline\">Ожидает</span>\r\n                          </Badge>\r\n                        )}\r\n                        {letter.reply && !letter.is_reply_read && (\r\n                          <span className=\"w-2 h-2 bg-red-500 rounded-full flex-shrink-0\" />\r\n                        )}\r\n                      </div>\r\n                      <p className=\"text-xs sm:text-sm text-gray-500\">\r\n                        {new Date(letter.created_at).toLocaleDateString('ru-RU', {\r\n                          day: 'numeric',\r\n                          month: 'short',\r\n                          year: 'numeric',\r\n                          hour: '2-digit',\r\n                          minute: '2-digit',\r\n                        })}\r\n                      </p>\r\n                    </div>\r\n                    <Button variant=\"ghost\" size=\"sm\" className=\"p-1 sm:p-2 flex-shrink-0\">\r\n                      {expandedLetterId === letter.id ? (\r\n                        <ChevronUp className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-400\" />\r\n                      ) : (\r\n                        <ChevronDown className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-400\" />\r\n                      )}\r\n                    </Button>\r\n                  </div>\r\n\r\n                  {/* Expanded content */}\r\n                  {expandedLetterId === letter.id && (\r\n                    <div className=\"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-100 space-y-3 sm:space-y-4\">\r\n                      {/* Original message */}\r\n                      <div>\r\n                        <p className=\"text-xs text-gray-500 mb-1 sm:mb-2 font-medium\">Ваше письмо:</p>\r\n                        <div className=\"bg-gray-50 rounded-lg p-2 sm:p-3\">\r\n                          <p className=\"text-xs sm:text-sm text-gray-700 whitespace-pre-wrap\">\r\n                            {letter.content}\r\n                          </p>\r\n                        </div>\r\n                        <p className=\"text-xs text-gray-400 mt-1\">\r\n                          {new Date(letter.created_at).toLocaleDateString('ru-RU', {\r\n                            day: 'numeric',\r\n                            month: 'short',\r\n                            hour: '2-digit',\r\n                            minute: '2-digit',\r\n                          })}\r\n                        </p>\r\n                      </div>\r\n\r\n                      {/* First reply from chief doctor - always show if exists */}\r\n                      {letter.reply && (\r\n                        <div>\r\n                          <p className=\"text-xs text-[#18A36C] mb-1 sm:mb-2 font-medium flex items-center gap-1\">\r\n                            <CheckCircle className=\"w-3 h-3\" />\r\n                            Ответ главного врача\r\n                          </p>\r\n                          <div className=\"bg-[#18A36C]/10 rounded-lg p-2 sm:p-3 border border-[#18A36C]/20\">\r\n                            <p className=\"text-xs sm:text-sm text-gray-700 whitespace-pre-wrap\">\r\n                              {letter.reply}\r\n                            </p>\r\n                          </div>\r\n                          <p className=\"text-xs text-gray-400 mt-1\">\r\n                            {letter.replied_at && new Date(letter.replied_at).toLocaleDateString('ru-RU', {\r\n                              day: 'numeric',\r\n                              month: 'short',\r\n                              hour: '2-digit',\r\n                              minute: '2-digit',\r\n                            })}\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Thread messages */}\r\n                      {letter.messages && letter.messages.map((msg) => (\r\n                        <div key={msg.id}>\r\n                          <p className={`text-xs mb-1 sm:mb-2 font-medium flex items-center gap-1 ${msg.sender_type === 'chief_doctor' ? 'text-[#18A36C]' : 'text-gray-500'}`}>\r\n                            {msg.sender_type === 'chief_doctor' ? (\r\n                              <>\r\n                                <CheckCircle className=\"w-3 h-3\" />\r\n                                Ответ главного врача\r\n                              </>\r\n                            ) : (\r\n                              'Ваше сообщение'\r\n                            )}\r\n                          </p>\r\n                          <div className={`rounded-lg p-2 sm:p-3 ${msg.sender_type === 'chief_doctor' ? 'bg-[#18A36C]/10 border border-[#18A36C]/20' : 'bg-gray-50'}`}>\r\n                            <p className=\"text-xs sm:text-sm text-gray-700 whitespace-pre-wrap\">\r\n                              {msg.content}\r\n                            </p>\r\n                          </div>\r\n                          <p className=\"text-xs text-gray-400 mt-1\">\r\n                            {new Date(msg.created_at).toLocaleDateString('ru-RU', {\r\n                              day: 'numeric',\r\n                              month: 'short',\r\n                              hour: '2-digit',\r\n                              minute: '2-digit',\r\n                            })}\r\n                          </p>\r\n                        </div>\r\n                      ))}\r\n\r\n                      {/* Reply form - only if chief doctor has responded and user is not blocked */}\r\n                      {letter.reply && !user?.is_messages_blocked && (\r\n                        <div className=\"pt-3 sm:pt-4 border-t border-gray-200\">\r\n                          <p className=\"text-xs text-gray-500 mb-1 sm:mb-2 font-medium\">Продолжить переписку:</p>\r\n                          <Textarea\r\n                            value={replyMessage}\r\n                            onChange={(e) => setReplyMessage(e.target.value)}\r\n                            placeholder=\"Напишите ваш ответ...\"\r\n                            className=\"min-h-[70px] sm:min-h-[80px] text-xs sm:text-sm border-gray-200 focus:border-[#18A36C] focus:ring-[#18A36C] focus:border-1\"\r\n                          />\r\n                          <div className=\"flex justify-end mt-2\">\r\n                            <Button\r\n                              onClick={() => sendReplyMessage(letter.id)}\r\n                              disabled={sendingReply || !replyMessage.trim()}\r\n                              className=\"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white w-full sm:w-auto text-sm\"\r\n                            >\r\n                              {sendingReply ? (\r\n                                <>\r\n                                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                  Отправка...\r\n                                </>\r\n                              ) : (\r\n                                <>\r\n                                  <Send className=\"w-4 h-4 mr-2\" />\r\n                                  Отправить\r\n                                </>\r\n                              )}\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      {/* Show blocked message in thread if user is blocked */}\r\n                      {letter.reply && user?.is_messages_blocked && (\r\n                        <div className=\"pt-3 sm:pt-4 border-t border-gray-200\">\r\n                          <div className=\"flex items-center gap-2 text-red-600 bg-red-50 p-2 sm:p-3 rounded-lg\">\r\n                            <Ban className=\"w-4 h-4 flex-shrink-0\" />\r\n                            <span className=\"text-xs sm:text-sm\">Отправка сообщений заблокирована</span>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Modern Welcome Dashboard\r\n  const renderWelcomeDashboard = () => (\r\n    <div className=\"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-4 sm:py-8\">\r\n      {/* Welcome Hero Section */}\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-4 sm:p-8 lg:p-12 mb-6 sm:mb-12\">\r\n        <div className=\"text-center lg:text-left\">\r\n          <div className=\"flex flex-col lg:flex-row items-center gap-8\">\r\n            {/* Avatar and Welcome Text */}\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex flex-col lg:flex-row items-center lg:items-start gap-6\">\r\n                <div className=\"w-20 h-20 lg:w-24 lg:h-24 aspect-square bg-[#18A36C] rounded-full flex items-center justify-center overflow-hidden border-4 border-gray-100 shadow-lg flex-shrink-0\">\r\n                  {displayUser.avatarUrl ? (\r\n                    <img\r\n                      src={displayUser.avatarUrl}\r\n                      alt=\"Avatar\"\r\n                      className=\"w-full h-full object-cover rounded-full\"\r\n                    />\r\n                  ) : (\r\n                    <span className=\"text-3xl text-white font-medium\">\r\n                      {getInitials()}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"text-center lg:text-left\">\r\n                  <div className=\"flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-2 sm:gap-3 mb-2\">\r\n                    <h1 className=\"text-xl sm:text-2xl lg:text-4xl text-gray-800\">\r\n                      Добро пожаловать, {displayUser.firstName || \"Пользователь\"}!\r\n                    </h1>\r\n                    {user?.role === 'ADMIN' && (\r\n                      <span className=\"inline-flex items-center gap-1 px-2 sm:px-3 py-1 bg-[#18A36C] text-white text-xs sm:text-sm rounded-full\">\r\n                        <Shield className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                        Админ\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <p className=\"text-gray-600 text-sm sm:text-base lg:text-lg\">\r\n                    Ваш персональный медицинский помощник\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Stats Cards */}\r\n            <div className=\"grid grid-cols-2 gap-3 sm:gap-6 w-full sm:w-auto\">\r\n              <div className=\"bg-gray-50 rounded-lg p-3 sm:p-6 border border-gray-200\">\r\n                <div className=\"flex flex-col items-center justify-center h-full\">\r\n                  <div className=\"text-xl sm:text-2xl text-gray-800 mb-1\">\r\n                    {subscriptionSettings.categories.length}\r\n                  </div>\r\n                  <div className=\"text-xs sm:text-sm text-gray-600 text-center\">\r\n                    Подписок\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-gray-50 rounded-lg p-3 sm:p-6 border border-gray-200\">\r\n                <div className=\"flex flex-col items-center justify-center h-full\">\r\n                  <div className=\"text-xl sm:text-2xl text-gray-800 mb-1\">\r\n                    {materials.length}\r\n                  </div>\r\n                  <div className=\"text-xs sm:text-sm text-gray-600 text-center\">\r\n                    Материалов\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Profile Information Section */}\r\n      <div className=\"mb-12\">\r\n        <Card className=\"border border-gray-200\">\r\n          <CardHeader className=\"border-b border-gray-200 bg-gray-50 p-4 sm:p-6\">\r\n            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-[#18A36C] rounded-lg flex items-center justify-center flex-shrink-0\">\r\n                  <User className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\r\n                </div>\r\n                <div>\r\n                  <CardTitle className=\"text-lg sm:text-xl text-gray-800\">\r\n                    Информация профиля\r\n                  </CardTitle>\r\n                  <p className=\"text-xs sm:text-sm text-gray-600 mt-1 hidden sm:block\">\r\n                    Ваши личные данные и настройки безопасности\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <Button\r\n                onClick={() => setShowEditProfileModal(true)}\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                className=\"border-[#18A36C] text-[#18A36C] hover:bg-[#18A36C] hover:text-white transition-all duration-300 w-full sm:w-auto\"\r\n              >\r\n                <Edit3 className=\"w-4 h-4 mr-2\" />\r\n                Редактировать\r\n              </Button>\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              {/* Login */}\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-gray-600 text-sm flex items-center gap-2\">\r\n                  <AtSign className=\"w-4 h-4 text-[#18A36C]\" />\r\n                  Логин\r\n                </Label>\r\n                <div className=\"p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n                  <p className=\"text-gray-800 font-medium\">\r\n                    {user?.login || 'Не указан'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Email */}\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-gray-600 text-sm flex items-center gap-2\">\r\n                  <Mail className=\"w-4 h-4 text-[#18A36C]\" />\r\n                  Email\r\n                </Label>\r\n                <div className=\"p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n                  <p className=\"text-gray-800 font-medium\">\r\n                    {user?.email || 'Не указан'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Phone */}\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-gray-600 text-sm flex items-center gap-2\">\r\n                  <Phone className=\"w-4 h-4 text-[#18A36C]\" />\r\n                  Телефон\r\n                </Label>\r\n                <div className=\"p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n                  <p className=\"text-gray-800 font-medium\">\r\n                    {user?.phone || 'Не указан'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Registration Date */}\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-gray-600 text-sm flex items-center gap-2\">\r\n                  <CalendarDays className=\"w-4 h-4 text-[#18A36C]\" />\r\n                  Дата регистрации\r\n                </Label>\r\n                <div className=\"p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n                  <p className=\"text-gray-800 font-medium\">\r\n                    {user?.registration_date\r\n                      ? new Date(user.registration_date).toLocaleDateString('ru-RU', {\r\n                        year: 'numeric',\r\n                        month: 'long',\r\n                        day: 'numeric'\r\n                      })\r\n                      : 'Не указана'\r\n                    }\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Full Name */}\r\n              <div className=\"space-y-2 md:col-span-2\">\r\n                <Label className=\"text-gray-600 text-sm flex items-center gap-2\">\r\n                  <User className=\"w-4 h-4 text-[#18A36C]\" />\r\n                  Полное имя\r\n                </Label>\r\n                <div className=\"p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n                  <p className=\"text-gray-800 font-medium\">\r\n                    {user?.name || 'Не указано'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Quick Actions Grid */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-8 sm:mb-12\">\r\n        <Card\r\n          className=\"group cursor-pointer hover:shadow-xl transition-all duration-300 border border-gray-200 hover:border-[#18A36C]\"\r\n          onClick={() => navigate(\"/account/subscriptions\")}\r\n        >\r\n          <CardContent className=\"p-4 sm:p-6\">\r\n            <div className=\"flex items-center gap-3 sm:gap-4 mb-3 sm:mb-4\">\r\n              <div className=\"w-12 h-12 sm:w-14 sm:h-14 bg-[#18A36C] rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300 flex-shrink-0\">\r\n                <Settings2 className=\"w-6 h-6 sm:w-7 sm:h-7 text-white\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-base sm:text-lg text-gray-800 mb-0.5 sm:mb-1\">\r\n                  Подписки\r\n                </h3>\r\n                <p className=\"text-xs sm:text-sm text-gray-600\">\r\n                  Настройки уведомлений\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center text-xs sm:text-sm text-[#18A36C]\">\r\n              <span>Управление подписками</span>\r\n              <ChevronRight className=\"w-4 h-4 ml-[2.5px] group-hover:translate-x-1 transition-transform\" />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card\r\n          className=\"group cursor-pointer hover:shadow-xl transition-all duration-300 border border-gray-200 hover:border-[#18A36C]\"\r\n          onClick={() => navigate(\"/account/materials\")}\r\n        >\r\n          <CardContent className=\"p-4 sm:p-6\">\r\n            <div className=\"flex items-center gap-3 sm:gap-4 mb-3 sm:mb-4\">\r\n              <div className=\"w-12 h-12 sm:w-14 sm:h-14 bg-[#18A36C] rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300 flex-shrink-0\">\r\n                <FileText className=\"w-6 h-6 sm:w-7 sm:h-7 text-white\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-base sm:text-lg text-gray-800 mb-0.5 sm:mb-1\">\r\n                  Материалы\r\n                </h3>\r\n                <p className=\"text-xs sm:text-sm text-gray-600\">\r\n                  Специальные предложения\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center text-xs sm:text-sm text-[#18A36C]\">\r\n              <span>Просмотреть материалы</span>\r\n              <ChevronRight className=\"w-4 h-4 ml-[2.5px] group-hover:translate-x-1 transition-transform\" />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card\r\n          className=\"group cursor-pointer hover:shadow-xl transition-all duration-300 border border-gray-200 hover:border-[#18A36C] sm:col-span-2 lg:col-span-1\"\r\n          onClick={() => navigate(\"/account/contact\")}\r\n        >\r\n          <CardContent className=\"p-4 sm:p-6\">\r\n            <div className=\"flex items-center gap-3 sm:gap-4 mb-3 sm:mb-4\">\r\n              <div className=\"w-12 h-12 sm:w-14 sm:h-14 bg-[#18A36C] rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300 flex-shrink-0\">\r\n                <MessageSquare className=\"w-6 h-6 sm:w-7 sm:h-7 text-white\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-base sm:text-lg text-gray-800 mb-0.5 sm:mb-1\">\r\n                  Связь с врачом\r\n                </h3>\r\n                <p className=\"text-xs sm:text-sm text-gray-600\">\r\n                  Написать главврачу\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center text-xs sm:text-sm text-[#18A36C]\">\r\n              <span>Отправить сообщение</span>\r\n              <ChevronRight className=\"w-4 h-4 ml-[2.5px] group-hover:translate-x-1 transition-transform\" />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Recent Materials Preview */}\r\n      <div className=\"mb-8 sm:mb-12\">\r\n        <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4 sm:mb-6\">\r\n          <h2 className=\"text-lg sm:text-xl lg:text-2xl text-gray-800\">\r\n            Последние материалы\r\n          </h2>\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => navigate(\"/account/materials\")}\r\n            className=\"text-[#18A36C] border-[#18A36C] hover:bg-[#18A36C] hover:text-white w-full sm:w-auto\"\r\n          >\r\n            Смотреть все\r\n            <ChevronRight className=\"w-4 h-4 ml-[2.5px]\" />\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\r\n          {materials\r\n            .slice(0, 3)\r\n            .map((item) => (\r\n              <Card\r\n                key={item.id}\r\n                className=\"group hover:shadow-lg transition-all duration-300 border border-gray-200\"\r\n              >\r\n                <div className=\"relative overflow-hidden rounded-t-lg\">\r\n                  <ImageWithFallback\r\n                    src={item.image}\r\n                    alt={item.title}\r\n                    className=\"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300\"\r\n                  />\r\n                  <div className=\"absolute top-2 sm:top-4 left-2 sm:left-4 flex gap-1 sm:gap-2\">\r\n                    {isNewMaterial(item.dateRaw) && (\r\n                      <Badge className=\"bg-orange-500 text-white text-xs\">\r\n                        Новое\r\n                      </Badge>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <CardContent className=\"p-3 sm:p-4\">\r\n                  <h3 className=\"text-base sm:text-lg text-gray-800 mb-2 group-hover:text-[#18A36C] transition-colors line-clamp-2\">\r\n                    {item.title}\r\n                  </h3>\r\n                  <p className=\"text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3 line-clamp-2\">\r\n                    {item.content}\r\n                  </p>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-1 sm:gap-2 text-xs text-gray-500\">\r\n                      <CalendarDays className=\"w-3 h-3\" />\r\n                      <span>{item.date}</span>\r\n                    </div>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      onClick={() => handleMaterialClick(item)}\r\n                      className=\"text-[#18A36C] hover:text-[#18A36C]/80 hover:bg-[#18A36C]/10 p-1 sm:p-2 text-xs sm:text-sm\"\r\n                    >\r\n                      <Eye className=\"w-3 h-3 sm:w-4 sm:h-4 mr-1\" />\r\n                      Подробнее\r\n                    </Button>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Profile Management */}\r\n      <Card className=\"border border-gray-200\">\r\n        <CardContent className=\"p-4 sm:p-6\">\r\n          <div className=\"flex flex-col lg:flex-row items-center justify-between gap-4 sm:gap-6\">\r\n            <div className=\"flex flex-col sm:flex-row items-center gap-3 sm:gap-4 text-center sm:text-left w-full lg:w-auto\">\r\n              <div className=\"w-14 h-14 sm:w-16 sm:h-16 aspect-square bg-[#18A36C] rounded-full flex items-center justify-center overflow-hidden border-2 border-gray-100 shadow-md flex-shrink-0\">\r\n                {displayUser.avatarUrl ? (\r\n                  <img\r\n                    src={displayUser.avatarUrl}\r\n                    alt=\"Avatar\"\r\n                    className=\"w-full h-full object-cover rounded-full\"\r\n                  />\r\n                ) : (\r\n                  <span className=\"text-lg sm:text-xl text-white font-medium\">\r\n                    {getInitials()}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-base sm:text-xl text-gray-800 mb-0.5 sm:mb-1\">\r\n                  {displayUser.fullName || displayUser.name || \"Пользователь\"}\r\n                </h3>\r\n                <p className=\"text-sm sm:text-base text-gray-600 mb-0.5 sm:mb-1\">\r\n                  {displayUser.email || \"Email не указан\"}\r\n                </p>\r\n                <p className=\"text-xs sm:text-sm text-gray-500\">\r\n                  {user?.registration_date\r\n                    ? `Участник с ${new Date(user.registration_date).getFullYear()} года`\r\n                    : \"Участник\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex flex-col w-full sm:w-auto sm:flex-row gap-2 sm:gap-3\">\r\n              <Button\r\n                onClick={() => setShowEditProfileModal(true)}\r\n                variant=\"outline\"\r\n                className=\"text-gray-700 border-gray-300 hover:bg-gray-50 w-full sm:w-auto text-sm\"\r\n              >\r\n                <Edit3 className=\"w-4 h-4 mr-[2.5px]\" />\r\n                Редактировать\r\n              </Button>\r\n              <Button\r\n                onClick={() => setShowChangePasswordModal(true)}\r\n                variant=\"outline\"\r\n                className=\"text-[#18A36C] border-[#18A36C] hover:bg-[#18A36C]/10 w-full sm:w-auto text-sm\"\r\n              >\r\n                <Lock className=\"w-4 h-4 mr-[2.5px]\" />\r\n                Пароль\r\n              </Button>\r\n              <Button\r\n                onClick={handleLogoutClick}\r\n                variant=\"outline\"\r\n                className=\"text-red-600 border-red-300 hover:bg-red-50 w-full sm:w-auto text-sm\"\r\n              >\r\n                <LogOut className=\"w-4 h-4 mr-[2.5px]\" />\r\n                Выйти\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Dialog open={showLogoutDialog} onOpenChange={setShowLogoutDialog}>\r\n        <DialogContent className=\"sm:max-w-md border-0\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-xl text-[#2E2E2E]\">\r\n              Подтверждение выхода\r\n            </DialogTitle>\r\n            <DialogDescription className=\"text-gray-600 pt-2\">\r\n              Вы уверены, что хотите выйти из аккаунта?\r\n              <br />\r\n              Вам потребуется войти снова для доступа к личному кабинету.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <DialogFooter className=\"flex flex-col sm:flex-row gap-3 sm:gap-2 pt-4\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setShowLogoutDialog(false)}\r\n              className=\"w-full sm:w-auto border-gray-300 text-[#2E2E2E] hover:bg-gray-50\"\r\n            >\r\n              Отмена\r\n            </Button>\r\n            <Button\r\n              onClick={handleLogoutConfirm}\r\n              className=\"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white\"\r\n            >\r\n              <LogOut className=\"w-4 h-4 mr-2\" />\r\n              Выйти\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Change Password Modal */}\r\n      <ChangePasswordModal\r\n        isOpen={showChangePasswordModal}\r\n        onClose={() => setShowChangePasswordModal(false)}\r\n      />\r\n\r\n      {/* Edit Profile Modal */}\r\n      <EditProfileModal\r\n        isOpen={showEditProfileModal}\r\n        onClose={() => setShowEditProfileModal(false)}\r\n        user={user}\r\n        onProfileUpdate={handleProfileUpdate}\r\n      />\r\n\r\n      {/* Material Detail Modal */}\r\n      <MaterialDetailModal\r\n        isOpen={showMaterialDetailModal}\r\n        onClose={() => {\r\n          setShowMaterialDetailModal(false);\r\n          setSelectedMaterial(null);\r\n        }}\r\n        material={selectedMaterial}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  // Show skeleton during initial loading\r\n  if (isLoading) {\r\n    if (activeSection === \"materials\") {\r\n      return <MaterialsPageSkeleton />;\r\n    }\r\n    if (activeSection === \"contact\") {\r\n      return <ContactSkeleton />;\r\n    }\r\n    return <WelcomeDashboardSkeleton />;\r\n  }\r\n\r\n  // Render based on activeSection\r\n  if (activeSection === \"materials\") {\r\n    return renderMaterials();\r\n  }\r\n  if (activeSection === \"contact\") {\r\n    return renderContact();\r\n  }\r\n  // Default: show welcome dashboard\r\n  return renderWelcomeDashboard();\r\n}","import * as React from \"react\";\r\n\r\nimport { cn } from \"../SMUtils/SMUtils\";\r\n\r\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\r\n  return (\r\n    <textarea\r\n      data-slot=\"textarea\"\r\n      className={cn(\r\n        \"resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Textarea };\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm18 15-6-6-6 6', key: '153udz' }]];\n\n/**\n * @component @name ChevronUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTggMTUtNi02LTYgNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronUp = createLucideIcon('chevron-up', __iconNode);\n\nexport default ChevronUp;\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { clamp } from '@radix-ui/number';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createCollection } from '@radix-ui/react-collection';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\nimport { useFocusGuards } from '@radix-ui/react-focus-guards';\nimport { FocusScope } from '@radix-ui/react-focus-scope';\nimport { useId } from '@radix-ui/react-id';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope } from '@radix-ui/react-popper';\nimport { Portal as PortalPrimitive } from '@radix-ui/react-portal';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { createSlot } from '@radix-ui/react-slot';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { VISUALLY_HIDDEN_STYLES } from '@radix-ui/react-visually-hidden';\nimport { hideOthers } from 'aria-hidden';\nimport { RemoveScroll } from 'react-remove-scroll';\n\nimport type { Scope } from '@radix-ui/react-context';\n\ntype Direction = 'ltr' | 'rtl';\n\nconst OPEN_KEYS = [' ', 'Enter', 'ArrowUp', 'ArrowDown'];\nconst SELECTION_KEYS = [' ', 'Enter'];\n\n/* -------------------------------------------------------------------------------------------------\n * Select\n * -----------------------------------------------------------------------------------------------*/\n\nconst SELECT_NAME = 'Select';\n\ntype ItemData = { value: string; disabled: boolean; textValue: string };\nconst [Collection, useCollection, createCollectionScope] = createCollection<\n  SelectItemElement,\n  ItemData\n>(SELECT_NAME);\n\ntype ScopedProps<P> = P & { __scopeSelect?: Scope };\nconst [createSelectContext, createSelectScope] = createContextScope(SELECT_NAME, [\n  createCollectionScope,\n  createPopperScope,\n]);\nconst usePopperScope = createPopperScope();\n\ntype SelectContextValue = {\n  trigger: SelectTriggerElement | null;\n  onTriggerChange(node: SelectTriggerElement | null): void;\n  valueNode: SelectValueElement | null;\n  onValueNodeChange(node: SelectValueElement): void;\n  valueNodeHasChildren: boolean;\n  onValueNodeHasChildrenChange(hasChildren: boolean): void;\n  contentId: string;\n  value: string | undefined;\n  onValueChange(value: string): void;\n  open: boolean;\n  required?: boolean;\n  onOpenChange(open: boolean): void;\n  dir: SelectProps['dir'];\n  triggerPointerDownPosRef: React.MutableRefObject<{ x: number; y: number } | null>;\n  disabled?: boolean;\n};\n\nconst [SelectProvider, useSelectContext] = createSelectContext<SelectContextValue>(SELECT_NAME);\n\ntype NativeOption = React.ReactElement<React.ComponentProps<'option'>>;\n\ntype SelectNativeOptionsContextValue = {\n  onNativeOptionAdd(option: NativeOption): void;\n  onNativeOptionRemove(option: NativeOption): void;\n};\nconst [SelectNativeOptionsProvider, useSelectNativeOptionsContext] =\n  createSelectContext<SelectNativeOptionsContextValue>(SELECT_NAME);\n\ninterface ControlledClearableSelectProps {\n  value: string | undefined;\n  defaultValue?: never;\n  onValueChange: (value: string | undefined) => void;\n}\n\ninterface ControlledUnclearableSelectProps {\n  value: string;\n  defaultValue?: never;\n  onValueChange: (value: string) => void;\n}\n\ninterface UncontrolledSelectProps {\n  value?: never;\n  defaultValue?: string;\n  onValueChange?: {\n    (value: string): void;\n    (value: string | undefined): void;\n  };\n}\n\ntype SelectControlProps =\n  | ControlledClearableSelectProps\n  | ControlledUnclearableSelectProps\n  | UncontrolledSelectProps;\n\ninterface SelectSharedProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?(open: boolean): void;\n  dir?: Direction;\n  name?: string;\n  autoComplete?: string;\n  disabled?: boolean;\n  required?: boolean;\n  form?: string;\n}\n\n// TODO: Should improve typing somewhat, but this would be a breaking change.\n// Consider using in the next major version (along with some testing to be sure\n// it works as expected and doesn't cause problems)\ntype _FutureSelectProps = SelectSharedProps & SelectControlProps;\n\ntype SelectProps = SelectSharedProps & {\n  value?: string;\n  defaultValue?: string;\n  onValueChange?(value: string): void;\n};\n\nconst Select: React.FC<SelectProps> = (props: ScopedProps<SelectProps>) => {\n  const {\n    __scopeSelect,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    value: valueProp,\n    defaultValue,\n    onValueChange,\n    dir,\n    name,\n    autoComplete,\n    disabled,\n    required,\n    form,\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  const [trigger, setTrigger] = React.useState<SelectTriggerElement | null>(null);\n  const [valueNode, setValueNode] = React.useState<SelectValueElement | null>(null);\n  const [valueNodeHasChildren, setValueNodeHasChildren] = React.useState(false);\n  const direction = useDirection(dir);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: SELECT_NAME,\n  });\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange as any,\n    caller: SELECT_NAME,\n  });\n  const triggerPointerDownPosRef = React.useRef<{ x: number; y: number } | null>(null);\n\n  // We set this to true by default so that events bubble to forms without JS (SSR)\n  const isFormControl = trigger ? form || !!trigger.closest('form') : true;\n  const [nativeOptionsSet, setNativeOptionsSet] = React.useState(new Set<NativeOption>());\n\n  // The native `select` only associates the correct default value if the corresponding\n  // `option` is rendered as a child **at the same time** as itself.\n  // Because it might take a few renders for our items to gather the information to build\n  // the native `option`(s), we generate a key on the `select` to make sure React re-builds it\n  // each time the options change.\n  const nativeSelectKey = Array.from(nativeOptionsSet)\n    .map((option) => option.props.value)\n    .join(';');\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <SelectProvider\n        required={required}\n        scope={__scopeSelect}\n        trigger={trigger}\n        onTriggerChange={setTrigger}\n        valueNode={valueNode}\n        onValueNodeChange={setValueNode}\n        valueNodeHasChildren={valueNodeHasChildren}\n        onValueNodeHasChildrenChange={setValueNodeHasChildren}\n        contentId={useId()}\n        value={value}\n        onValueChange={setValue}\n        open={open}\n        onOpenChange={setOpen}\n        dir={direction}\n        triggerPointerDownPosRef={triggerPointerDownPosRef}\n        disabled={disabled}\n      >\n        <Collection.Provider scope={__scopeSelect}>\n          <SelectNativeOptionsProvider\n            scope={props.__scopeSelect}\n            onNativeOptionAdd={React.useCallback((option) => {\n              setNativeOptionsSet((prev) => new Set(prev).add(option));\n            }, [])}\n            onNativeOptionRemove={React.useCallback((option) => {\n              setNativeOptionsSet((prev) => {\n                const optionsSet = new Set(prev);\n                optionsSet.delete(option);\n                return optionsSet;\n              });\n            }, [])}\n          >\n            {children}\n          </SelectNativeOptionsProvider>\n        </Collection.Provider>\n\n        {isFormControl ? (\n          <SelectBubbleInput\n            key={nativeSelectKey}\n            aria-hidden\n            required={required}\n            tabIndex={-1}\n            name={name}\n            autoComplete={autoComplete}\n            value={value}\n            // enable form autofill\n            onChange={(event) => setValue(event.target.value)}\n            disabled={disabled}\n            form={form}\n          >\n            {value === undefined ? <option value=\"\" /> : null}\n            {Array.from(nativeOptionsSet)}\n          </SelectBubbleInput>\n        ) : null}\n      </SelectProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nSelect.displayName = SELECT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'SelectTrigger';\n\ntype SelectTriggerElement = React.ComponentRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface SelectTriggerProps extends PrimitiveButtonProps {}\n\nconst SelectTrigger = React.forwardRef<SelectTriggerElement, SelectTriggerProps>(\n  (props: ScopedProps<SelectTriggerProps>, forwardedRef) => {\n    const { __scopeSelect, disabled = false, ...triggerProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(TRIGGER_NAME, __scopeSelect);\n    const isDisabled = context.disabled || disabled;\n    const composedRefs = useComposedRefs(forwardedRef, context.onTriggerChange);\n    const getItems = useCollection(__scopeSelect);\n    const pointerTypeRef = React.useRef<React.PointerEvent['pointerType']>('touch');\n\n    const [searchRef, handleTypeaheadSearch, resetTypeahead] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.value === context.value);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem !== undefined) {\n        context.onValueChange(nextItem.value);\n      }\n    });\n\n    const handleOpen = (pointerEvent?: React.MouseEvent | React.PointerEvent) => {\n      if (!isDisabled) {\n        context.onOpenChange(true);\n        // reset typeahead when we open\n        resetTypeahead();\n      }\n\n      if (pointerEvent) {\n        context.triggerPointerDownPosRef.current = {\n          x: Math.round(pointerEvent.pageX),\n          y: Math.round(pointerEvent.pageY),\n        };\n      }\n    };\n\n    return (\n      <PopperPrimitive.Anchor asChild {...popperScope}>\n        <Primitive.button\n          type=\"button\"\n          role=\"combobox\"\n          aria-controls={context.contentId}\n          aria-expanded={context.open}\n          aria-required={context.required}\n          aria-autocomplete=\"none\"\n          dir={context.dir}\n          data-state={context.open ? 'open' : 'closed'}\n          disabled={isDisabled}\n          data-disabled={isDisabled ? '' : undefined}\n          data-placeholder={shouldShowPlaceholder(context.value) ? '' : undefined}\n          {...triggerProps}\n          ref={composedRefs}\n          // Enable compatibility with native label or custom `Label` \"click\" for Safari:\n          onClick={composeEventHandlers(triggerProps.onClick, (event) => {\n            // Whilst browsers generally have no issue focusing the trigger when clicking\n            // on a label, Safari seems to struggle with the fact that there's no `onClick`.\n            // We force `focus` in this case. Note: this doesn't create any other side-effect\n            // because we are preventing default in `onPointerDown` so effectively\n            // this only runs for a label \"click\"\n            event.currentTarget.focus();\n\n            // Open on click when using a touch or pen device\n            if (pointerTypeRef.current !== 'mouse') {\n              handleOpen(event);\n            }\n          })}\n          onPointerDown={composeEventHandlers(triggerProps.onPointerDown, (event) => {\n            pointerTypeRef.current = event.pointerType;\n\n            // prevent implicit pointer capture\n            // https://www.w3.org/TR/pointerevents3/#implicit-pointer-capture\n            const target = event.target as HTMLElement;\n            if (target.hasPointerCapture(event.pointerId)) {\n              target.releasePointerCapture(event.pointerId);\n            }\n\n            // only call handler if it's the left button (mousedown gets triggered by all mouse buttons)\n            // but not when the control key is pressed (avoiding MacOS right click); also not for touch\n            // devices because that would open the menu on scroll. (pen devices behave as touch on iOS).\n            if (event.button === 0 && event.ctrlKey === false && event.pointerType === 'mouse') {\n              handleOpen(event);\n              // prevent trigger from stealing focus from the active item after opening.\n              event.preventDefault();\n            }\n          })}\n          onKeyDown={composeEventHandlers(triggerProps.onKeyDown, (event) => {\n            const isTypingAhead = searchRef.current !== '';\n            const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n            if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n            if (isTypingAhead && event.key === ' ') return;\n            if (OPEN_KEYS.includes(event.key)) {\n              handleOpen();\n              event.preventDefault();\n            }\n          })}\n        />\n      </PopperPrimitive.Anchor>\n    );\n  }\n);\n\nSelectTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectValue\n * -----------------------------------------------------------------------------------------------*/\n\nconst VALUE_NAME = 'SelectValue';\n\ntype SelectValueElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface SelectValueProps extends Omit<PrimitiveSpanProps, 'placeholder'> {\n  placeholder?: React.ReactNode;\n}\n\nconst SelectValue = React.forwardRef<SelectValueElement, SelectValueProps>(\n  (props: ScopedProps<SelectValueProps>, forwardedRef) => {\n    // We ignore `className` and `style` as this part shouldn't be styled.\n    const { __scopeSelect, className, style, children, placeholder = '', ...valueProps } = props;\n    const context = useSelectContext(VALUE_NAME, __scopeSelect);\n    const { onValueNodeHasChildrenChange } = context;\n    const hasChildren = children !== undefined;\n    const composedRefs = useComposedRefs(forwardedRef, context.onValueNodeChange);\n\n    useLayoutEffect(() => {\n      onValueNodeHasChildrenChange(hasChildren);\n    }, [onValueNodeHasChildrenChange, hasChildren]);\n\n    return (\n      <Primitive.span\n        {...valueProps}\n        ref={composedRefs}\n        // we don't want events from the portalled `SelectValue` children to bubble\n        // through the item they came from\n        style={{ pointerEvents: 'none' }}\n      >\n        {shouldShowPlaceholder(context.value) ? <>{placeholder}</> : children}\n      </Primitive.span>\n    );\n  }\n);\n\nSelectValue.displayName = VALUE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectIcon\n * -----------------------------------------------------------------------------------------------*/\n\nconst ICON_NAME = 'SelectIcon';\n\ntype SelectIconElement = React.ComponentRef<typeof Primitive.span>;\ninterface SelectIconProps extends PrimitiveSpanProps {}\n\nconst SelectIcon = React.forwardRef<SelectIconElement, SelectIconProps>(\n  (props: ScopedProps<SelectIconProps>, forwardedRef) => {\n    const { __scopeSelect, children, ...iconProps } = props;\n    return (\n      <Primitive.span aria-hidden {...iconProps} ref={forwardedRef}>\n        {children || '▼'}\n      </Primitive.span>\n    );\n  }\n);\n\nSelectIcon.displayName = ICON_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'SelectPortal';\n\ntype PortalProps = React.ComponentPropsWithoutRef<typeof PortalPrimitive>;\ninterface SelectPortalProps {\n  children?: React.ReactNode;\n  /**\n   * Specify a container element to portal the content into.\n   */\n  container?: PortalProps['container'];\n}\n\nconst SelectPortal: React.FC<SelectPortalProps> = (props: ScopedProps<SelectPortalProps>) => {\n  return <PortalPrimitive asChild {...props} />;\n};\n\nSelectPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'SelectContent';\n\ntype SelectContentElement = SelectContentImplElement;\ninterface SelectContentProps extends SelectContentImplProps {}\n\nconst SelectContent = React.forwardRef<SelectContentElement, SelectContentProps>(\n  (props: ScopedProps<SelectContentProps>, forwardedRef) => {\n    const context = useSelectContext(CONTENT_NAME, props.__scopeSelect);\n    const [fragment, setFragment] = React.useState<DocumentFragment>();\n\n    // setting the fragment in `useLayoutEffect` as `DocumentFragment` doesn't exist on the server\n    useLayoutEffect(() => {\n      setFragment(new DocumentFragment());\n    }, []);\n\n    if (!context.open) {\n      const frag = fragment as Element | undefined;\n      return frag\n        ? ReactDOM.createPortal(\n            <SelectContentProvider scope={props.__scopeSelect}>\n              <Collection.Slot scope={props.__scopeSelect}>\n                <div>{props.children}</div>\n              </Collection.Slot>\n            </SelectContentProvider>,\n            frag\n          )\n        : null;\n    }\n\n    return <SelectContentImpl {...props} ref={forwardedRef} />;\n  }\n);\n\nSelectContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectContentImpl\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_MARGIN = 10;\n\ntype SelectContentContextValue = {\n  content?: SelectContentElement | null;\n  viewport?: SelectViewportElement | null;\n  onViewportChange?: (node: SelectViewportElement | null) => void;\n  itemRefCallback?: (node: SelectItemElement | null, value: string, disabled: boolean) => void;\n  selectedItem?: SelectItemElement | null;\n  onItemLeave?: () => void;\n  itemTextRefCallback?: (\n    node: SelectItemTextElement | null,\n    value: string,\n    disabled: boolean\n  ) => void;\n  focusSelectedItem?: () => void;\n  selectedItemText?: SelectItemTextElement | null;\n  position?: SelectContentProps['position'];\n  isPositioned?: boolean;\n  searchRef?: React.RefObject<string>;\n};\n\nconst [SelectContentProvider, useSelectContentContext] =\n  createSelectContext<SelectContentContextValue>(CONTENT_NAME);\n\nconst CONTENT_IMPL_NAME = 'SelectContentImpl';\n\ntype SelectContentImplElement = SelectPopperPositionElement | SelectItemAlignedPositionElement;\ntype DismissableLayerProps = React.ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype FocusScopeProps = React.ComponentPropsWithoutRef<typeof FocusScope>;\n\ntype SelectPopperPrivateProps = { onPlaced?: PopperContentProps['onPlaced'] };\n\ninterface SelectContentImplProps\n  extends Omit<SelectPopperPositionProps, keyof SelectPopperPrivateProps>,\n    Omit<SelectItemAlignedPositionProps, keyof SelectPopperPrivateProps> {\n  /**\n   * Event handler called when auto-focusing on close.\n   * Can be prevented.\n   */\n  onCloseAutoFocus?: FocusScopeProps['onUnmountAutoFocus'];\n  /**\n   * Event handler called when the escape key is down.\n   * Can be prevented.\n   */\n  onEscapeKeyDown?: DismissableLayerProps['onEscapeKeyDown'];\n  /**\n   * Event handler called when the a `pointerdown` event happens outside of the `DismissableLayer`.\n   * Can be prevented.\n   */\n  onPointerDownOutside?: DismissableLayerProps['onPointerDownOutside'];\n\n  position?: 'item-aligned' | 'popper';\n}\n\nconst Slot = createSlot('SelectContent.RemoveScroll');\n\nconst SelectContentImpl = React.forwardRef<SelectContentImplElement, SelectContentImplProps>(\n  (props: ScopedProps<SelectContentImplProps>, forwardedRef) => {\n    const {\n      __scopeSelect,\n      position = 'item-aligned',\n      onCloseAutoFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      //\n      // PopperContent props\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions,\n      //\n      ...contentProps\n    } = props;\n    const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n    const [content, setContent] = React.useState<SelectContentImplElement | null>(null);\n    const [viewport, setViewport] = React.useState<SelectViewportElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n    const [selectedItem, setSelectedItem] = React.useState<SelectItemElement | null>(null);\n    const [selectedItemText, setSelectedItemText] = React.useState<SelectItemTextElement | null>(\n      null\n    );\n    const getItems = useCollection(__scopeSelect);\n    const [isPositioned, setIsPositioned] = React.useState(false);\n    const firstValidItemFoundRef = React.useRef(false);\n\n    // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n    React.useEffect(() => {\n      if (content) return hideOthers(content);\n    }, [content]);\n\n    // Make sure the whole tree has focus guards as our `Select` may be\n    // the last element in the DOM (because of the `Portal`)\n    useFocusGuards();\n\n    const focusFirst = React.useCallback(\n      (candidates: Array<HTMLElement | null>) => {\n        const [firstItem, ...restItems] = getItems().map((item) => item.ref.current);\n        const [lastItem] = restItems.slice(-1);\n\n        const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n        for (const candidate of candidates) {\n          // if focus is already where we want to go, we don't want to keep going through the candidates\n          if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n          candidate?.scrollIntoView({ block: 'nearest' });\n          // viewport might have padding so scroll to its edges when focusing first/last items.\n          if (candidate === firstItem && viewport) viewport.scrollTop = 0;\n          if (candidate === lastItem && viewport) viewport.scrollTop = viewport.scrollHeight;\n          candidate?.focus();\n          if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n        }\n      },\n      [getItems, viewport]\n    );\n\n    const focusSelectedItem = React.useCallback(\n      () => focusFirst([selectedItem, content]),\n      [focusFirst, selectedItem, content]\n    );\n\n    // Since this is not dependent on layout, we want to ensure this runs at the same time as\n    // other effects across components. Hence why we don't call `focusSelectedItem` inside `position`.\n    React.useEffect(() => {\n      if (isPositioned) {\n        focusSelectedItem();\n      }\n    }, [isPositioned, focusSelectedItem]);\n\n    // prevent selecting items on `pointerup` in some cases after opening from `pointerdown`\n    // and close on `pointerup` outside.\n    const { onOpenChange, triggerPointerDownPosRef } = context;\n    React.useEffect(() => {\n      if (content) {\n        let pointerMoveDelta = { x: 0, y: 0 };\n\n        const handlePointerMove = (event: PointerEvent) => {\n          pointerMoveDelta = {\n            x: Math.abs(Math.round(event.pageX) - (triggerPointerDownPosRef.current?.x ?? 0)),\n            y: Math.abs(Math.round(event.pageY) - (triggerPointerDownPosRef.current?.y ?? 0)),\n          };\n        };\n        const handlePointerUp = (event: PointerEvent) => {\n          // If the pointer hasn't moved by a certain threshold then we prevent selecting item on `pointerup`.\n          if (pointerMoveDelta.x <= 10 && pointerMoveDelta.y <= 10) {\n            event.preventDefault();\n          } else {\n            // otherwise, if the event was outside the content, close.\n            if (!content.contains(event.target as HTMLElement)) {\n              onOpenChange(false);\n            }\n          }\n          document.removeEventListener('pointermove', handlePointerMove);\n          triggerPointerDownPosRef.current = null;\n        };\n\n        if (triggerPointerDownPosRef.current !== null) {\n          document.addEventListener('pointermove', handlePointerMove);\n          document.addEventListener('pointerup', handlePointerUp, { capture: true, once: true });\n        }\n\n        return () => {\n          document.removeEventListener('pointermove', handlePointerMove);\n          document.removeEventListener('pointerup', handlePointerUp, { capture: true });\n        };\n      }\n    }, [content, onOpenChange, triggerPointerDownPosRef]);\n\n    React.useEffect(() => {\n      const close = () => onOpenChange(false);\n      window.addEventListener('blur', close);\n      window.addEventListener('resize', close);\n      return () => {\n        window.removeEventListener('blur', close);\n        window.removeEventListener('resize', close);\n      };\n    }, [onOpenChange]);\n\n    const [searchRef, handleTypeaheadSearch] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.ref.current === document.activeElement);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem) {\n        /**\n         * Imperative focus during keydown is risky so we prevent React's batching updates\n         * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n         */\n        setTimeout(() => (nextItem.ref.current as HTMLElement).focus());\n      }\n    });\n\n    const itemRefCallback = React.useCallback(\n      (node: SelectItemElement | null, value: string, disabled: boolean) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== undefined && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItem(node);\n          if (isFirstValidItem) firstValidItemFoundRef.current = true;\n        }\n      },\n      [context.value]\n    );\n    const handleItemLeave = React.useCallback(() => content?.focus(), [content]);\n    const itemTextRefCallback = React.useCallback(\n      (node: SelectItemTextElement | null, value: string, disabled: boolean) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== undefined && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItemText(node);\n        }\n      },\n      [context.value]\n    );\n\n    const SelectPosition = position === 'popper' ? SelectPopperPosition : SelectItemAlignedPosition;\n\n    // Silently ignore props that are not supported by `SelectItemAlignedPosition`\n    const popperContentProps =\n      SelectPosition === SelectPopperPosition\n        ? {\n            side,\n            sideOffset,\n            align,\n            alignOffset,\n            arrowPadding,\n            collisionBoundary,\n            collisionPadding,\n            sticky,\n            hideWhenDetached,\n            avoidCollisions,\n          }\n        : {};\n\n    return (\n      <SelectContentProvider\n        scope={__scopeSelect}\n        content={content}\n        viewport={viewport}\n        onViewportChange={setViewport}\n        itemRefCallback={itemRefCallback}\n        selectedItem={selectedItem}\n        onItemLeave={handleItemLeave}\n        itemTextRefCallback={itemTextRefCallback}\n        focusSelectedItem={focusSelectedItem}\n        selectedItemText={selectedItemText}\n        position={position}\n        isPositioned={isPositioned}\n        searchRef={searchRef}\n      >\n        <RemoveScroll as={Slot} allowPinchZoom>\n          <FocusScope\n            asChild\n            // we make sure we're not trapping once it's been closed\n            // (closed !== unmounted when animating out)\n            trapped={context.open}\n            onMountAutoFocus={(event) => {\n              // we prevent open autofocus because we manually focus the selected item\n              event.preventDefault();\n            }}\n            onUnmountAutoFocus={composeEventHandlers(onCloseAutoFocus, (event) => {\n              context.trigger?.focus({ preventScroll: true });\n              event.preventDefault();\n            })}\n          >\n            <DismissableLayer\n              asChild\n              disableOutsidePointerEvents\n              onEscapeKeyDown={onEscapeKeyDown}\n              onPointerDownOutside={onPointerDownOutside}\n              // When focus is trapped, a focusout event may still happen.\n              // We make sure we don't trigger our `onDismiss` in such case.\n              onFocusOutside={(event) => event.preventDefault()}\n              onDismiss={() => context.onOpenChange(false)}\n            >\n              <SelectPosition\n                role=\"listbox\"\n                id={context.contentId}\n                data-state={context.open ? 'open' : 'closed'}\n                dir={context.dir}\n                onContextMenu={(event) => event.preventDefault()}\n                {...contentProps}\n                {...popperContentProps}\n                onPlaced={() => setIsPositioned(true)}\n                ref={composedRefs}\n                style={{\n                  // flex layout so we can place the scroll buttons properly\n                  display: 'flex',\n                  flexDirection: 'column',\n                  // reset the outline by default as the content MAY get focused\n                  outline: 'none',\n                  ...contentProps.style,\n                }}\n                onKeyDown={composeEventHandlers(contentProps.onKeyDown, (event) => {\n                  const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n\n                  // select should not be navigated using tab key so we prevent it\n                  if (event.key === 'Tab') event.preventDefault();\n\n                  if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n\n                  if (['ArrowUp', 'ArrowDown', 'Home', 'End'].includes(event.key)) {\n                    const items = getItems().filter((item) => !item.disabled);\n                    let candidateNodes = items.map((item) => item.ref.current!);\n\n                    if (['ArrowUp', 'End'].includes(event.key)) {\n                      candidateNodes = candidateNodes.slice().reverse();\n                    }\n                    if (['ArrowUp', 'ArrowDown'].includes(event.key)) {\n                      const currentElement = event.target as SelectItemElement;\n                      const currentIndex = candidateNodes.indexOf(currentElement);\n                      candidateNodes = candidateNodes.slice(currentIndex + 1);\n                    }\n\n                    /**\n                     * Imperative focus during keydown is risky so we prevent React's batching updates\n                     * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n                     */\n                    setTimeout(() => focusFirst(candidateNodes));\n\n                    event.preventDefault();\n                  }\n                })}\n              />\n            </DismissableLayer>\n          </FocusScope>\n        </RemoveScroll>\n      </SelectContentProvider>\n    );\n  }\n);\n\nSelectContentImpl.displayName = CONTENT_IMPL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectItemAlignedPosition\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_ALIGNED_POSITION_NAME = 'SelectItemAlignedPosition';\n\ntype SelectItemAlignedPositionElement = React.ComponentRef<typeof Primitive.div>;\ninterface SelectItemAlignedPositionProps extends PrimitiveDivProps, SelectPopperPrivateProps {}\n\nconst SelectItemAlignedPosition = React.forwardRef<\n  SelectItemAlignedPositionElement,\n  SelectItemAlignedPositionProps\n>((props: ScopedProps<SelectItemAlignedPositionProps>, forwardedRef) => {\n  const { __scopeSelect, onPlaced, ...popperProps } = props;\n  const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n  const contentContext = useSelectContentContext(CONTENT_NAME, __scopeSelect);\n  const [contentWrapper, setContentWrapper] = React.useState<HTMLDivElement | null>(null);\n  const [content, setContent] = React.useState<SelectItemAlignedPositionElement | null>(null);\n  const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n  const getItems = useCollection(__scopeSelect);\n  const shouldExpandOnScrollRef = React.useRef(false);\n  const shouldRepositionRef = React.useRef(true);\n\n  const { viewport, selectedItem, selectedItemText, focusSelectedItem } = contentContext;\n  const position = React.useCallback(() => {\n    if (\n      context.trigger &&\n      context.valueNode &&\n      contentWrapper &&\n      content &&\n      viewport &&\n      selectedItem &&\n      selectedItemText\n    ) {\n      const triggerRect = context.trigger.getBoundingClientRect();\n\n      // -----------------------------------------------------------------------------------------\n      //  Horizontal positioning\n      // -----------------------------------------------------------------------------------------\n      const contentRect = content.getBoundingClientRect();\n      const valueNodeRect = context.valueNode.getBoundingClientRect();\n      const itemTextRect = selectedItemText.getBoundingClientRect();\n\n      if (context.dir !== 'rtl') {\n        const itemTextOffset = itemTextRect.left - contentRect.left;\n        const left = valueNodeRect.left - itemTextOffset;\n        const leftDelta = triggerRect.left - left;\n        const minContentWidth = triggerRect.width + leftDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const rightEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedLeft = clamp(left, [\n          CONTENT_MARGIN,\n          // Prevents the content from going off the starting edge of the\n          // viewport. It may still go off the ending edge, but this can be\n          // controlled by the user since they may want to manage overflow in a\n          // specific way.\n          // https://github.com/radix-ui/primitives/issues/2049\n          Math.max(CONTENT_MARGIN, rightEdge - contentWidth),\n        ]);\n\n        contentWrapper.style.minWidth = minContentWidth + 'px';\n        contentWrapper.style.left = clampedLeft + 'px';\n      } else {\n        const itemTextOffset = contentRect.right - itemTextRect.right;\n        const right = window.innerWidth - valueNodeRect.right - itemTextOffset;\n        const rightDelta = window.innerWidth - triggerRect.right - right;\n        const minContentWidth = triggerRect.width + rightDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const leftEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedRight = clamp(right, [\n          CONTENT_MARGIN,\n          Math.max(CONTENT_MARGIN, leftEdge - contentWidth),\n        ]);\n\n        contentWrapper.style.minWidth = minContentWidth + 'px';\n        contentWrapper.style.right = clampedRight + 'px';\n      }\n\n      // -----------------------------------------------------------------------------------------\n      // Vertical positioning\n      // -----------------------------------------------------------------------------------------\n      const items = getItems();\n      const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n      const itemsHeight = viewport.scrollHeight;\n\n      const contentStyles = window.getComputedStyle(content);\n      const contentBorderTopWidth = parseInt(contentStyles.borderTopWidth, 10);\n      const contentPaddingTop = parseInt(contentStyles.paddingTop, 10);\n      const contentBorderBottomWidth = parseInt(contentStyles.borderBottomWidth, 10);\n      const contentPaddingBottom = parseInt(contentStyles.paddingBottom, 10);\n      const fullContentHeight = contentBorderTopWidth + contentPaddingTop + itemsHeight + contentPaddingBottom + contentBorderBottomWidth; // prettier-ignore\n      const minContentHeight = Math.min(selectedItem.offsetHeight * 5, fullContentHeight);\n\n      const viewportStyles = window.getComputedStyle(viewport);\n      const viewportPaddingTop = parseInt(viewportStyles.paddingTop, 10);\n      const viewportPaddingBottom = parseInt(viewportStyles.paddingBottom, 10);\n\n      const topEdgeToTriggerMiddle = triggerRect.top + triggerRect.height / 2 - CONTENT_MARGIN;\n      const triggerMiddleToBottomEdge = availableHeight - topEdgeToTriggerMiddle;\n\n      const selectedItemHalfHeight = selectedItem.offsetHeight / 2;\n      const itemOffsetMiddle = selectedItem.offsetTop + selectedItemHalfHeight;\n      const contentTopToItemMiddle = contentBorderTopWidth + contentPaddingTop + itemOffsetMiddle;\n      const itemMiddleToContentBottom = fullContentHeight - contentTopToItemMiddle;\n\n      const willAlignWithoutTopOverflow = contentTopToItemMiddle <= topEdgeToTriggerMiddle;\n\n      if (willAlignWithoutTopOverflow) {\n        const isLastItem =\n          items.length > 0 && selectedItem === items[items.length - 1]!.ref.current;\n        contentWrapper.style.bottom = 0 + 'px';\n        const viewportOffsetBottom =\n          content.clientHeight - viewport.offsetTop - viewport.offsetHeight;\n        const clampedTriggerMiddleToBottomEdge = Math.max(\n          triggerMiddleToBottomEdge,\n          selectedItemHalfHeight +\n            // viewport might have padding bottom, include it to avoid a scrollable viewport\n            (isLastItem ? viewportPaddingBottom : 0) +\n            viewportOffsetBottom +\n            contentBorderBottomWidth\n        );\n        const height = contentTopToItemMiddle + clampedTriggerMiddleToBottomEdge;\n        contentWrapper.style.height = height + 'px';\n      } else {\n        const isFirstItem = items.length > 0 && selectedItem === items[0]!.ref.current;\n        contentWrapper.style.top = 0 + 'px';\n        const clampedTopEdgeToTriggerMiddle = Math.max(\n          topEdgeToTriggerMiddle,\n          contentBorderTopWidth +\n            viewport.offsetTop +\n            // viewport might have padding top, include it to avoid a scrollable viewport\n            (isFirstItem ? viewportPaddingTop : 0) +\n            selectedItemHalfHeight\n        );\n        const height = clampedTopEdgeToTriggerMiddle + itemMiddleToContentBottom;\n        contentWrapper.style.height = height + 'px';\n        viewport.scrollTop = contentTopToItemMiddle - topEdgeToTriggerMiddle + viewport.offsetTop;\n      }\n\n      contentWrapper.style.margin = `${CONTENT_MARGIN}px 0`;\n      contentWrapper.style.minHeight = minContentHeight + 'px';\n      contentWrapper.style.maxHeight = availableHeight + 'px';\n      // -----------------------------------------------------------------------------------------\n\n      onPlaced?.();\n\n      // we don't want the initial scroll position adjustment to trigger \"expand on scroll\"\n      // so we explicitly turn it on only after they've registered.\n      requestAnimationFrame(() => (shouldExpandOnScrollRef.current = true));\n    }\n  }, [\n    getItems,\n    context.trigger,\n    context.valueNode,\n    contentWrapper,\n    content,\n    viewport,\n    selectedItem,\n    selectedItemText,\n    context.dir,\n    onPlaced,\n  ]);\n\n  useLayoutEffect(() => position(), [position]);\n\n  // copy z-index from content to wrapper\n  const [contentZIndex, setContentZIndex] = React.useState<string>();\n  useLayoutEffect(() => {\n    if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n  }, [content]);\n\n  // When the viewport becomes scrollable at the top, the scroll up button will mount.\n  // Because it is part of the normal flow, it will push down the viewport, thus throwing our\n  // trigger => selectedItem alignment off by the amount the viewport was pushed down.\n  // We wait for this to happen and then re-run the positining logic one more time to account for it.\n  const handleScrollButtonChange = React.useCallback(\n    (node: SelectScrollButtonImplElement | null) => {\n      if (node && shouldRepositionRef.current === true) {\n        position();\n        focusSelectedItem?.();\n        shouldRepositionRef.current = false;\n      }\n    },\n    [position, focusSelectedItem]\n  );\n\n  return (\n    <SelectViewportProvider\n      scope={__scopeSelect}\n      contentWrapper={contentWrapper}\n      shouldExpandOnScrollRef={shouldExpandOnScrollRef}\n      onScrollButtonChange={handleScrollButtonChange}\n    >\n      <div\n        ref={setContentWrapper}\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          position: 'fixed',\n          zIndex: contentZIndex,\n        }}\n      >\n        <Primitive.div\n          {...popperProps}\n          ref={composedRefs}\n          style={{\n            // When we get the height of the content, it includes borders. If we were to set\n            // the height without having `boxSizing: 'border-box'` it would be too big.\n            boxSizing: 'border-box',\n            // We need to ensure the content doesn't get taller than the wrapper\n            maxHeight: '100%',\n            ...popperProps.style,\n          }}\n        />\n      </div>\n    </SelectViewportProvider>\n  );\n});\n\nSelectItemAlignedPosition.displayName = ITEM_ALIGNED_POSITION_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectPopperPosition\n * -----------------------------------------------------------------------------------------------*/\n\nconst POPPER_POSITION_NAME = 'SelectPopperPosition';\n\ntype SelectPopperPositionElement = React.ComponentRef<typeof PopperPrimitive.Content>;\ntype PopperContentProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Content>;\ninterface SelectPopperPositionProps extends PopperContentProps, SelectPopperPrivateProps {}\n\nconst SelectPopperPosition = React.forwardRef<\n  SelectPopperPositionElement,\n  SelectPopperPositionProps\n>((props: ScopedProps<SelectPopperPositionProps>, forwardedRef) => {\n  const {\n    __scopeSelect,\n    align = 'start',\n    collisionPadding = CONTENT_MARGIN,\n    ...popperProps\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n\n  return (\n    <PopperPrimitive.Content\n      {...popperScope}\n      {...popperProps}\n      ref={forwardedRef}\n      align={align}\n      collisionPadding={collisionPadding}\n      style={{\n        // Ensure border-box for floating-ui calculations\n        boxSizing: 'border-box',\n        ...popperProps.style,\n        // re-namespace exposed content custom properties\n        ...{\n          '--radix-select-content-transform-origin': 'var(--radix-popper-transform-origin)',\n          '--radix-select-content-available-width': 'var(--radix-popper-available-width)',\n          '--radix-select-content-available-height': 'var(--radix-popper-available-height)',\n          '--radix-select-trigger-width': 'var(--radix-popper-anchor-width)',\n          '--radix-select-trigger-height': 'var(--radix-popper-anchor-height)',\n        },\n      }}\n    />\n  );\n});\n\nSelectPopperPosition.displayName = POPPER_POSITION_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectViewport\n * -----------------------------------------------------------------------------------------------*/\n\ntype SelectViewportContextValue = {\n  contentWrapper?: HTMLDivElement | null;\n  shouldExpandOnScrollRef?: React.RefObject<boolean>;\n  onScrollButtonChange?: (node: SelectScrollButtonImplElement | null) => void;\n};\n\nconst [SelectViewportProvider, useSelectViewportContext] =\n  createSelectContext<SelectViewportContextValue>(CONTENT_NAME, {});\n\nconst VIEWPORT_NAME = 'SelectViewport';\n\ntype SelectViewportElement = React.ComponentRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface SelectViewportProps extends PrimitiveDivProps {\n  nonce?: string;\n}\n\nconst SelectViewport = React.forwardRef<SelectViewportElement, SelectViewportProps>(\n  (props: ScopedProps<SelectViewportProps>, forwardedRef) => {\n    const { __scopeSelect, nonce, ...viewportProps } = props;\n    const contentContext = useSelectContentContext(VIEWPORT_NAME, __scopeSelect);\n    const viewportContext = useSelectViewportContext(VIEWPORT_NAME, __scopeSelect);\n    const composedRefs = useComposedRefs(forwardedRef, contentContext.onViewportChange);\n    const prevScrollTopRef = React.useRef(0);\n    return (\n      <>\n        {/* Hide scrollbars cross-browser and enable momentum scroll for touch devices */}\n        <style\n          dangerouslySetInnerHTML={{\n            __html: `[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}`,\n          }}\n          nonce={nonce}\n        />\n        <Collection.Slot scope={__scopeSelect}>\n          <Primitive.div\n            data-radix-select-viewport=\"\"\n            role=\"presentation\"\n            {...viewportProps}\n            ref={composedRefs}\n            style={{\n              // we use position: 'relative' here on the `viewport` so that when we call\n              // `selectedItem.offsetTop` in calculations, the offset is relative to the viewport\n              // (independent of the scrollUpButton).\n              position: 'relative',\n              flex: 1,\n              // Viewport should only be scrollable in the vertical direction.\n              // This won't work in vertical writing modes, so we'll need to\n              // revisit this if/when that is supported\n              // https://developer.chrome.com/blog/vertical-form-controls\n              overflow: 'hidden auto',\n              ...viewportProps.style,\n            }}\n            onScroll={composeEventHandlers(viewportProps.onScroll, (event) => {\n              const viewport = event.currentTarget;\n              const { contentWrapper, shouldExpandOnScrollRef } = viewportContext;\n              if (shouldExpandOnScrollRef?.current && contentWrapper) {\n                const scrolledBy = Math.abs(prevScrollTopRef.current - viewport.scrollTop);\n                if (scrolledBy > 0) {\n                  const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n                  const cssMinHeight = parseFloat(contentWrapper.style.minHeight);\n                  const cssHeight = parseFloat(contentWrapper.style.height);\n                  const prevHeight = Math.max(cssMinHeight, cssHeight);\n\n                  if (prevHeight < availableHeight) {\n                    const nextHeight = prevHeight + scrolledBy;\n                    const clampedNextHeight = Math.min(availableHeight, nextHeight);\n                    const heightDiff = nextHeight - clampedNextHeight;\n\n                    contentWrapper.style.height = clampedNextHeight + 'px';\n                    if (contentWrapper.style.bottom === '0px') {\n                      viewport.scrollTop = heightDiff > 0 ? heightDiff : 0;\n                      // ensure the content stays pinned to the bottom\n                      contentWrapper.style.justifyContent = 'flex-end';\n                    }\n                  }\n                }\n              }\n              prevScrollTopRef.current = viewport.scrollTop;\n            })}\n          />\n        </Collection.Slot>\n      </>\n    );\n  }\n);\n\nSelectViewport.displayName = VIEWPORT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'SelectGroup';\n\ntype SelectGroupContextValue = { id: string };\n\nconst [SelectGroupContextProvider, useSelectGroupContext] =\n  createSelectContext<SelectGroupContextValue>(GROUP_NAME);\n\ntype SelectGroupElement = React.ComponentRef<typeof Primitive.div>;\ninterface SelectGroupProps extends PrimitiveDivProps {}\n\nconst SelectGroup = React.forwardRef<SelectGroupElement, SelectGroupProps>(\n  (props: ScopedProps<SelectGroupProps>, forwardedRef) => {\n    const { __scopeSelect, ...groupProps } = props;\n    const groupId = useId();\n    return (\n      <SelectGroupContextProvider scope={__scopeSelect} id={groupId}>\n        <Primitive.div role=\"group\" aria-labelledby={groupId} {...groupProps} ref={forwardedRef} />\n      </SelectGroupContextProvider>\n    );\n  }\n);\n\nSelectGroup.displayName = GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectLabel\n * -----------------------------------------------------------------------------------------------*/\n\nconst LABEL_NAME = 'SelectLabel';\n\ntype SelectLabelElement = React.ComponentRef<typeof Primitive.div>;\ninterface SelectLabelProps extends PrimitiveDivProps {}\n\nconst SelectLabel = React.forwardRef<SelectLabelElement, SelectLabelProps>(\n  (props: ScopedProps<SelectLabelProps>, forwardedRef) => {\n    const { __scopeSelect, ...labelProps } = props;\n    const groupContext = useSelectGroupContext(LABEL_NAME, __scopeSelect);\n    return <Primitive.div id={groupContext.id} {...labelProps} ref={forwardedRef} />;\n  }\n);\n\nSelectLabel.displayName = LABEL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'SelectItem';\n\ntype SelectItemContextValue = {\n  value: string;\n  disabled: boolean;\n  textId: string;\n  isSelected: boolean;\n  onItemTextChange(node: SelectItemTextElement | null): void;\n};\n\nconst [SelectItemContextProvider, useSelectItemContext] =\n  createSelectContext<SelectItemContextValue>(ITEM_NAME);\n\ntype SelectItemElement = React.ComponentRef<typeof Primitive.div>;\ninterface SelectItemProps extends PrimitiveDivProps {\n  value: string;\n  disabled?: boolean;\n  textValue?: string;\n}\n\nconst SelectItem = React.forwardRef<SelectItemElement, SelectItemProps>(\n  (props: ScopedProps<SelectItemProps>, forwardedRef) => {\n    const {\n      __scopeSelect,\n      value,\n      disabled = false,\n      textValue: textValueProp,\n      ...itemProps\n    } = props;\n    const context = useSelectContext(ITEM_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_NAME, __scopeSelect);\n    const isSelected = context.value === value;\n    const [textValue, setTextValue] = React.useState(textValueProp ?? '');\n    const [isFocused, setIsFocused] = React.useState(false);\n    const composedRefs = useComposedRefs(forwardedRef, (node) =>\n      contentContext.itemRefCallback?.(node, value, disabled)\n    );\n    const textId = useId();\n    const pointerTypeRef = React.useRef<React.PointerEvent['pointerType']>('touch');\n\n    const handleSelect = () => {\n      if (!disabled) {\n        context.onValueChange(value);\n        context.onOpenChange(false);\n      }\n    };\n\n    if (value === '') {\n      throw new Error(\n        'A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.'\n      );\n    }\n\n    return (\n      <SelectItemContextProvider\n        scope={__scopeSelect}\n        value={value}\n        disabled={disabled}\n        textId={textId}\n        isSelected={isSelected}\n        onItemTextChange={React.useCallback((node) => {\n          setTextValue((prevTextValue) => prevTextValue || (node?.textContent ?? '').trim());\n        }, [])}\n      >\n        <Collection.ItemSlot\n          scope={__scopeSelect}\n          value={value}\n          disabled={disabled}\n          textValue={textValue}\n        >\n          <Primitive.div\n            role=\"option\"\n            aria-labelledby={textId}\n            data-highlighted={isFocused ? '' : undefined}\n            // `isFocused` caveat fixes stuttering in VoiceOver\n            aria-selected={isSelected && isFocused}\n            data-state={isSelected ? 'checked' : 'unchecked'}\n            aria-disabled={disabled || undefined}\n            data-disabled={disabled ? '' : undefined}\n            tabIndex={disabled ? undefined : -1}\n            {...itemProps}\n            ref={composedRefs}\n            onFocus={composeEventHandlers(itemProps.onFocus, () => setIsFocused(true))}\n            onBlur={composeEventHandlers(itemProps.onBlur, () => setIsFocused(false))}\n            onClick={composeEventHandlers(itemProps.onClick, () => {\n              // Open on click when using a touch or pen device\n              if (pointerTypeRef.current !== 'mouse') handleSelect();\n            })}\n            onPointerUp={composeEventHandlers(itemProps.onPointerUp, () => {\n              // Using a mouse you should be able to do pointer down, move through\n              // the list, and release the pointer over the item to select it.\n              if (pointerTypeRef.current === 'mouse') handleSelect();\n            })}\n            onPointerDown={composeEventHandlers(itemProps.onPointerDown, (event) => {\n              pointerTypeRef.current = event.pointerType;\n            })}\n            onPointerMove={composeEventHandlers(itemProps.onPointerMove, (event) => {\n              // Remember pointer type when sliding over to this item from another one\n              pointerTypeRef.current = event.pointerType;\n              if (disabled) {\n                contentContext.onItemLeave?.();\n              } else if (pointerTypeRef.current === 'mouse') {\n                // even though safari doesn't support this option, it's acceptable\n                // as it only means it might scroll a few pixels when using the pointer.\n                event.currentTarget.focus({ preventScroll: true });\n              }\n            })}\n            onPointerLeave={composeEventHandlers(itemProps.onPointerLeave, (event) => {\n              if (event.currentTarget === document.activeElement) {\n                contentContext.onItemLeave?.();\n              }\n            })}\n            onKeyDown={composeEventHandlers(itemProps.onKeyDown, (event) => {\n              const isTypingAhead = contentContext.searchRef?.current !== '';\n              if (isTypingAhead && event.key === ' ') return;\n              if (SELECTION_KEYS.includes(event.key)) handleSelect();\n              // prevent page scroll if using the space key to select an item\n              if (event.key === ' ') event.preventDefault();\n            })}\n          />\n        </Collection.ItemSlot>\n      </SelectItemContextProvider>\n    );\n  }\n);\n\nSelectItem.displayName = ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectItemText\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_TEXT_NAME = 'SelectItemText';\n\ntype SelectItemTextElement = React.ComponentRef<typeof Primitive.span>;\ninterface SelectItemTextProps extends PrimitiveSpanProps {}\n\nconst SelectItemText = React.forwardRef<SelectItemTextElement, SelectItemTextProps>(\n  (props: ScopedProps<SelectItemTextProps>, forwardedRef) => {\n    // We ignore `className` and `style` as this part shouldn't be styled.\n    const { __scopeSelect, className, style, ...itemTextProps } = props;\n    const context = useSelectContext(ITEM_TEXT_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_TEXT_NAME, __scopeSelect);\n    const itemContext = useSelectItemContext(ITEM_TEXT_NAME, __scopeSelect);\n    const nativeOptionsContext = useSelectNativeOptionsContext(ITEM_TEXT_NAME, __scopeSelect);\n    const [itemTextNode, setItemTextNode] = React.useState<SelectItemTextElement | null>(null);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => setItemTextNode(node),\n      itemContext.onItemTextChange,\n      (node) => contentContext.itemTextRefCallback?.(node, itemContext.value, itemContext.disabled)\n    );\n\n    const textContent = itemTextNode?.textContent;\n    const nativeOption = React.useMemo(\n      () => (\n        <option key={itemContext.value} value={itemContext.value} disabled={itemContext.disabled}>\n          {textContent}\n        </option>\n      ),\n      [itemContext.disabled, itemContext.value, textContent]\n    );\n\n    const { onNativeOptionAdd, onNativeOptionRemove } = nativeOptionsContext;\n    useLayoutEffect(() => {\n      onNativeOptionAdd(nativeOption);\n      return () => onNativeOptionRemove(nativeOption);\n    }, [onNativeOptionAdd, onNativeOptionRemove, nativeOption]);\n\n    return (\n      <>\n        <Primitive.span id={itemContext.textId} {...itemTextProps} ref={composedRefs} />\n\n        {/* Portal the select item text into the trigger value node */}\n        {itemContext.isSelected && context.valueNode && !context.valueNodeHasChildren\n          ? ReactDOM.createPortal(itemTextProps.children, context.valueNode)\n          : null}\n      </>\n    );\n  }\n);\n\nSelectItemText.displayName = ITEM_TEXT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectItemIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_INDICATOR_NAME = 'SelectItemIndicator';\n\ntype SelectItemIndicatorElement = React.ComponentRef<typeof Primitive.span>;\ninterface SelectItemIndicatorProps extends PrimitiveSpanProps {}\n\nconst SelectItemIndicator = React.forwardRef<SelectItemIndicatorElement, SelectItemIndicatorProps>(\n  (props: ScopedProps<SelectItemIndicatorProps>, forwardedRef) => {\n    const { __scopeSelect, ...itemIndicatorProps } = props;\n    const itemContext = useSelectItemContext(ITEM_INDICATOR_NAME, __scopeSelect);\n    return itemContext.isSelected ? (\n      <Primitive.span aria-hidden {...itemIndicatorProps} ref={forwardedRef} />\n    ) : null;\n  }\n);\n\nSelectItemIndicator.displayName = ITEM_INDICATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectScrollUpButton\n * -----------------------------------------------------------------------------------------------*/\n\nconst SCROLL_UP_BUTTON_NAME = 'SelectScrollUpButton';\n\ntype SelectScrollUpButtonElement = SelectScrollButtonImplElement;\ninterface SelectScrollUpButtonProps extends Omit<SelectScrollButtonImplProps, 'onAutoScroll'> {}\n\nconst SelectScrollUpButton = React.forwardRef<\n  SelectScrollUpButtonElement,\n  SelectScrollUpButtonProps\n>((props: ScopedProps<SelectScrollUpButtonProps>, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollUp, setCanScrollUp] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      const viewport = contentContext.viewport;\n      function handleScroll() {\n        const canScrollUp = viewport.scrollTop > 0;\n        setCanScrollUp(canScrollUp);\n      }\n      handleScroll();\n      viewport.addEventListener('scroll', handleScroll);\n      return () => viewport.removeEventListener('scroll', handleScroll);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n\n  return canScrollUp ? (\n    <SelectScrollButtonImpl\n      {...props}\n      ref={composedRefs}\n      onAutoScroll={() => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop - selectedItem.offsetHeight;\n        }\n      }}\n    />\n  ) : null;\n});\n\nSelectScrollUpButton.displayName = SCROLL_UP_BUTTON_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectScrollDownButton\n * -----------------------------------------------------------------------------------------------*/\n\nconst SCROLL_DOWN_BUTTON_NAME = 'SelectScrollDownButton';\n\ntype SelectScrollDownButtonElement = SelectScrollButtonImplElement;\ninterface SelectScrollDownButtonProps extends Omit<SelectScrollButtonImplProps, 'onAutoScroll'> {}\n\nconst SelectScrollDownButton = React.forwardRef<\n  SelectScrollDownButtonElement,\n  SelectScrollDownButtonProps\n>((props: ScopedProps<SelectScrollDownButtonProps>, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollDown, setCanScrollDown] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      const viewport = contentContext.viewport;\n      function handleScroll() {\n        const maxScroll = viewport.scrollHeight - viewport.clientHeight;\n        // we use Math.ceil here because if the UI is zoomed-in\n        // `scrollTop` is not always reported as an integer\n        const canScrollDown = Math.ceil(viewport.scrollTop) < maxScroll;\n        setCanScrollDown(canScrollDown);\n      }\n      handleScroll();\n      viewport.addEventListener('scroll', handleScroll);\n      return () => viewport.removeEventListener('scroll', handleScroll);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n\n  return canScrollDown ? (\n    <SelectScrollButtonImpl\n      {...props}\n      ref={composedRefs}\n      onAutoScroll={() => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop + selectedItem.offsetHeight;\n        }\n      }}\n    />\n  ) : null;\n});\n\nSelectScrollDownButton.displayName = SCROLL_DOWN_BUTTON_NAME;\n\ntype SelectScrollButtonImplElement = React.ComponentRef<typeof Primitive.div>;\ninterface SelectScrollButtonImplProps extends PrimitiveDivProps {\n  onAutoScroll(): void;\n}\n\nconst SelectScrollButtonImpl = React.forwardRef<\n  SelectScrollButtonImplElement,\n  SelectScrollButtonImplProps\n>((props: ScopedProps<SelectScrollButtonImplProps>, forwardedRef) => {\n  const { __scopeSelect, onAutoScroll, ...scrollIndicatorProps } = props;\n  const contentContext = useSelectContentContext('SelectScrollButton', __scopeSelect);\n  const autoScrollTimerRef = React.useRef<number | null>(null);\n  const getItems = useCollection(__scopeSelect);\n\n  const clearAutoScrollTimer = React.useCallback(() => {\n    if (autoScrollTimerRef.current !== null) {\n      window.clearInterval(autoScrollTimerRef.current);\n      autoScrollTimerRef.current = null;\n    }\n  }, []);\n\n  React.useEffect(() => {\n    return () => clearAutoScrollTimer();\n  }, [clearAutoScrollTimer]);\n\n  // When the viewport becomes scrollable on either side, the relevant scroll button will mount.\n  // Because it is part of the normal flow, it will push down (top button) or shrink (bottom button)\n  // the viewport, potentially causing the active item to now be partially out of view.\n  // We re-run the `scrollIntoView` logic to make sure it stays within the viewport.\n  useLayoutEffect(() => {\n    const activeItem = getItems().find((item) => item.ref.current === document.activeElement);\n    activeItem?.ref.current?.scrollIntoView({ block: 'nearest' });\n  }, [getItems]);\n\n  return (\n    <Primitive.div\n      aria-hidden\n      {...scrollIndicatorProps}\n      ref={forwardedRef}\n      style={{ flexShrink: 0, ...scrollIndicatorProps.style }}\n      onPointerDown={composeEventHandlers(scrollIndicatorProps.onPointerDown, () => {\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      })}\n      onPointerMove={composeEventHandlers(scrollIndicatorProps.onPointerMove, () => {\n        contentContext.onItemLeave?.();\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      })}\n      onPointerLeave={composeEventHandlers(scrollIndicatorProps.onPointerLeave, () => {\n        clearAutoScrollTimer();\n      })}\n    />\n  );\n});\n\n/* -------------------------------------------------------------------------------------------------\n * SelectSeparator\n * -----------------------------------------------------------------------------------------------*/\n\nconst SEPARATOR_NAME = 'SelectSeparator';\n\ntype SelectSeparatorElement = React.ComponentRef<typeof Primitive.div>;\ninterface SelectSeparatorProps extends PrimitiveDivProps {}\n\nconst SelectSeparator = React.forwardRef<SelectSeparatorElement, SelectSeparatorProps>(\n  (props: ScopedProps<SelectSeparatorProps>, forwardedRef) => {\n    const { __scopeSelect, ...separatorProps } = props;\n    return <Primitive.div aria-hidden {...separatorProps} ref={forwardedRef} />;\n  }\n);\n\nSelectSeparator.displayName = SEPARATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'SelectArrow';\n\ntype SelectArrowElement = React.ComponentRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>;\ninterface SelectArrowProps extends PopperArrowProps {}\n\nconst SelectArrow = React.forwardRef<SelectArrowElement, SelectArrowProps>(\n  (props: ScopedProps<SelectArrowProps>, forwardedRef) => {\n    const { __scopeSelect, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(ARROW_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ARROW_NAME, __scopeSelect);\n    return context.open && contentContext.position === 'popper' ? (\n      <PopperPrimitive.Arrow {...popperScope} {...arrowProps} ref={forwardedRef} />\n    ) : null;\n  }\n);\n\nSelectArrow.displayName = ARROW_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectBubbleInput\n * -----------------------------------------------------------------------------------------------*/\n\nconst BUBBLE_INPUT_NAME = 'SelectBubbleInput';\n\ntype InputProps = React.ComponentPropsWithoutRef<typeof Primitive.select>;\ninterface SwitchBubbleInputProps extends InputProps {}\n\nconst SelectBubbleInput = React.forwardRef<HTMLSelectElement, SwitchBubbleInputProps>(\n  ({ __scopeSelect, value, ...props }: ScopedProps<SwitchBubbleInputProps>, forwardedRef) => {\n    const ref = React.useRef<HTMLSelectElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const prevValue = usePrevious(value);\n\n    // Bubble value change to parents (e.g form change event)\n    React.useEffect(() => {\n      const select = ref.current;\n      if (!select) return;\n\n      const selectProto = window.HTMLSelectElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        selectProto,\n        'value'\n      ) as PropertyDescriptor;\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event('change', { bubbles: true });\n        setValue.call(select, value);\n        select.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n\n    /**\n     * We purposefully use a `select` here to support form autofill as much as\n     * possible.\n     *\n     * We purposefully do not add the `value` attribute here to allow the value\n     * to be set programmatically and bubble to any parent form `onChange`\n     * event. Adding the `value` will cause React to consider the programmatic\n     * dispatch a duplicate and it will get swallowed.\n     *\n     * We use visually hidden styles rather than `display: \"none\"` because\n     * Safari autofill won't work otherwise.\n     */\n    return (\n      <Primitive.select\n        {...props}\n        style={{ ...VISUALLY_HIDDEN_STYLES, ...props.style }}\n        ref={composedRefs}\n        defaultValue={value}\n      />\n    );\n  }\n);\n\nSelectBubbleInput.displayName = BUBBLE_INPUT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction shouldShowPlaceholder(value?: string) {\n  return value === '' || value === undefined;\n}\n\nfunction useTypeaheadSearch(onSearchChange: (search: string) => void) {\n  const handleSearchChange = useCallbackRef(onSearchChange);\n  const searchRef = React.useRef('');\n  const timerRef = React.useRef(0);\n\n  const handleTypeaheadSearch = React.useCallback(\n    (key: string) => {\n      const search = searchRef.current + key;\n      handleSearchChange(search);\n\n      (function updateSearch(value: string) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        // Reset `searchRef` 1 second after it was last updated\n        if (value !== '') timerRef.current = window.setTimeout(() => updateSearch(''), 1000);\n      })(search);\n    },\n    [handleSearchChange]\n  );\n\n  const resetTypeahead = React.useCallback(() => {\n    searchRef.current = '';\n    window.clearTimeout(timerRef.current);\n  }, []);\n\n  React.useEffect(() => {\n    return () => window.clearTimeout(timerRef.current);\n  }, []);\n\n  return [searchRef, handleTypeaheadSearch, resetTypeahead] as const;\n}\n\n/**\n * This is the \"meat\" of the typeahead matching logic. It takes in a list of items,\n * the search and the current item, and returns the next item (or `undefined`).\n *\n * We normalize the search because if a user has repeatedly pressed a character,\n * we want the exact same behavior as if we only had that one character\n * (ie. cycle through items starting with that character)\n *\n * We also reorder the items by wrapping the array around the current item.\n * This is so we always look forward from the current item, and picking the first\n * item will always be the correct one.\n *\n * Finally, if the normalized search is exactly one character, we exclude the\n * current item from the values because otherwise it would be the first to match always\n * and focus would never move. This is as opposed to the regular case, where we\n * don't want focus to move if the current item still matches.\n */\nfunction findNextItem<T extends { textValue: string }>(\n  items: T[],\n  search: string,\n  currentItem?: T\n) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0]! : search;\n  const currentItemIndex = currentItem ? items.indexOf(currentItem) : -1;\n  let wrappedItems = wrapArray(items, Math.max(currentItemIndex, 0));\n  const excludeCurrentItem = normalizedSearch.length === 1;\n  if (excludeCurrentItem) wrappedItems = wrappedItems.filter((v) => v !== currentItem);\n  const nextItem = wrappedItems.find((item) =>\n    item.textValue.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextItem !== currentItem ? nextItem : undefined;\n}\n\n/**\n * Wraps an array around itself at a given start index\n * Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n */\nfunction wrapArray<T>(array: T[], startIndex: number) {\n  return array.map<T>((_, index) => array[(startIndex + index) % array.length]!);\n}\n\nconst Root = Select;\nconst Trigger = SelectTrigger;\nconst Value = SelectValue;\nconst Icon = SelectIcon;\nconst Portal = SelectPortal;\nconst Content = SelectContent;\nconst Viewport = SelectViewport;\nconst Group = SelectGroup;\nconst Label = SelectLabel;\nconst Item = SelectItem;\nconst ItemText = SelectItemText;\nconst ItemIndicator = SelectItemIndicator;\nconst ScrollUpButton = SelectScrollUpButton;\nconst ScrollDownButton = SelectScrollDownButton;\nconst Separator = SelectSeparator;\nconst Arrow = SelectArrow;\n\nexport {\n  createSelectScope,\n  //\n  Select,\n  SelectTrigger,\n  SelectValue,\n  SelectIcon,\n  SelectPortal,\n  SelectContent,\n  SelectViewport,\n  SelectGroup,\n  SelectLabel,\n  SelectItem,\n  SelectItemText,\n  SelectItemIndicator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n  SelectSeparator,\n  SelectArrow,\n  //\n  Root,\n  Trigger,\n  Value,\n  Icon,\n  Portal,\n  Content,\n  Viewport,\n  Group,\n  Label,\n  Item,\n  ItemText,\n  ItemIndicator,\n  ScrollUpButton,\n  ScrollDownButton,\n  Separator,\n  Arrow,\n};\nexport type {\n  SelectProps,\n  SelectTriggerProps,\n  SelectValueProps,\n  SelectIconProps,\n  SelectPortalProps,\n  SelectContentProps,\n  SelectViewportProps,\n  SelectGroupProps,\n  SelectLabelProps,\n  SelectItemProps,\n  SelectItemTextProps,\n  SelectItemIndicatorProps,\n  SelectScrollUpButtonProps,\n  SelectScrollDownButtonProps,\n  SelectSeparatorProps,\n  SelectArrowProps,\n};\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm16 17 5-5-5-5', key: '1bji2h' }],\n  ['path', { d: 'M21 12H9', key: 'dn1m92' }],\n  ['path', { d: 'M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4', key: '1uf3rs' }],\n];\n\n/**\n * @component @name LogOut\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMTcgNS01LTUtNSIgLz4KICA8cGF0aCBkPSJNMjEgMTJIOSIgLz4KICA8cGF0aCBkPSJNOSAyMUg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/log-out\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LogOut = createLucideIcon('log-out', __iconNode);\n\nexport default LogOut;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n  ['line', { x1: '21', x2: '16.65', y1: '21', y2: '16.65', key: '13gj7c' }],\n  ['line', { x1: '8', x2: '14', y1: '11', y2: '11', key: 'durymu' }],\n];\n\n/**\n * @component @name ZoomOut\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxsaW5lIHgxPSIyMSIgeDI9IjE2LjY1IiB5MT0iMjEiIHkyPSIxNi42NSIgLz4KICA8bGluZSB4MT0iOCIgeDI9IjE0IiB5MT0iMTEiIHkyPSIxMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/zoom-out\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ZoomOut = createLucideIcon('zoom-out', __iconNode);\n\nexport default ZoomOut;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8', key: '1p45f6' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n];\n\n/**\n * @component @name RotateCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTktOWMyLjUyIDAgNC45MyAxIDYuNzQgMi43NEwyMSA4IiAvPgogIDxwYXRoIGQ9Ik0yMSAzdjVoLTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/rotate-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RotateCw = createLucideIcon('rotate-cw', __iconNode);\n\nexport default RotateCw;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n  ['path', { d: 'M8 14h.01', key: '6423bh' }],\n  ['path', { d: 'M12 14h.01', key: '1etili' }],\n  ['path', { d: 'M16 14h.01', key: '1gbofw' }],\n  ['path', { d: 'M8 18h.01', key: 'lrp35t' }],\n  ['path', { d: 'M12 18h.01', key: 'mhygvu' }],\n  ['path', { d: 'M16 18h.01', key: 'kzsmim' }],\n];\n\n/**\n * @component @name CalendarDays\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgogIDxwYXRoIGQ9Ik04IDE0aC4wMSIgLz4KICA8cGF0aCBkPSJNMTIgMTRoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xNiAxNGguMDEiIC8+CiAgPHBhdGggZD0iTTggMThoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xMiAxOGguMDEiIC8+CiAgPHBhdGggZD0iTTE2IDE4aC4wMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/calendar-days\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CalendarDays = createLucideIcon('calendar-days', __iconNode);\n\nexport default CalendarDays;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n  ['line', { x1: '21', x2: '16.65', y1: '21', y2: '16.65', key: '13gj7c' }],\n  ['line', { x1: '11', x2: '11', y1: '8', y2: '14', key: '1vmskp' }],\n  ['line', { x1: '8', x2: '14', y1: '11', y2: '11', key: 'durymu' }],\n];\n\n/**\n * @component @name ZoomIn\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxsaW5lIHgxPSIyMSIgeDI9IjE2LjY1IiB5MT0iMjEiIHkyPSIxNi42NSIgLz4KICA8bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIgLz4KICA8bGluZSB4MT0iOCIgeDI9IjE0IiB5MT0iMTEiIHkyPSIxMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/zoom-in\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ZoomIn = createLucideIcon('zoom-in', __iconNode);\n\nexport default ZoomIn;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '4', key: '4exip2' }],\n  ['path', { d: 'M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8', key: '7n84p3' }],\n];\n\n/**\n * @component @name AtSign\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI0IiAvPgogIDxwYXRoIGQ9Ik0xNiA4djVhMyAzIDAgMCAwIDYgMHYtMWExMCAxMCAwIDEgMC00IDgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/at-sign\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst AtSign = createLucideIcon('at-sign', __iconNode);\n\nexport default AtSign;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M14 17H5', key: 'gfn3mx' }],\n  ['path', { d: 'M19 7h-9', key: '6i9tg' }],\n  ['circle', { cx: '17', cy: '17', r: '3', key: '18b49y' }],\n  ['circle', { cx: '7', cy: '7', r: '3', key: 'dfmy0x' }],\n];\n\n/**\n * @component @name Settings2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQgMTdINSIgLz4KICA8cGF0aCBkPSJNMTkgN2gtOSIgLz4KICA8Y2lyY2xlIGN4PSIxNyIgY3k9IjE3IiByPSIzIiAvPgogIDxjaXJjbGUgY3g9IjciIGN5PSI3IiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/settings-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings2 = createLucideIcon('settings-2', __iconNode);\n\nexport default Settings2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z',\n      key: '18u6gg',\n    },\n  ],\n  ['circle', { cx: '12', cy: '13', r: '3', key: '1vg3eu' }],\n];\n\n/**\n * @component @name Camera\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMuOTk3IDRhMiAyIDAgMCAxIDEuNzYgMS4wNWwuNDg2LjlBMiAyIDAgMCAwIDE4LjAwMyA3SDIwYTIgMiAwIDAgMSAyIDJ2OWEyIDIgMCAwIDEtMiAySDRhMiAyIDAgMCAxLTItMlY5YTIgMiAwIDAgMSAyLTJoMS45OTdhMiAyIDAgMCAwIDEuNzU5LTEuMDQ4bC40ODktLjkwNEEyIDIgMCAwIDEgMTAuMDA0IDR6IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTMiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/camera\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Camera = createLucideIcon('camera', __iconNode);\n\nexport default Camera;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915',\n      key: '1i5ecw',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Settings\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOS42NzEgNC4xMzZhMi4zNCAyLjM0IDAgMCAxIDQuNjU5IDAgMi4zNCAyLjM0IDAgMCAwIDMuMzE5IDEuOTE1IDIuMzQgMi4zNCAwIDAgMSAyLjMzIDQuMDMzIDIuMzQgMi4zNCAwIDAgMCAwIDMuODMxIDIuMzQgMi4zNCAwIDAgMS0yLjMzIDQuMDMzIDIuMzQgMi4zNCAwIDAgMC0zLjMxOSAxLjkxNSAyLjM0IDIuMzQgMCAwIDEtNC42NTkgMCAyLjM0IDIuMzQgMCAwIDAtMy4zMi0xLjkxNSAyLjM0IDIuMzQgMCAwIDEtMi4zMy00LjAzMyAyLjM0IDIuMzQgMCAwIDAgMC0zLjgzMUEyLjM0IDIuMzQgMCAwIDEgNi4zNSA2LjA1MWEyLjM0IDIuMzQgMCAwIDAgMy4zMTktMS45MTUiIC8+CiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/settings\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings = createLucideIcon('settings', __iconNode);\n\nexport default Settings;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M13 21h8', key: '1jsn5i' }],\n  [\n    'path',\n    {\n      d: 'M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z',\n      key: '1a8usu',\n    },\n  ],\n];\n\n/**\n * @component @name PenLine\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMgMjFoOCIgLz4KICA8cGF0aCBkPSJNMjEuMTc0IDYuODEyYTEgMSAwIDAgMC0zLjk4Ni0zLjk4N0wzLjg0MiAxNi4xNzRhMiAyIDAgMCAwLS41LjgzbC0xLjMyMSA0LjM1MmEuNS41IDAgMCAwIC42MjMuNjIybDQuMzUzLTEuMzJhMiAyIDAgMCAwIC44My0uNDk3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-line\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenLine = createLucideIcon('pen-line', __iconNode);\n\nexport default PenLine;\n","import * as React from 'react';\nimport { clamp } from '@radix-ui/number';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { useSize } from '@radix-ui/react-use-size';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { createCollection } from '@radix-ui/react-collection';\n\nimport type { Scope } from '@radix-ui/react-context';\n\ntype Direction = 'ltr' | 'rtl';\n\nconst PAGE_KEYS = ['PageUp', 'PageDown'];\nconst ARROW_KEYS = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'];\n\ntype SlideDirection = 'from-left' | 'from-right' | 'from-bottom' | 'from-top';\nconst BACK_KEYS: Record<SlideDirection, string[]> = {\n  'from-left': ['Home', 'PageDown', 'ArrowDown', 'ArrowLeft'],\n  'from-right': ['Home', 'PageDown', 'ArrowDown', 'ArrowRight'],\n  'from-bottom': ['Home', 'PageDown', 'ArrowDown', 'ArrowLeft'],\n  'from-top': ['Home', 'PageDown', 'ArrowUp', 'ArrowLeft'],\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Slider\n * -----------------------------------------------------------------------------------------------*/\n\nconst SLIDER_NAME = 'Slider';\n\nconst [Collection, useCollection, createCollectionScope] =\n  createCollection<SliderThumbElement>(SLIDER_NAME);\n\ntype ScopedProps<P> = P & { __scopeSlider?: Scope };\nconst [createSliderContext, createSliderScope] = createContextScope(SLIDER_NAME, [\n  createCollectionScope,\n]);\n\ntype SliderContextValue = {\n  name: string | undefined;\n  disabled: boolean | undefined;\n  min: number;\n  max: number;\n  values: number[];\n  valueIndexToChangeRef: React.MutableRefObject<number>;\n  thumbs: Set<SliderThumbElement>;\n  orientation: SliderProps['orientation'];\n  form: string | undefined;\n};\n\nconst [SliderProvider, useSliderContext] = createSliderContext<SliderContextValue>(SLIDER_NAME);\n\ntype SliderElement = SliderHorizontalElement | SliderVerticalElement;\ninterface SliderProps\n  extends Omit<\n    SliderHorizontalProps | SliderVerticalProps,\n    keyof SliderOrientationPrivateProps | 'defaultValue'\n  > {\n  name?: string;\n  disabled?: boolean;\n  orientation?: React.AriaAttributes['aria-orientation'];\n  dir?: Direction;\n  min?: number;\n  max?: number;\n  step?: number;\n  minStepsBetweenThumbs?: number;\n  value?: number[];\n  defaultValue?: number[];\n  onValueChange?(value: number[]): void;\n  onValueCommit?(value: number[]): void;\n  inverted?: boolean;\n  form?: string;\n}\n\nconst Slider = React.forwardRef<SliderElement, SliderProps>(\n  (props: ScopedProps<SliderProps>, forwardedRef) => {\n    const {\n      name,\n      min = 0,\n      max = 100,\n      step = 1,\n      orientation = 'horizontal',\n      disabled = false,\n      minStepsBetweenThumbs = 0,\n      defaultValue = [min],\n      value,\n      onValueChange = () => {},\n      onValueCommit = () => {},\n      inverted = false,\n      form,\n      ...sliderProps\n    } = props;\n    const thumbRefs = React.useRef<SliderContextValue['thumbs']>(new Set());\n    const valueIndexToChangeRef = React.useRef<number>(0);\n    const isHorizontal = orientation === 'horizontal';\n    const SliderOrientation = isHorizontal ? SliderHorizontal : SliderVertical;\n\n    const [values = [], setValues] = useControllableState({\n      prop: value,\n      defaultProp: defaultValue,\n      onChange: (value) => {\n        const thumbs = [...thumbRefs.current];\n        thumbs[valueIndexToChangeRef.current]?.focus();\n        onValueChange(value);\n      },\n    });\n    const valuesBeforeSlideStartRef = React.useRef(values);\n\n    function handleSlideStart(value: number) {\n      const closestIndex = getClosestValueIndex(values, value);\n      updateValues(value, closestIndex);\n    }\n\n    function handleSlideMove(value: number) {\n      updateValues(value, valueIndexToChangeRef.current);\n    }\n\n    function handleSlideEnd() {\n      const prevValue = valuesBeforeSlideStartRef.current[valueIndexToChangeRef.current];\n      const nextValue = values[valueIndexToChangeRef.current];\n      const hasChanged = nextValue !== prevValue;\n      if (hasChanged) onValueCommit(values);\n    }\n\n    function updateValues(value: number, atIndex: number, { commit } = { commit: false }) {\n      const decimalCount = getDecimalCount(step);\n      const snapToStep = roundValue(Math.round((value - min) / step) * step + min, decimalCount);\n      const nextValue = clamp(snapToStep, [min, max]);\n\n      setValues((prevValues = []) => {\n        const nextValues = getNextSortedValues(prevValues, nextValue, atIndex);\n        if (hasMinStepsBetweenValues(nextValues, minStepsBetweenThumbs * step)) {\n          valueIndexToChangeRef.current = nextValues.indexOf(nextValue);\n          const hasChanged = String(nextValues) !== String(prevValues);\n          if (hasChanged && commit) onValueCommit(nextValues);\n          return hasChanged ? nextValues : prevValues;\n        } else {\n          return prevValues;\n        }\n      });\n    }\n\n    return (\n      <SliderProvider\n        scope={props.__scopeSlider}\n        name={name}\n        disabled={disabled}\n        min={min}\n        max={max}\n        valueIndexToChangeRef={valueIndexToChangeRef}\n        thumbs={thumbRefs.current}\n        values={values}\n        orientation={orientation}\n        form={form}\n      >\n        <Collection.Provider scope={props.__scopeSlider}>\n          <Collection.Slot scope={props.__scopeSlider}>\n            <SliderOrientation\n              aria-disabled={disabled}\n              data-disabled={disabled ? '' : undefined}\n              {...sliderProps}\n              ref={forwardedRef}\n              onPointerDown={composeEventHandlers(sliderProps.onPointerDown, () => {\n                if (!disabled) valuesBeforeSlideStartRef.current = values;\n              })}\n              min={min}\n              max={max}\n              inverted={inverted}\n              onSlideStart={disabled ? undefined : handleSlideStart}\n              onSlideMove={disabled ? undefined : handleSlideMove}\n              onSlideEnd={disabled ? undefined : handleSlideEnd}\n              onHomeKeyDown={() => !disabled && updateValues(min, 0, { commit: true })}\n              onEndKeyDown={() =>\n                !disabled && updateValues(max, values.length - 1, { commit: true })\n              }\n              onStepKeyDown={({ event, direction: stepDirection }) => {\n                if (!disabled) {\n                  const isPageKey = PAGE_KEYS.includes(event.key);\n                  const isSkipKey = isPageKey || (event.shiftKey && ARROW_KEYS.includes(event.key));\n                  const multiplier = isSkipKey ? 10 : 1;\n                  const atIndex = valueIndexToChangeRef.current;\n                  const value = values[atIndex]!;\n                  const stepInDirection = step * multiplier * stepDirection;\n                  updateValues(value + stepInDirection, atIndex, { commit: true });\n                }\n              }}\n            />\n          </Collection.Slot>\n        </Collection.Provider>\n      </SliderProvider>\n    );\n  }\n);\n\nSlider.displayName = SLIDER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderHorizontal\n * -----------------------------------------------------------------------------------------------*/\n\ntype Side = 'top' | 'right' | 'bottom' | 'left';\n\nconst [SliderOrientationProvider, useSliderOrientationContext] = createSliderContext<{\n  startEdge: Side;\n  endEdge: Side;\n  size: keyof NonNullable<ReturnType<typeof useSize>>;\n  direction: number;\n}>(SLIDER_NAME, {\n  startEdge: 'left',\n  endEdge: 'right',\n  size: 'width',\n  direction: 1,\n});\n\ntype SliderOrientationPrivateProps = {\n  min: number;\n  max: number;\n  inverted: boolean;\n  onSlideStart?(value: number): void;\n  onSlideMove?(value: number): void;\n  onSlideEnd?(): void;\n  onHomeKeyDown(event: React.KeyboardEvent): void;\n  onEndKeyDown(event: React.KeyboardEvent): void;\n  onStepKeyDown(step: { event: React.KeyboardEvent; direction: number }): void;\n};\ninterface SliderOrientationProps\n  extends Omit<SliderImplProps, keyof SliderImplPrivateProps>,\n    SliderOrientationPrivateProps {}\n\ntype SliderHorizontalElement = SliderImplElement;\ninterface SliderHorizontalProps extends SliderOrientationProps {\n  dir?: Direction;\n}\n\nconst SliderHorizontal = React.forwardRef<SliderHorizontalElement, SliderHorizontalProps>(\n  (props: ScopedProps<SliderHorizontalProps>, forwardedRef) => {\n    const {\n      min,\n      max,\n      dir,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const [slider, setSlider] = React.useState<SliderImplElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setSlider(node));\n    const rectRef = React.useRef<DOMRect>(undefined);\n    const direction = useDirection(dir);\n    const isDirectionLTR = direction === 'ltr';\n    const isSlidingFromLeft = (isDirectionLTR && !inverted) || (!isDirectionLTR && inverted);\n\n    function getValueFromPointer(pointerPosition: number) {\n      const rect = rectRef.current || slider!.getBoundingClientRect();\n      const input: [number, number] = [0, rect.width];\n      const output: [number, number] = isSlidingFromLeft ? [min, max] : [max, min];\n      const value = linearScale(input, output);\n\n      rectRef.current = rect;\n      return value(pointerPosition - rect.left);\n    }\n\n    return (\n      <SliderOrientationProvider\n        scope={props.__scopeSlider}\n        startEdge={isSlidingFromLeft ? 'left' : 'right'}\n        endEdge={isSlidingFromLeft ? 'right' : 'left'}\n        direction={isSlidingFromLeft ? 1 : -1}\n        size=\"width\"\n      >\n        <SliderImpl\n          dir={direction}\n          data-orientation=\"horizontal\"\n          {...sliderProps}\n          ref={composedRefs}\n          style={{\n            ...sliderProps.style,\n            ['--radix-slider-thumb-transform' as any]: 'translateX(-50%)',\n          }}\n          onSlideStart={(event) => {\n            const value = getValueFromPointer(event.clientX);\n            onSlideStart?.(value);\n          }}\n          onSlideMove={(event) => {\n            const value = getValueFromPointer(event.clientX);\n            onSlideMove?.(value);\n          }}\n          onSlideEnd={() => {\n            rectRef.current = undefined;\n            onSlideEnd?.();\n          }}\n          onStepKeyDown={(event) => {\n            const slideDirection = isSlidingFromLeft ? 'from-left' : 'from-right';\n            const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n            onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n          }}\n        />\n      </SliderOrientationProvider>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * SliderVertical\n * -----------------------------------------------------------------------------------------------*/\n\ntype SliderVerticalElement = SliderImplElement;\ninterface SliderVerticalProps extends SliderOrientationProps {}\n\nconst SliderVertical = React.forwardRef<SliderVerticalElement, SliderVerticalProps>(\n  (props: ScopedProps<SliderVerticalProps>, forwardedRef) => {\n    const {\n      min,\n      max,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const sliderRef = React.useRef<SliderImplElement>(null);\n    const ref = useComposedRefs(forwardedRef, sliderRef);\n    const rectRef = React.useRef<DOMRect>(undefined);\n    const isSlidingFromBottom = !inverted;\n\n    function getValueFromPointer(pointerPosition: number) {\n      const rect = rectRef.current || sliderRef.current!.getBoundingClientRect();\n      const input: [number, number] = [0, rect.height];\n      const output: [number, number] = isSlidingFromBottom ? [max, min] : [min, max];\n      const value = linearScale(input, output);\n\n      rectRef.current = rect;\n      return value(pointerPosition - rect.top);\n    }\n\n    return (\n      <SliderOrientationProvider\n        scope={props.__scopeSlider}\n        startEdge={isSlidingFromBottom ? 'bottom' : 'top'}\n        endEdge={isSlidingFromBottom ? 'top' : 'bottom'}\n        size=\"height\"\n        direction={isSlidingFromBottom ? 1 : -1}\n      >\n        <SliderImpl\n          data-orientation=\"vertical\"\n          {...sliderProps}\n          ref={ref}\n          style={{\n            ...sliderProps.style,\n            ['--radix-slider-thumb-transform' as any]: 'translateY(50%)',\n          }}\n          onSlideStart={(event) => {\n            const value = getValueFromPointer(event.clientY);\n            onSlideStart?.(value);\n          }}\n          onSlideMove={(event) => {\n            const value = getValueFromPointer(event.clientY);\n            onSlideMove?.(value);\n          }}\n          onSlideEnd={() => {\n            rectRef.current = undefined;\n            onSlideEnd?.();\n          }}\n          onStepKeyDown={(event) => {\n            const slideDirection = isSlidingFromBottom ? 'from-bottom' : 'from-top';\n            const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n            onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n          }}\n        />\n      </SliderOrientationProvider>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * SliderImpl\n * -----------------------------------------------------------------------------------------------*/\n\ntype SliderImplElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ntype SliderImplPrivateProps = {\n  onSlideStart(event: React.PointerEvent): void;\n  onSlideMove(event: React.PointerEvent): void;\n  onSlideEnd(event: React.PointerEvent): void;\n  onHomeKeyDown(event: React.KeyboardEvent): void;\n  onEndKeyDown(event: React.KeyboardEvent): void;\n  onStepKeyDown(event: React.KeyboardEvent): void;\n};\ninterface SliderImplProps extends PrimitiveDivProps, SliderImplPrivateProps {}\n\nconst SliderImpl = React.forwardRef<SliderImplElement, SliderImplProps>(\n  (props: ScopedProps<SliderImplProps>, forwardedRef) => {\n    const {\n      __scopeSlider,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onHomeKeyDown,\n      onEndKeyDown,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const context = useSliderContext(SLIDER_NAME, __scopeSlider);\n\n    return (\n      <Primitive.span\n        {...sliderProps}\n        ref={forwardedRef}\n        onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n          if (event.key === 'Home') {\n            onHomeKeyDown(event);\n            // Prevent scrolling to page start\n            event.preventDefault();\n          } else if (event.key === 'End') {\n            onEndKeyDown(event);\n            // Prevent scrolling to page end\n            event.preventDefault();\n          } else if (PAGE_KEYS.concat(ARROW_KEYS).includes(event.key)) {\n            onStepKeyDown(event);\n            // Prevent scrolling for directional key presses\n            event.preventDefault();\n          }\n        })}\n        onPointerDown={composeEventHandlers(props.onPointerDown, (event) => {\n          const target = event.target as HTMLElement;\n          target.setPointerCapture(event.pointerId);\n          // Prevent browser focus behaviour because we focus a thumb manually when values change.\n          event.preventDefault();\n          // Touch devices have a delay before focusing so won't focus if touch immediately moves\n          // away from target (sliding). We want thumb to focus regardless.\n          if (context.thumbs.has(target)) {\n            target.focus();\n          } else {\n            onSlideStart(event);\n          }\n        })}\n        onPointerMove={composeEventHandlers(props.onPointerMove, (event) => {\n          const target = event.target as HTMLElement;\n          if (target.hasPointerCapture(event.pointerId)) onSlideMove(event);\n        })}\n        onPointerUp={composeEventHandlers(props.onPointerUp, (event) => {\n          const target = event.target as HTMLElement;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n            onSlideEnd(event);\n          }\n        })}\n      />\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * SliderTrack\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRACK_NAME = 'SliderTrack';\n\ntype SliderTrackElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface SliderTrackProps extends PrimitiveSpanProps {}\n\nconst SliderTrack = React.forwardRef<SliderTrackElement, SliderTrackProps>(\n  (props: ScopedProps<SliderTrackProps>, forwardedRef) => {\n    const { __scopeSlider, ...trackProps } = props;\n    const context = useSliderContext(TRACK_NAME, __scopeSlider);\n    return (\n      <Primitive.span\n        data-disabled={context.disabled ? '' : undefined}\n        data-orientation={context.orientation}\n        {...trackProps}\n        ref={forwardedRef}\n      />\n    );\n  }\n);\n\nSliderTrack.displayName = TRACK_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderRange\n * -----------------------------------------------------------------------------------------------*/\n\nconst RANGE_NAME = 'SliderRange';\n\ntype SliderRangeElement = React.ComponentRef<typeof Primitive.span>;\ninterface SliderRangeProps extends PrimitiveSpanProps {}\n\nconst SliderRange = React.forwardRef<SliderRangeElement, SliderRangeProps>(\n  (props: ScopedProps<SliderRangeProps>, forwardedRef) => {\n    const { __scopeSlider, ...rangeProps } = props;\n    const context = useSliderContext(RANGE_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(RANGE_NAME, __scopeSlider);\n    const ref = React.useRef<HTMLSpanElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const valuesCount = context.values.length;\n    const percentages = context.values.map((value) =>\n      convertValueToPercentage(value, context.min, context.max)\n    );\n    const offsetStart = valuesCount > 1 ? Math.min(...percentages) : 0;\n    const offsetEnd = 100 - Math.max(...percentages);\n\n    return (\n      <Primitive.span\n        data-orientation={context.orientation}\n        data-disabled={context.disabled ? '' : undefined}\n        {...rangeProps}\n        ref={composedRefs}\n        style={{\n          ...props.style,\n          [orientation.startEdge]: offsetStart + '%',\n          [orientation.endEdge]: offsetEnd + '%',\n        }}\n      />\n    );\n  }\n);\n\nSliderRange.displayName = RANGE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderThumb\n * -----------------------------------------------------------------------------------------------*/\n\nconst THUMB_NAME = 'SliderThumb';\n\ntype SliderThumbElement = SliderThumbImplElement;\ninterface SliderThumbProps extends Omit<SliderThumbImplProps, 'index'> {}\n\nconst SliderThumb = React.forwardRef<SliderThumbElement, SliderThumbProps>(\n  (props: ScopedProps<SliderThumbProps>, forwardedRef) => {\n    const getItems = useCollection(props.__scopeSlider);\n    const [thumb, setThumb] = React.useState<SliderThumbImplElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const index = React.useMemo(\n      () => (thumb ? getItems().findIndex((item) => item.ref.current === thumb) : -1),\n      [getItems, thumb]\n    );\n    return <SliderThumbImpl {...props} ref={composedRefs} index={index} />;\n  }\n);\n\ntype SliderThumbImplElement = React.ComponentRef<typeof Primitive.span>;\ninterface SliderThumbImplProps extends PrimitiveSpanProps {\n  index: number;\n  name?: string;\n}\n\nconst SliderThumbImpl = React.forwardRef<SliderThumbImplElement, SliderThumbImplProps>(\n  (props: ScopedProps<SliderThumbImplProps>, forwardedRef) => {\n    const { __scopeSlider, index, name, ...thumbProps } = props;\n    const context = useSliderContext(THUMB_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(THUMB_NAME, __scopeSlider);\n    const [thumb, setThumb] = React.useState<HTMLSpanElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    // We set this to true by default so that events bubble to forms without JS (SSR)\n    const isFormControl = thumb ? context.form || !!thumb.closest('form') : true;\n    const size = useSize(thumb);\n    // We cast because index could be `-1` which would return undefined\n    const value = context.values[index] as number | undefined;\n    const percent =\n      value === undefined ? 0 : convertValueToPercentage(value, context.min, context.max);\n    const label = getLabel(index, context.values.length);\n    const orientationSize = size?.[orientation.size];\n    const thumbInBoundsOffset = orientationSize\n      ? getThumbInBoundsOffset(orientationSize, percent, orientation.direction)\n      : 0;\n\n    React.useEffect(() => {\n      if (thumb) {\n        context.thumbs.add(thumb);\n        return () => {\n          context.thumbs.delete(thumb);\n        };\n      }\n    }, [thumb, context.thumbs]);\n\n    return (\n      <span\n        style={{\n          transform: 'var(--radix-slider-thumb-transform)',\n          position: 'absolute',\n          [orientation.startEdge]: `calc(${percent}% + ${thumbInBoundsOffset}px)`,\n        }}\n      >\n        <Collection.ItemSlot scope={props.__scopeSlider}>\n          <Primitive.span\n            role=\"slider\"\n            aria-label={props['aria-label'] || label}\n            aria-valuemin={context.min}\n            aria-valuenow={value}\n            aria-valuemax={context.max}\n            aria-orientation={context.orientation}\n            data-orientation={context.orientation}\n            data-disabled={context.disabled ? '' : undefined}\n            tabIndex={context.disabled ? undefined : 0}\n            {...thumbProps}\n            ref={composedRefs}\n            /**\n             * There will be no value on initial render while we work out the index so we hide thumbs\n             * without a value, otherwise SSR will render them in the wrong position before they\n             * snap into the correct position during hydration which would be visually jarring for\n             * slower connections.\n             */\n            style={value === undefined ? { display: 'none' } : props.style}\n            onFocus={composeEventHandlers(props.onFocus, () => {\n              context.valueIndexToChangeRef.current = index;\n            })}\n          />\n        </Collection.ItemSlot>\n\n        {isFormControl && (\n          <SliderBubbleInput\n            key={index}\n            name={\n              name ??\n              (context.name ? context.name + (context.values.length > 1 ? '[]' : '') : undefined)\n            }\n            form={context.form}\n            value={value}\n          />\n        )}\n      </span>\n    );\n  }\n);\n\nSliderThumb.displayName = THUMB_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderBubbleInput\n * -----------------------------------------------------------------------------------------------*/\n\nconst BUBBLE_INPUT_NAME = 'RadioBubbleInput';\n\ntype InputProps = React.ComponentPropsWithoutRef<typeof Primitive.input>;\ninterface SliderBubbleInputProps extends InputProps {}\n\nconst SliderBubbleInput = React.forwardRef<HTMLInputElement, SliderBubbleInputProps>(\n  ({ __scopeSlider, value, ...props }: ScopedProps<SliderBubbleInputProps>, forwardedRef) => {\n    const ref = React.useRef<HTMLInputElement>(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevValue = usePrevious(value);\n\n    // Bubble value change to parents (e.g form change event)\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(inputProto, 'value') as PropertyDescriptor;\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event('input', { bubbles: true });\n        setValue.call(input, value);\n        input.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n\n    /**\n     * We purposefully do not use `type=\"hidden\"` here otherwise forms that\n     * wrap it will not be able to access its value via the FormData API.\n     *\n     * We purposefully do not add the `value` attribute here to allow the value\n     * to be set programmatically and bubble to any parent form `onChange` event.\n     * Adding the `value` will cause React to consider the programmatic\n     * dispatch a duplicate and it will get swallowed.\n     */\n    return (\n      <Primitive.input\n        style={{ display: 'none' }}\n        {...props}\n        ref={composedRefs}\n        defaultValue={value}\n      />\n    );\n  }\n);\n\nSliderBubbleInput.displayName = BUBBLE_INPUT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getNextSortedValues(prevValues: number[] = [], nextValue: number, atIndex: number) {\n  const nextValues = [...prevValues];\n  nextValues[atIndex] = nextValue;\n  return nextValues.sort((a, b) => a - b);\n}\n\nfunction convertValueToPercentage(value: number, min: number, max: number) {\n  const maxSteps = max - min;\n  const percentPerStep = 100 / maxSteps;\n  const percentage = percentPerStep * (value - min);\n  return clamp(percentage, [0, 100]);\n}\n\n/**\n * Returns a label for each thumb when there are two or more thumbs\n */\nfunction getLabel(index: number, totalValues: number) {\n  if (totalValues > 2) {\n    return `Value ${index + 1} of ${totalValues}`;\n  } else if (totalValues === 2) {\n    return ['Minimum', 'Maximum'][index];\n  } else {\n    return undefined;\n  }\n}\n\n/**\n * Given a `values` array and a `nextValue`, determine which value in\n * the array is closest to `nextValue` and return its index.\n *\n * @example\n * // returns 1\n * getClosestValueIndex([10, 30], 25);\n */\nfunction getClosestValueIndex(values: number[], nextValue: number) {\n  if (values.length === 1) return 0;\n  const distances = values.map((value) => Math.abs(value - nextValue));\n  const closestDistance = Math.min(...distances);\n  return distances.indexOf(closestDistance);\n}\n\n/**\n * Offsets the thumb centre point while sliding to ensure it remains\n * within the bounds of the slider when reaching the edges\n */\nfunction getThumbInBoundsOffset(width: number, left: number, direction: number) {\n  const halfWidth = width / 2;\n  const halfPercent = 50;\n  const offset = linearScale([0, halfPercent], [0, halfWidth]);\n  return (halfWidth - offset(left) * direction) * direction;\n}\n\n/**\n * Gets an array of steps between each value.\n *\n * @example\n * // returns [1, 9]\n * getStepsBetweenValues([10, 11, 20]);\n */\nfunction getStepsBetweenValues(values: number[]) {\n  return values.slice(0, -1).map((value, index) => values[index + 1]! - value);\n}\n\n/**\n * Verifies the minimum steps between all values is greater than or equal\n * to the expected minimum steps.\n *\n * @example\n * // returns false\n * hasMinStepsBetweenValues([1,2,3], 2);\n *\n * @example\n * // returns true\n * hasMinStepsBetweenValues([1,2,3], 1);\n */\nfunction hasMinStepsBetweenValues(values: number[], minStepsBetweenValues: number) {\n  if (minStepsBetweenValues > 0) {\n    const stepsBetweenValues = getStepsBetweenValues(values);\n    const actualMinStepsBetweenValues = Math.min(...stepsBetweenValues);\n    return actualMinStepsBetweenValues >= minStepsBetweenValues;\n  }\n  return true;\n}\n\n// https://github.com/tmcw-up-for-adoption/simple-linear-scale/blob/master/index.js\nfunction linearScale(input: readonly [number, number], output: readonly [number, number]) {\n  return (value: number) => {\n    if (input[0] === input[1] || output[0] === output[1]) return output[0];\n    const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n    return output[0] + ratio * (value - input[0]);\n  };\n}\n\nfunction getDecimalCount(value: number) {\n  return (String(value).split('.')[1] || '').length;\n}\n\nfunction roundValue(value: number, decimalCount: number) {\n  const rounder = Math.pow(10, decimalCount);\n  return Math.round(value * rounder) / rounder;\n}\n\nconst Root = Slider;\nconst Track = SliderTrack;\nconst Range = SliderRange;\nconst Thumb = SliderThumb;\n\nexport {\n  createSliderScope,\n  //\n  Slider,\n  SliderTrack,\n  SliderRange,\n  SliderThumb,\n  //\n  Root,\n  Track,\n  Range,\n  Thumb,\n};\nexport type { SliderProps, SliderTrackProps, SliderRangeProps, SliderThumbProps };\n","interface AccountData {\r\n    subscriptions: {\r\n      id: string;\r\n      title: string;\r\n      description: string;\r\n      settings: {\r\n        email: string;\r\n        categories: string[];\r\n        format: 'text' | 'html';\r\n        agreed: boolean;\r\n      };\r\n    };\r\n    materials: {\r\n      id: string;\r\n      title: string;\r\n      description: string;\r\n      items: {\r\n        id: string;\r\n        title: string;\r\n        content: string;\r\n        image: string;\r\n        date: string;\r\n        year: number;\r\n      }[];\r\n    };\r\n    contact: {\r\n      id: string;\r\n      title: string;\r\n      description: string;\r\n      form: {\r\n        name: string;\r\n        subject: string;\r\n        message: string;\r\n      };\r\n    };\r\n  }\r\n  \r\n  export const accountData: AccountData = {\r\n    subscriptions: {\r\n      id: 'subscriptions',\r\n      title: 'Подписки',\r\n      description: 'Настройте ваши подписки на новости и уведомления',\r\n      settings: {\r\n        email: '',\r\n        categories: [],\r\n        format: 'html',\r\n        agreed: false\r\n      }\r\n    },\r\n    materials: {\r\n      id: 'materials',\r\n      title: 'Материалы',\r\n      description: 'Специальные предложения и материалы для подписчиков',\r\n      items: [\r\n        {\r\n          id: 'offer-2025-1',\r\n          title: 'Новогодние скидки на стоматологические услуги',\r\n          content: 'Специальное предложение на все виды стоматологических услуг в январе',\r\n          image: 'https://images.unsplash.com/photo-1606811841689-23dfddce3e95?w=400&h=300&fit=crop',\r\n          date: '15 января 2025',\r\n          year: 2025\r\n        },\r\n        {\r\n          id: 'offer-2025-2',\r\n          title: 'Комплексная диагностика со скидкой 30%',\r\n          content: 'Полное обследование организма по специальной цене',\r\n          image: 'https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?w=400&h=300&fit=crop',\r\n          date: '10 января 2025',\r\n          year: 2025\r\n        },\r\n        {\r\n          id: 'offer-2024-1',\r\n          title: 'Акция на вакцинацию',\r\n          content: 'Скидки на все виды вакцинации для взрослых и детей',\r\n          image: 'https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=300&fit=crop',\r\n          date: '20 декабря 2024',\r\n          year: 2024\r\n        },\r\n        {\r\n          id: 'offer-2024-2',\r\n          title: 'Профилактические осмотры',\r\n          content: 'Бесплатные консультации специалистов в рамках профилактики',\r\n          image: 'https://images.unsplash.com/photo-1551076805-e1869033e561?w=400&h=300&fit=crop',\r\n          date: '15 ноября 2024',\r\n          year: 2024\r\n        },\r\n        {\r\n          id: 'offer-2023-1',\r\n          title: 'Летние скидки на косметологию',\r\n          content: 'Специальные цены на косметологические процедуры',\r\n          image: 'https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?w=400&h=300&fit=crop',\r\n          date: '1 июля 2023',\r\n          year: 2023\r\n        }\r\n      ]\r\n    },\r\n    contact: {\r\n      id: 'contact',\r\n      title: 'Написать глав.врачу',\r\n      description: 'Если у вас возникли вопросы по поводу работы наших сотрудников или компании в целом, а также если вы хотите сказать слова благодарности, напишите сообщение и оно придет директору лично',\r\n      form: {\r\n        name: '',\r\n        subject: '',\r\n        message: ''\r\n      }\r\n    }\r\n  };\r\n  \r\n  export const subscriptionCategories = [\r\n    'Новости клиники',\r\n    'Специальные предложения',\r\n    'Медицинские статьи',\r\n    'Профилактика и здоровье',\r\n    'Детское здоровье',\r\n    'Стоматология',\r\n    'Косметология'\r\n  ];\r\n\r\n  interface User {\r\n    id: string;\r\n    email: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    middleName: string;\r\n    phone: string;\r\n    login: string;\r\n    isAuthenticated: boolean;\r\n    get name(): string;\r\n  }\r\n  \r\n  export const mockUser: User = {\r\n    id: '1',\r\n    email: 'user@example.com',\r\n    firstName: 'Иван',\r\n    lastName: 'Петров',\r\n    middleName: 'Сергеевич',\r\n    phone: '+375291234567',\r\n    login: 'ivanpetrov',\r\n    isAuthenticated: false,\r\n    get name() {\r\n      return `${this.firstName} ${this.lastName}`;\r\n    }\r\n  };"],"names":[],"mappings":"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","ignoreList":[1,2,6,14,15,16,17,18,19,20,21,22,23,24,25,26]}