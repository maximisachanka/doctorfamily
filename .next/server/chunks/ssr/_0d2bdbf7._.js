module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},72214,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(75003),e=a.i(63519),f=a.i(96221),g=a.i(24987),h=a.i(41710),i=a.i(92258),j=a.i(14548),k=a.i(87532),l=a.i(72663),m=a.i(4297),n=a.i(52913),o=a.i(55220),p=a.i(79212),q=a.i(25170),r=a.i(96215);function s(){let{status:a}=(0,d.useSession)(),{sessionVerified:s,isLoading:t,verifySession:u}=(0,p.useAdminSession)(),[v,w]=(0,c.useState)(null),{success:x,error:y}=(0,q.useAlert)(),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)({address:"",map_geo:"",work_hours_main:"",work_hours_sunday:"",phone_number:"",phone_number_sec:"",email:""});(0,c.useEffect)(()=>{"authenticated"===a?J():"unauthenticated"===a&&w(!1)},[a]),(0,c.useEffect)(()=>{s&&v&&K()},[s,v]);let J=async()=>{try{let a=await fetch("/api/admin/auth"),b=await a.json();w(b.isAdmin)}catch(a){w(!1)}},K=async()=>{A(!0);try{let a=await fetch("/api/admin/contacts");if(a.ok){let b=await a.json();I({address:b.address||"",map_geo:b.map_geo||"",work_hours_main:b.work_hours_main||"",work_hours_sunday:b.work_hours_sunday||"",phone_number:b.phone_number||"",phone_number_sec:b.phone_number_sec||"",email:b.email||""})}}catch(a){y("Ошибка загрузки контактов")}finally{A(!1)}},L=async()=>{if(!F||0===F.trim().length)return void y("Введите адрес для поиска координат");E(!0);try{let a=await fetch("/api/geocode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:F})});if(a.ok){let b=await a.json();I({...H,map_geo:b.coordinates}),x(`Координаты найдены: ${b.coordinates}`)}else{let b=await a.json();y(b.error||"Адрес не найден")}}catch(a){y("Ошибка при поиске координат")}finally{E(!1)}},M=async()=>{if(!H.address||!H.phone_number||!H.email)return void y("Заполните обязательные поля");C(!0);try{let a=await fetch("/api/admin/contacts",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(a.ok)x("Контакты успешно сохранены");else{let b=await a.json();y(b.error||"Ошибка сохранения")}}catch(a){y("Ошибка сохранения")}finally{C(!1)}};return"loading"===a||null===v||t?(0,b.jsx)(r.AdminAccessSkeleton,{}):"unauthenticated"!==a&&v?s?(0,b.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,b.jsx)(l.AdminMenu,{}),(0,b.jsx)("div",{className:"flex-1 p-4 lg:p-8 overflow-auto",children:(0,b.jsx)("div",{className:"max-w-7xl",children:z?(0,b.jsx)(r.AdminContactsSkeleton,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-[#18A36C]/10 rounded-xl flex items-center justify-center",children:(0,b.jsx)(e.Phone,{className:"w-6 h-6 text-[#18A36C]"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Контакты"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Редактирование контактной информации клиники"})]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-[#18A36C]/10 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,b.jsx)(g.MapPin,{className:"w-5 h-5 text-[#18A36C]"})}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(m.FormField,{label:"Адрес",required:!0,children:(0,b.jsx)(m.FormTextarea,{value:H.address,onChange:a=>I({...H,address:a.target.value}),rows:2,placeholder:"г. Минск, пр. Победителей, д. 119, пом. 504"})})})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-[#18A36C]/10 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,b.jsx)(k.Search,{className:"w-5 h-5 text-[#18A36C]"})}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)(m.FormField,{label:"Поиск координат по адресу",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(m.FormInput,{type:"text",value:F,onChange:a=>G(a.target.value),placeholder:"Беларусь, Витебская область, г. Новополоцк, ул. Парковая, д. 16А",onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),L())}}),(0,b.jsx)("button",{onClick:L,disabled:D||!F,className:"px-4 py-2 bg-[#18A36C] hover:bg-[#15905f] disabled:bg-gray-300 text-white text-sm font-medium rounded-lg transition-colors flex items-center gap-2 whitespace-nowrap cursor-pointer",title:"Автоматически найти координаты по введенному адресу",children:D?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Loader2,{className:"w-4 h-4 animate-spin"}),"Поиск..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Search,{className:"w-4 h-4"}),"Найти"]})})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Введите адрес в формате: Витебская область, Новополоцк, улица Парковая, 16А"})]})})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,b.jsx)(g.MapPin,{className:"w-5 h-5 text-green-500"})}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)(m.FormField,{label:"Координаты карты",children:[(0,b.jsx)(m.FormInput,{type:"text",value:H.map_geo,onChange:a=>I({...H,map_geo:a.target.value}),placeholder:"53.9045,27.5615"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Координаты в формате: широта,долгота (автоматически заполняется при поиске)"})]})})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-orange-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,b.jsx)(h.Clock,{className:"w-5 h-5 text-orange-500"})}),(0,b.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(m.FormField,{label:"Режим работы (Пн-Сб)",children:(0,b.jsx)(m.FormInput,{type:"text",value:H.work_hours_main,onChange:a=>I({...H,work_hours_main:a.target.value}),placeholder:"09:00-20:00"})}),(0,b.jsx)(m.FormField,{label:"Режим работы (Воскресенье)",children:(0,b.jsx)(m.FormInput,{type:"text",value:H.work_hours_sunday,onChange:a=>I({...H,work_hours_sunday:a.target.value}),placeholder:"10:00-18:00"})})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-purple-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,b.jsx)(e.Phone,{className:"w-5 h-5 text-purple-500"})}),(0,b.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(m.FormField,{label:"Основной телефон",required:!0,children:(0,b.jsx)(m.FormInput,{type:"text",value:H.phone_number,onChange:a=>I({...H,phone_number:a.target.value}),placeholder:"+375(29)161-01-01"})}),(0,b.jsx)(m.FormField,{label:"Дополнительный телефон",children:(0,b.jsx)(m.FormInput,{type:"text",value:H.phone_number_sec,onChange:a=>I({...H,phone_number_sec:a.target.value}),placeholder:"+375(29)162-02-02"})})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-red-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,b.jsx)(i.Mail,{className:"w-5 h-5 text-red-500"})}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(m.FormField,{label:"Email",required:!0,children:(0,b.jsx)(m.FormInput,{type:"email",value:H.email,onChange:a=>I({...H,email:a.target.value}),placeholder:"info@clinic.by"})})})]}),(0,b.jsx)("div",{className:"pt-4 border-t border-gray-100",children:(0,b.jsx)("button",{onClick:M,disabled:B,className:"w-full md:w-auto px-6 py-3 bg-[#18A36C] hover:bg-[#149259] disabled:bg-gray-300 text-white font-medium rounded-xl transition-colors flex items-center justify-center gap-2 cursor-pointer",children:B?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Loader2,{className:"w-5 h-5 animate-spin"}),"Сохранение..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Save,{className:"w-5 h-5"}),"Сохранить изменения"]})})})]})]})})})]}):(0,b.jsx)(o.AdminAuthForm,{onSuccess:()=>{u()}}):(0,b.jsx)(n.default,{})}a.s(["default",()=>s])}];

//# sourceMappingURL=_0d2bdbf7._.js.map