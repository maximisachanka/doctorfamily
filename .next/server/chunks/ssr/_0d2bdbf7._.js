module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},72214,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(75003),e=a.i(63519),f=a.i(96221),g=a.i(24987),h=a.i(41710),i=a.i(92258),j=a.i(14548),k=a.i(72663),l=a.i(4297),m=a.i(52913),n=a.i(55220),o=a.i(79212),p=a.i(25170),q=a.i(96215);function r(){let{status:a}=(0,d.useSession)(),{sessionVerified:r,isLoading:s,verifySession:t}=(0,o.useAdminSession)(),[u,v]=(0,c.useState)(null),{success:w,error:x}=(0,p.useAlert)(),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)({address:"",map_geo:"",work_hours_main:"",work_hours_sunday:"",phone_number:"",phone_number_sec:"",email:""});(0,c.useEffect)(()=>{"authenticated"===a?E():"unauthenticated"===a&&v(!1)},[a]),(0,c.useEffect)(()=>{r&&u&&F()},[r,u]);let E=async()=>{try{let a=await fetch("/api/admin/auth"),b=await a.json();v(b.isAdmin)}catch(a){v(!1)}},F=async()=>{z(!0);try{let a=await fetch("/api/admin/contacts");if(a.ok){let b=await a.json();D({address:b.address||"",map_geo:b.map_geo||"",work_hours_main:b.work_hours_main||"",work_hours_sunday:b.work_hours_sunday||"",phone_number:b.phone_number||"",phone_number_sec:b.phone_number_sec||"",email:b.email||""})}}catch(a){console.error("Error loading contacts:",a),x("Ошибка загрузки контактов")}finally{z(!1)}},G=async()=>{if(!C.address||!C.phone_number||!C.email)return void x("Заполните обязательные поля");B(!0);try{let a=await fetch("/api/admin/contacts",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(a.ok)w("Контакты успешно сохранены");else{let b=await a.json();x(b.error||"Ошибка сохранения")}}catch(a){x("Ошибка сохранения")}finally{B(!1)}};return"loading"===a||null===u||s?(0,b.jsx)(q.AdminAccessSkeleton,{}):"unauthenticated"!==a&&u?r?(0,b.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,b.jsx)(k.AdminMenu,{}),(0,b.jsx)("div",{className:"flex-1 p-4 lg:p-8 overflow-auto",children:(0,b.jsx)("div",{className:"max-w-7xl",children:y?(0,b.jsx)(q.AdminContactsSkeleton,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-[#18A36C]/10 rounded-xl flex items-center justify-center",children:(0,b.jsx)(e.Phone,{className:"w-6 h-6 text-[#18A36C]"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Контакты"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Редактирование контактной информации клиники"})]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,b.jsx)(g.MapPin,{className:"w-5 h-5 text-blue-500"})}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(l.FormField,{label:"Адрес",required:!0,children:(0,b.jsx)(l.FormTextarea,{value:C.address,onChange:a=>D({...C,address:a.target.value}),rows:2,placeholder:"г. Минск, пр. Победителей, д. 119"})})})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,b.jsx)(g.MapPin,{className:"w-5 h-5 text-green-500"})}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(l.FormField,{label:"Координаты карты (Google Maps embed или координаты)",children:(0,b.jsx)(l.FormInput,{type:"text",value:C.map_geo,onChange:a=>D({...C,map_geo:a.target.value}),placeholder:"53.9045,27.5615 или iframe код"})})})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-orange-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,b.jsx)(h.Clock,{className:"w-5 h-5 text-orange-500"})}),(0,b.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(l.FormField,{label:"Режим работы (Пн-Сб)",children:(0,b.jsx)(l.FormInput,{type:"text",value:C.work_hours_main,onChange:a=>D({...C,work_hours_main:a.target.value}),placeholder:"09:00-20:00"})}),(0,b.jsx)(l.FormField,{label:"Режим работы (Воскресенье)",children:(0,b.jsx)(l.FormInput,{type:"text",value:C.work_hours_sunday,onChange:a=>D({...C,work_hours_sunday:a.target.value}),placeholder:"10:00-18:00"})})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-purple-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,b.jsx)(e.Phone,{className:"w-5 h-5 text-purple-500"})}),(0,b.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(l.FormField,{label:"Основной телефон",required:!0,children:(0,b.jsx)(l.FormInput,{type:"text",value:C.phone_number,onChange:a=>D({...C,phone_number:a.target.value}),placeholder:"+375(29)161-01-01"})}),(0,b.jsx)(l.FormField,{label:"Дополнительный телефон",children:(0,b.jsx)(l.FormInput,{type:"text",value:C.phone_number_sec,onChange:a=>D({...C,phone_number_sec:a.target.value}),placeholder:"+375(29)162-02-02"})})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-red-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,b.jsx)(i.Mail,{className:"w-5 h-5 text-red-500"})}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(l.FormField,{label:"Email",required:!0,children:(0,b.jsx)(l.FormInput,{type:"email",value:C.email,onChange:a=>D({...C,email:a.target.value}),placeholder:"info@clinic.by"})})})]}),(0,b.jsx)("div",{className:"pt-4 border-t border-gray-100",children:(0,b.jsx)("button",{onClick:G,disabled:A,className:"w-full md:w-auto px-6 py-3 bg-[#18A36C] hover:bg-[#149259] disabled:bg-gray-300 text-white font-medium rounded-xl transition-colors flex items-center justify-center gap-2",children:A?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Loader2,{className:"w-5 h-5 animate-spin"}),"Сохранение..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Save,{className:"w-5 h-5"}),"Сохранить изменения"]})})})]})]})})})]}):(0,b.jsx)(n.AdminAuthForm,{onSuccess:()=>{t()}}):(0,b.jsx)(m.default,{})}a.s(["default",()=>r])}];

//# sourceMappingURL=_0d2bdbf7._.js.map