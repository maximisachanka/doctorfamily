{"version":3,"sources":["turbopack:///[project]/src/components/ImageUploader/MultiImageUploader.tsx","turbopack:///[project]/src/components/common/SMCategoryListSelector/SMCategoryListSelector.tsx","turbopack:///[project]/src/app/admin/services/page.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/circle.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { ImageUploader } from './ImageUploader';\r\nimport { ChevronDown } from 'lucide-react';\r\n\r\ninterface ImageSlot {\r\n  key: string;\r\n  label: string;\r\n  value: string;\r\n}\r\n\r\ninterface MultiImageUploaderProps {\r\n  images: {\r\n    image_url: string;\r\n    image_url_1: string;\r\n    image_url_2: string;\r\n    image_url_3: string;\r\n    image_url_4: string;\r\n  };\r\n  onChange: (key: string, url: string) => void;\r\n  folder: string;\r\n  maxSizeMB?: number;\r\n}\r\n\r\nexport function MultiImageUploader({\r\n  images,\r\n  onChange,\r\n  folder,\r\n  maxSizeMB = 10,\r\n}: MultiImageUploaderProps) {\r\n  const slots: ImageSlot[] = [\r\n    { key: 'image_url', label: 'Главное изображение', value: images.image_url },\r\n    { key: 'image_url_1', label: 'Изображение 1', value: images.image_url_1 },\r\n    { key: 'image_url_2', label: 'Изображение 2', value: images.image_url_2 },\r\n    { key: 'image_url_3', label: 'Изображение 3', value: images.image_url_3 },\r\n    { key: 'image_url_4', label: 'Изображение 4 (опционально)', value: images.image_url_4 },\r\n  ];\r\n\r\n  const [selectedSlot, setSelectedSlot] = useState(slots[0].key);\r\n  const currentSlot = slots.find(s => s.key === selectedSlot) || slots[0];\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Dropdown для выбора слота */}\r\n      <div className=\"relative\">\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n          Выберите слот изображения\r\n        </label>\r\n        <div className=\"relative\">\r\n          <select\r\n            value={selectedSlot}\r\n            onChange={(e) => setSelectedSlot(e.target.value)}\r\n            className=\"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#18A36C] focus:border-transparent appearance-none cursor-pointer transition-all\"\r\n          >\r\n            {slots.map((slot) => (\r\n              <option key={slot.key} value={slot.key}>\r\n                {slot.label}\r\n                {slot.value ? ' ✓' : ''}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <ChevronDown className=\"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Превью всех изображений */}\r\n      <div className=\"bg-gray-50 rounded-xl p-4 border border-gray-200\">\r\n        <p className=\"text-xs font-medium text-gray-600 mb-3\">Загруженные изображения:</p>\r\n        <div className=\"grid grid-cols-5 gap-2\">\r\n          {slots.map((slot) => (\r\n            <button\r\n              key={slot.key}\r\n              type=\"button\"\r\n              onClick={() => setSelectedSlot(slot.key)}\r\n              className={`relative aspect-square rounded-lg overflow-hidden border-2 transition-all ${\r\n                selectedSlot === slot.key\r\n                  ? 'border-[#18A36C] ring-2 ring-[#18A36C]/20'\r\n                  : 'border-gray-200 hover:border-gray-300'\r\n              }`}\r\n              title={slot.label}\r\n            >\r\n              {slot.value ? (\r\n                <img\r\n                  src={slot.value}\r\n                  alt={slot.label}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              ) : (\r\n                <div className=\"w-full h-full bg-gray-100 flex items-center justify-center\">\r\n                  <span className=\"text-xs text-gray-400 font-medium\">\r\n                    {slot.key === 'image_url' ? 'Главное' : slot.key.replace('image_url_', '')}\r\n                  </span>\r\n                </div>\r\n              )}\r\n              {selectedSlot === slot.key && (\r\n                <div className=\"absolute inset-0 bg-[#18A36C]/10 flex items-center justify-center\">\r\n                  <div className=\"w-6 h-6 bg-[#18A36C] rounded-full flex items-center justify-center\">\r\n                    <svg className=\"w-4 h-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Загрузчик для выбранного слота */}\r\n      <div className=\"bg-white rounded-xl p-4 border-2 border-dashed border-gray-300\">\r\n        <p className=\"text-sm font-medium text-gray-700 mb-3\">\r\n          Загрузка для: <span className=\"text-[#18A36C]\">{currentSlot.label}</span>\r\n        </p>\r\n        <ImageUploader\r\n          value={currentSlot.value}\r\n          onChange={(url) => onChange(selectedSlot, url)}\r\n          folder={folder}\r\n          placeholder={`Загрузите ${currentSlot.label.toLowerCase()}`}\r\n          maxSizeMB={maxSizeMB}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { ChevronRight, Circle, CheckCircle2 } from 'lucide-react';\r\n\r\nexport interface CategoryOption {\r\n  id: number;\r\n  name: string;\r\n  level: number;\r\n  disabled: boolean;\r\n  disabledReason?: string;\r\n}\r\n\r\ninterface CategoryListSelectorProps {\r\n  categories: CategoryOption[];\r\n  value: string | number;\r\n  onChange: (value: string) => void;\r\n  placeholder?: string;\r\n  maxHeight?: string;\r\n  showHeader?: boolean;\r\n  showFooter?: boolean;\r\n}\r\n\r\nexport function CategoryListSelector({\r\n  categories,\r\n  value,\r\n  onChange,\r\n  placeholder = 'Выберите категорию',\r\n  maxHeight = '320px',\r\n  showHeader = true,\r\n  showFooter = true\r\n}: CategoryListSelectorProps) {\r\n  const selectedId = value ? parseInt(value.toString()) : null;\r\n\r\n  return (\r\n    <div className=\"w-full border border-gray-200 rounded-xl bg-white overflow-hidden\">\r\n      {/* Header */}\r\n      {showHeader && (\r\n        <div className=\"px-4 py-3 bg-gray-50 border-b border-gray-200\">\r\n          <p className=\"text-sm text-gray-600\">\r\n            {selectedId\r\n              ? categories.find(c => c.id === selectedId)?.name || placeholder\r\n              : placeholder\r\n            }\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Scrollable List */}\r\n      <div\r\n        className=\"overflow-y-auto\"\r\n        style={{ maxHeight }}\r\n      >\r\n        {categories.map((cat) => {\r\n          const isSelected = cat.id === selectedId;\r\n          const isDisabled = cat.disabled;\r\n\r\n          return (\r\n            <div\r\n              key={cat.id}\r\n              onClick={() => !isDisabled && onChange(cat.id.toString())}\r\n              className={`\r\n                px-4 py-3 border-b border-gray-100 transition-all cursor-pointer\r\n                ${isDisabled\r\n                  ? 'bg-gray-50 cursor-not-allowed opacity-60'\r\n                  : 'hover:bg-[#18A36C]/5 hover:border-l-4 hover:border-l-[#18A36C]'\r\n                }\r\n                ${isSelected && !isDisabled\r\n                  ? 'bg-[#18A36C]/10 border-l-4 border-l-[#18A36C]'\r\n                  : 'border-l-4 border-l-transparent'\r\n                }\r\n              `}\r\n              style={{ paddingLeft: `${16 + cat.level * 20}px` }}\r\n            >\r\n              <div className=\"flex items-center justify-between gap-3\">\r\n                <div className=\"flex items-center gap-3 flex-1 min-w-0\">\r\n                  {/* Level indicator */}\r\n                  {cat.level > 0 && (\r\n                    <ChevronRight className=\"w-3 h-3 text-gray-400 flex-shrink-0\" />\r\n                  )}\r\n\r\n                  {/* Selection indicator */}\r\n                  {isSelected ? (\r\n                    <CheckCircle2 className=\"w-4 h-4 text-[#18A36C] flex-shrink-0\" />\r\n                  ) : (\r\n                    <Circle className=\"w-4 h-4 text-gray-300 flex-shrink-0\" />\r\n                  )}\r\n\r\n                  {/* Category name */}\r\n                  <span className={`\r\n                    text-sm flex-1 truncate\r\n                    ${isDisabled ? 'text-gray-400' : 'text-gray-800'}\r\n                    ${isSelected ? 'font-semibold text-[#18A36C]' : ''}\r\n                  `}>\r\n                    {cat.name}\r\n                  </span>\r\n                </div>\r\n\r\n                {/* Disabled reason */}\r\n                {isDisabled && cat.disabledReason && (\r\n                  <span className=\"text-xs text-gray-400 italic flex-shrink-0\">\r\n                    {cat.disabledReason}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Footer hint */}\r\n      {showFooter && (\r\n        <div className=\"px-4 py-2 bg-gray-50 border-t border-gray-200\">\r\n          <p className=\"text-xs text-gray-500\">\r\n            Доступны только категории без подкатегорий\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport { useSession } from 'next-auth/react';\r\nimport { AnimatePresence } from 'framer-motion';\r\nimport { ShoppingBag, Loader2 } from 'lucide-react';\r\nimport { Pagination } from '@/components/common/SMPagination/SMPagination';\r\nimport { ImageUploader } from '@/components/ImageUploader';\r\nimport { MultiImageUploader } from '@/components/ImageUploader/MultiImageUploader';\r\nimport { AdminMenu } from '@/components/SMAdmin/SMAdminMenu';\r\nimport { useServerPagination } from '@/hooks/useServerPagination';\r\nimport {\r\n  AdminSection,\r\n  EmptyState,\r\n  ItemCard,\r\n  CardActions,\r\n  FormModal,\r\n  FormField,\r\n  FormInput,\r\n  FormTextarea,\r\n  FormSelect,\r\n  Badge,\r\n} from '@/components/SMAdmin/SMAdminSection';\r\nimport NotFound from '../../not-found';\r\nimport { AdminAuthForm } from '@/components/SMAdmin/SMAdminAuthForm';\r\nimport { useAdminSession } from '@/hooks/useAdminSession';\r\nimport { useAlert } from '@/components/common/SMAlert/AlertProvider';\r\nimport { AdminAccessSkeleton } from '@/components/SMAdmin/SMAdminSkeleton';\r\nimport { ImageWithFallback } from '@/components/SMImage/ImageWithFallback';\r\nimport { ConfirmDialog } from '@/components/SMAdmin/SMConfirmDialog';\r\nimport { useConfirmDialog } from '@/hooks/useConfirmDialog';\r\nimport { CategoryListSelector } from '@/components/common/SMCategoryListSelector/SMCategoryListSelector';\r\n\r\ninterface Service {\r\n  id: number;\r\n  title: string;\r\n  subtitle: string;\r\n  price: number;\r\n  video_url: string;\r\n  description: string;\r\n  image_url: string;\r\n  image_url_1: string;\r\n  image_url_2: string;\r\n  image_url_3: string;\r\n  image_url_4: string | null;\r\n  category_id?: number; // Опциональная для обратной совместимости\r\n  service_category_id: number | null;\r\n  category?: {\r\n    id: number;\r\n    name: string;\r\n    slug: string;\r\n  };\r\n  serviceCategory?: {\r\n    id: number;\r\n    name: string;\r\n    slug: string;\r\n  };\r\n  specialists: {\r\n    id: number;\r\n    name: string;\r\n  }[];\r\n}\r\n\r\ninterface Specialist {\r\n  id: number;\r\n  name: string;\r\n}\r\n\r\ninterface ServiceCategory {\r\n  id: number;\r\n  name: string;\r\n  slug: string;\r\n  parent_id: number | null;\r\n  children?: ServiceCategory[];\r\n}\r\n\r\nexport default function AdminServicesPage() {\r\n  const { status } = useSession();\r\n  const { sessionVerified, isLoading: sessionLoading, verifySession } = useAdminSession();\r\n  const [hasAdminRole, setHasAdminRole] = useState<boolean | null>(null);\r\n  const [isCheckingRole, setIsCheckingRole] = useState(true);\r\n  const { success, error: showError } = useAlert();\r\n  const confirmDialog = useConfirmDialog();\r\n\r\n  // Pagination hook\r\n  const { currentPage, setPage, buildApiUrl } = useServerPagination(12);\r\n\r\n  // Data states\r\n  const [services, setServices] = useState<Service[]>([]);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [totalCount, setTotalCount] = useState(0);\r\n  const [serviceCategories, setServiceCategories] = useState<ServiceCategory[]>([]);\r\n  const [specialists, setSpecialists] = useState<Specialist[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  // Form states\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [editingService, setEditingService] = useState<Service | null>(null);\r\n  const [formLoading, setFormLoading] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    subtitle: '',\r\n    price: '',\r\n    video_url: '',\r\n    description: '',\r\n    image_url: '',\r\n    image_url_1: '',\r\n    image_url_2: '',\r\n    image_url_3: '',\r\n    image_url_4: '',\r\n    specialist_ids: [] as string[],\r\n    service_category_id: '',\r\n  });\r\n\r\n  // Check admin role\r\n  useEffect(() => {\r\n    if (status === 'authenticated') {\r\n      checkAdminRole();\r\n    } else if (status === 'unauthenticated') {\r\n      setHasAdminRole(false);\r\n    }\r\n  }, [status]);\r\n\r\n  // Load data when session is verified or page/search changes\r\n  useEffect(() => {\r\n    if (sessionVerified && hasAdminRole) {\r\n      loadData();\r\n    }\r\n  }, [sessionVerified, hasAdminRole, currentPage, searchQuery]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const checkAdminRole = async () => {\r\n    setIsCheckingRole(true);\r\n    try {\r\n      const res = await fetch('/api/admin/auth');\r\n      const data = await res.json();\r\n      setHasAdminRole(data.isAdmin);\r\n    } catch (error) {\r\n      setHasAdminRole(false);\r\n    } finally {\r\n      setIsCheckingRole(false);\r\n    }\r\n  };\r\n\r\n  const handleAuthSuccess = () => {\r\n    verifySession();\r\n  };\r\n\r\n  const loadData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const apiUrl = buildApiUrl('/api/admin/services', searchQuery);\r\n\r\n      const [servicesRes, serviceCategoriesRes, specialistsRes] = await Promise.all([\r\n        fetch(apiUrl),\r\n        fetch('/api/service-categories'),\r\n        fetch('/api/specialists'),\r\n      ]);\r\n\r\n      if (servicesRes.ok) {\r\n        const response = await servicesRes.json();\r\n        setServices(response.data || []);\r\n        setTotalPages(response.totalPages || 1);\r\n        setTotalCount(response.totalCount || 0);\r\n      }\r\n\r\n      if (serviceCategoriesRes.ok) {\r\n        const data = await serviceCategoriesRes.json();\r\n        setServiceCategories(data);\r\n      }\r\n\r\n      if (specialistsRes.ok) {\r\n        const data = await specialistsRes.json();\r\n        setSpecialists(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading data:', error);\r\n      showError('Ошибка загрузки данных');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Reset page when search changes\r\n  useEffect(() => {\r\n    setPage(1);\r\n  }, [searchQuery]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  // Flatten service categories tree for dropdown with disabled logic\r\n  const flattenedServiceCategories = useMemo(() => {\r\n    // Получаем ID категорий, которые уже заняты другими услугами\r\n    const usedCategoryIds = new Set(\r\n      services\r\n        .filter(s => s.service_category_id && (!editingService || s.id !== editingService.id))\r\n        .map(s => s.service_category_id)\r\n    );\r\n\r\n    const flatten = (cats: ServiceCategory[], level = 0): Array<ServiceCategory & { level: number; disabled: boolean; disabledReason?: string }> => {\r\n      const result: Array<ServiceCategory & { level: number; disabled: boolean; disabledReason?: string }> = [];\r\n      for (const cat of cats) {\r\n        const hasChildren = cat.children && cat.children.length > 0;\r\n        const isUsed = usedCategoryIds.has(cat.id);\r\n\r\n        let disabled = false;\r\n        let disabledReason = '';\r\n\r\n        if (hasChildren) {\r\n          disabled = true;\r\n          disabledReason = 'имеет подкатегории';\r\n        } else if (isUsed) {\r\n          disabled = true;\r\n          disabledReason = 'уже занята';\r\n        }\r\n\r\n        result.push({ ...cat, level, disabled, disabledReason });\r\n\r\n        if (cat.children && cat.children.length > 0) {\r\n          result.push(...flatten(cat.children, level + 1));\r\n        }\r\n      }\r\n      return result;\r\n    };\r\n    return flatten(serviceCategories);\r\n  }, [serviceCategories, services, editingService]);\r\n\r\n  // Form handlers\r\n  const resetForm = () => {\r\n    setFormData({\r\n      title: '',\r\n      subtitle: '',\r\n      price: '',\r\n      video_url: '',\r\n      description: '',\r\n      image_url: '',\r\n      image_url_1: '',\r\n      image_url_2: '',\r\n      image_url_3: '',\r\n      image_url_4: '',\r\n      specialist_ids: [],\r\n      service_category_id: '',\r\n    });\r\n    setEditingService(null);\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    resetForm();\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleEdit = (service: Service) => {\r\n    setEditingService(service);\r\n    setFormData({\r\n      title: service.title,\r\n      subtitle: service.subtitle,\r\n      price: service.price.toString(),\r\n      video_url: service.video_url,\r\n      description: service.description,\r\n      image_url: service.image_url,\r\n      image_url_1: service.image_url_1,\r\n      image_url_2: service.image_url_2,\r\n      image_url_3: service.image_url_3,\r\n      image_url_4: service.image_url_4 || '',\r\n      specialist_ids: service.specialists.map(s => s.id.toString()),\r\n      service_category_id: service.service_category_id?.toString() || '',\r\n    });\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setFormLoading(true);\r\n    try {\r\n      const url = editingService\r\n        ? `/api/admin/services/${editingService.id}`\r\n        : '/api/admin/services';\r\n\r\n      const method = editingService ? 'PUT' : 'POST';\r\n\r\n      const res = await fetch(url, {\r\n        method,\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      if (res.ok) {\r\n        await loadData();\r\n        resetForm();\r\n        success(editingService ? 'Услуга обновлена' : 'Услуга создана');\r\n      } else {\r\n        const error = await res.json();\r\n        showError(error.error || 'Ошибка сохранения');\r\n      }\r\n    } catch (error) {\r\n      showError('Ошибка сохранения');\r\n    } finally {\r\n      setFormLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number, serviceName: string) => {\r\n    const confirmed = await confirmDialog.confirm({\r\n      title: 'Удаление услуги',\r\n      message: `Вы уверены, что хотите удалить услугу \"${serviceName}\"? Это действие нельзя отменить.`,\r\n      confirmText: 'Удалить',\r\n      cancelText: 'Отмена',\r\n      variant: 'danger',\r\n    });\r\n\r\n    if (!confirmed) return;\r\n\r\n    try {\r\n      const res = await fetch(`/api/admin/services/${id}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (res.ok) {\r\n        await loadData();\r\n        success('Услуга удалена');\r\n      } else {\r\n        const error = await res.json();\r\n        showError(error.error || 'Ошибка удаления');\r\n      }\r\n    } catch (error) {\r\n      showError('Ошибка удаления');\r\n    }\r\n  };\r\n\r\n  // Loading state\r\n  if (status === 'loading' || hasAdminRole === null || sessionLoading || isCheckingRole) {\r\n    return <AdminAccessSkeleton />;\r\n  }\r\n\r\n  // Not admin - show 404 (только после завершения проверки)\r\n  if (status === 'unauthenticated' || hasAdminRole === false) {\r\n    return <NotFound />;\r\n  }\r\n\r\n  // Admin login form\r\n  if (!sessionVerified) {\r\n    return <AdminAuthForm onSuccess={handleAuthSuccess} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gray-50\">\r\n      <AdminMenu />\r\n\r\n      <div className=\"flex-1 p-4 lg:p-8 overflow-auto\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          <AdminSection\r\n            title=\"Услуги\"\r\n            icon={ShoppingBag}\r\n            count={totalCount}\r\n            loading={loading}\r\n            searchValue={searchQuery}\r\n            onSearchChange={setSearchQuery}\r\n            onAdd={handleAdd}\r\n            addButtonText=\"Добавить услугу\"\r\n          >\r\n            {services.length === 0 ? (\r\n              <EmptyState\r\n                icon={ShoppingBag}\r\n                title=\"Услуги не найдены\"\r\n                description={searchQuery ? 'Попробуйте изменить поисковый запрос' : 'Добавьте первую услугу'}\r\n                actionText={!searchQuery ? 'Добавить услугу' : undefined}\r\n                onAction={!searchQuery ? handleAdd : undefined}\r\n              />\r\n            ) : (\r\n              <>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\">\r\n                  <AnimatePresence>\r\n                    {services.map((service) => (\r\n                    <ItemCard key={service.id}>\r\n                      {/* Image */}\r\n                      <div className=\"w-full h-32 rounded-xl overflow-hidden bg-gray-100 mb-3\">\r\n                        <ImageWithFallback\r\n                          src={service.image_url}\r\n                          alt={service.title}\r\n                          className=\"w-full h-full object-cover\"\r\n                        />\r\n                      </div>\r\n\r\n                      {/* Info */}\r\n                      <div>\r\n                        <h3 className=\"font-semibold text-gray-800 line-clamp-1\">{service.title}</h3>\r\n                        <p className=\"text-sm text-gray-500 line-clamp-2 mt-1\">{service.subtitle}</p>\r\n                      </div>\r\n\r\n                      {/* Tags */}\r\n                      <div className=\"flex items-center gap-2 mt-3 flex-wrap\">\r\n                        {service.serviceCategory && (\r\n                          <Badge variant=\"primary\">{service.serviceCategory.name}</Badge>\r\n                        )}\r\n                        <Badge variant=\"success\">{service.price} BYN</Badge>\r\n                      </div>\r\n\r\n                      {/* Specialists */}\r\n                      {service.specialists.length > 0 && (\r\n                        <div className=\"mt-2\">\r\n                          <Badge variant=\"secondary\">\r\n                            Специалисты ({service.specialists.length})\r\n                          </Badge>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Actions */}\r\n                      <div className=\"flex items-center justify-end mt-4 pt-4 border-t border-gray-100\">\r\n                        <CardActions\r\n                          onEdit={() => handleEdit(service)}\r\n                          onDelete={() => handleDelete(service.id, service.title)}\r\n                        />\r\n                      </div>\r\n                    </ItemCard>\r\n                  ))}\r\n                </AnimatePresence>\r\n                </div>\r\n\r\n                {/* Pagination */}\r\n                {totalPages > 1 && (\r\n                  <Pagination\r\n                    currentPage={currentPage}\r\n                    totalPages={totalPages}\r\n                    onPageChange={setPage}\r\n                    className=\"mt-6\"\r\n                  />\r\n                )}\r\n              </>\r\n            )}\r\n          </AdminSection>\r\n\r\n          {/* Form Modal */}\r\n          <FormModal\r\n            isOpen={isModalOpen}\r\n            onClose={resetForm}\r\n            title={editingService ? 'Редактирование услуги' : 'Новая услуга'}\r\n            onSubmit={handleSave}\r\n            loading={formLoading}\r\n            disabled={!formData.title || !formData.subtitle || !formData.price || !formData.service_category_id || formData.specialist_ids.length === 0}\r\n          >\r\n            <div className=\"space-y-6\">\r\n              {/* Basic Info */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <FormField label=\"Название\" required>\r\n                  <FormInput\r\n                    type=\"text\"\r\n                    value={formData.title}\r\n                    onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                    placeholder=\"Лечение кариеса\"\r\n                  />\r\n                </FormField>\r\n\r\n                <FormField label=\"Цена (BYN)\" required>\r\n                  <FormInput\r\n                    type=\"number\"\r\n                    value={formData.price}\r\n                    onChange={(e) => setFormData({ ...formData, price: e.target.value })}\r\n                    placeholder=\"100\"\r\n                  />\r\n                </FormField>\r\n              </div>\r\n\r\n              <FormField label=\"Подзаголовок\" required>\r\n                <FormInput\r\n                  type=\"text\"\r\n                  value={formData.subtitle}\r\n                  onChange={(e) => setFormData({ ...formData, subtitle: e.target.value })}\r\n                  placeholder=\"Краткое описание услуги\"\r\n                />\r\n              </FormField>\r\n\r\n              <FormField label=\"Категория услуги\" required>\r\n                <CategoryListSelector\r\n                  categories={flattenedServiceCategories}\r\n                  value={formData.service_category_id}\r\n                  onChange={(value) => setFormData({ ...formData, service_category_id: value })}\r\n                  placeholder=\"Выберите категорию\"\r\n                />\r\n              </FormField>\r\n\r\n              <div className=\"grid grid-cols-1 gap-4\">\r\n                <FormField label=\"Специалисты\" required>\r\n                  <div className=\"space-y-2 max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3 bg-gray-50\">\r\n                    {specialists.map((spec) => (\r\n                      <label key={spec.id} className=\"flex items-center gap-2 cursor-pointer hover:bg-gray-100 p-2 rounded-lg transition-colors\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={formData.specialist_ids.includes(spec.id.toString())}\r\n                          onChange={(e) => {\r\n                            if (e.target.checked) {\r\n                              setFormData({\r\n                                ...formData,\r\n                                specialist_ids: [...formData.specialist_ids, spec.id.toString()]\r\n                              });\r\n                            } else {\r\n                              setFormData({\r\n                                ...formData,\r\n                                specialist_ids: formData.specialist_ids.filter(id => id !== spec.id.toString())\r\n                              });\r\n                            }\r\n                          }}\r\n                          className=\"w-4 h-4 text-[#18A36C] border-gray-300 rounded focus:ring-[#18A36C]\"\r\n                        />\r\n                        <span className=\"text-sm text-gray-700\">{spec.name}</span>\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-500 mt-1\">\r\n                    Выбрано: {formData.specialist_ids.length}\r\n                  </p>\r\n                </FormField>\r\n              </div>\r\n\r\n              <FormField label=\"Описание\">\r\n                <FormTextarea\r\n                  value={formData.description}\r\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                  rows={4}\r\n                  placeholder=\"Полное описание услуги...\"\r\n                />\r\n              </FormField>\r\n\r\n              <FormField label=\"Ссылка на видео (YouTube)\">\r\n                <FormInput\r\n                  type=\"text\"\r\n                  value={formData.video_url}\r\n                  onChange={(e) => setFormData({ ...formData, video_url: e.target.value })}\r\n                  placeholder=\"https://youtube.com/watch?v=...\"\r\n                />\r\n              </FormField>\r\n\r\n              {/* Images */}\r\n              <div className=\"border-t border-gray-100 pt-6\">\r\n                <h4 className=\"font-medium text-gray-700 mb-4\">Изображения услуги</h4>\r\n                <MultiImageUploader\r\n                  images={{\r\n                    image_url: formData.image_url,\r\n                    image_url_1: formData.image_url_1,\r\n                    image_url_2: formData.image_url_2,\r\n                    image_url_3: formData.image_url_3,\r\n                    image_url_4: formData.image_url_4,\r\n                  }}\r\n                  onChange={(key, url) => setFormData({ ...formData, [key]: url })}\r\n                  folder=\"smartmedical/services\"\r\n                  maxSizeMB={10}\r\n                />\r\n              </div>\r\n            </div>\r\n          </FormModal>\r\n\r\n          {/* Confirm Dialog */}\r\n          <ConfirmDialog\r\n            isOpen={confirmDialog.isOpen}\r\n            onClose={confirmDialog.handleCancel}\r\n            onConfirm={confirmDialog.handleConfirm}\r\n            title={confirmDialog.options.title}\r\n            message={confirmDialog.options.message}\r\n            confirmText={confirmDialog.options.confirmText}\r\n            cancelText={confirmDialog.options.cancelText}\r\n            variant={confirmDialog.options.variant}\r\n            loading={confirmDialog.loading}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }]];\n\n/**\n * @component @name Circle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Circle = createLucideIcon('circle', __iconNode);\n\nexport default Circle;\n"],"names":[],"mappings":"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","ignoreList":[3]}