module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},37210,72549,a=>{"use strict";var b=a.i(87924),c=a.i(46271),d=a.i(62036),e=a.i(73570),f=a.i(33508),g=a.i(9526);function h({isOpen:a,onClose:h,onConfirm:i,title:j,message:k,confirmText:l="Удалить",cancelText:m="Отмена",variant:n="danger",loading:o=!1}){return a?(0,b.jsx)(d.AnimatePresence,{children:a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:h,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998]"}),(0,b.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:(0,b.jsxs)(c.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.3},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("div",{className:`px-6 py-5 border-b border-gray-100 ${"danger"===n?"bg-red-50":"bg-yellow-50"}`,children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${"danger"===n?"bg-red-100":"bg-yellow-100"}`,children:(0,b.jsx)(e.AlertTriangle,{className:`w-6 h-6 ${"danger"===n?"text-red-600":"text-yellow-600"}`})}),(0,b.jsx)("div",{children:(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:j})})]}),(0,b.jsx)("button",{onClick:h,disabled:o,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:(0,b.jsx)(f.X,{className:"w-5 h-5"})})]})}),(0,b.jsx)("div",{className:"px-6 py-5",children:(0,b.jsx)("p",{className:"text-gray-600 leading-relaxed",children:k})}),(0,b.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex items-center justify-end gap-3",children:[(0,b.jsx)(g.Button,{onClick:h,disabled:o,variant:"ghost",className:"px-5 py-2.5",children:m}),(0,b.jsx)("button",{onClick:()=>{i()},disabled:o,className:`px-5 py-2.5 rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed ${"danger"===n?"bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-600/30":"bg-yellow-600 hover:bg-yellow-700 text-white shadow-lg shadow-yellow-600/30"}`,children:o?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,b.jsx)("span",{children:"Удаление..."})]}):l})]})]})})]})}):null}a.s(["ConfirmDialog",()=>h],37210);var i=a.i(72131);function j(){let[a,b]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[e,f]=(0,i.useState)({title:"",message:""}),[g,h]=(0,i.useState)(null),j=(0,i.useCallback)(a=>(f(a),b(!0),d(!1),new Promise(a=>{h({resolve:a})})),[]);return{confirm:j,isOpen:a,loading:c,options:e,handleConfirm:(0,i.useCallback)(async()=>{g&&(d(!0),await new Promise(a=>setTimeout(a,300)),g.resolve(!0),b(!1),d(!1),h(null))},[g]),handleCancel:(0,i.useCallback)(()=>{g&&(g.resolve(!1),b(!1),d(!1),h(null))},[g])}}a.s(["useConfirmDialog",()=>j],72549)},27190,a=>{"use strict";a.i(6016),a.i(26481),a.i(25170),a.s([])},19289,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(75003),e=a.i(62036),f=a.i(41961),g=a.i(41710),h=a.i(72663),i=a.i(4297),j=a.i(52913),k=a.i(55220),l=a.i(79212),m=a.i(96215),n=a.i(37210),o=a.i(72549);a.i(27190);var p=a.i(25170);function q(){let{status:a}=(0,d.useSession)(),{sessionVerified:q,isLoading:r,verifySession:s}=(0,l.useAdminSession)(),[t,u]=(0,c.useState)(null),v=(0,o.useConfirmDialog)(),{success:w,error:x}=(0,p.useAlert)(),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)({name:"",category:"",description:"",payment:"",experience:"0",requirements:""});(0,c.useEffect)(()=>{"authenticated"===a?M():"unauthenticated"===a&&u(!1)},[a]),(0,c.useEffect)(()=>{q&&t&&N()},[q,t]);let M=async()=>{try{let a=await fetch("/api/admin/auth"),b=await a.json();u(b.isAdmin)}catch(a){u(!1)}},N=async()=>{B(!0);try{let a=await fetch("/api/admin/vacancies");if(a.ok){let b=await a.json();z(b)}}catch(a){console.error("Error loading vacancies:",a)}finally{B(!1)}},O=(0,c.useMemo)(()=>{if(!C)return y;let a=C.toLowerCase();return y.filter(b=>b.name.toLowerCase().includes(a)||b.category.toLowerCase().includes(a)||b.description.toLowerCase().includes(a))},[y,C]),P=()=>{L({name:"",category:"",description:"",payment:"",experience:"0",requirements:""}),H(null),F(!1)},Q=()=>{P(),F(!0)},R=async()=>{J(!0);try{let a=G?`/api/admin/vacancies/${G.id}`:"/api/admin/vacancies",b=G?"PUT":"POST",c=await fetch(a,{method:b,headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(c.ok)await N(),P(),w(G?"Вакансия обновлена":"Вакансия создана");else{let a=await c.json();x(a.error||"Ошибка сохранения")}}catch(a){x("Ошибка сохранения")}finally{J(!1)}},S=async(a,b)=>{if(await v.confirm({title:"Удаление вакансии",message:`Вы уверены, что хотите удалить вакансию "${b}"? Это действие нельзя отменить.`,confirmText:"Удалить",cancelText:"Отмена",variant:"danger"}))try{let b=await fetch(`/api/admin/vacancies/${a}`,{method:"DELETE"});if(b.ok)await N(),w("Вакансия удалена");else{let a=await b.json();x(a.error||"Ошибка удаления")}}catch(a){x("Ошибка удаления")}};return"loading"===a||null===t||r?(0,b.jsx)(m.AdminAccessSkeleton,{}):"unauthenticated"!==a&&t?q?(0,b.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,b.jsx)(h.AdminMenu,{}),(0,b.jsx)("div",{className:"flex-1 p-4 lg:p-8 overflow-auto",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsx)(i.AdminSection,{title:"Вакансии",icon:f.Briefcase,count:y.length,loading:A,searchValue:C,onSearchChange:D,onAdd:Q,addButtonText:"Добавить вакансию",children:0===O.length?(0,b.jsx)(i.EmptyState,{icon:f.Briefcase,title:"Вакансии не найдены",description:C?"Попробуйте изменить поисковый запрос":"Добавьте первую вакансию",actionText:C?void 0:"Добавить вакансию",onAction:C?void 0:Q}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:(0,b.jsx)(e.AnimatePresence,{children:O.map(a=>{let c;return(0,b.jsxs)(i.ItemCard,{children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-800",children:a.name}),(0,b.jsx)(i.Badge,{variant:"primary",children:a.category})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)("div",{className:"text-lg font-bold text-[#18A36C]",children:(c=a.payment,new Intl.NumberFormat("ru-RU").format(c)+" BYN")})})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 line-clamp-2 mb-3",children:a.description}),(0,b.jsx)("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4",children:(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(g.Clock,{className:"w-4 h-4"}),a.experience>0?`от ${a.experience} лет`:"Без опыта"]})}),(0,b.jsx)("div",{className:"text-xs text-gray-400 bg-gray-50 rounded-lg p-3 line-clamp-2",children:a.requirements}),(0,b.jsx)("div",{className:"flex items-center justify-end mt-4 pt-4 border-t border-gray-100",children:(0,b.jsx)(i.CardActions,{onEdit:()=>{H(a),L({name:a.name,category:a.category,description:a.description,payment:a.payment.toString(),experience:a.experience.toString(),requirements:a.requirements}),F(!0)},onDelete:()=>S(a.id,a.name)})})]},a.id)})})})}),(0,b.jsx)(i.FormModal,{isOpen:E,onClose:P,title:G?"Редактирование вакансии":"Новая вакансия",onSubmit:R,loading:I,disabled:!K.name||!K.category||!K.payment,children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(i.FormField,{label:"Название должности",required:!0,children:(0,b.jsx)(i.FormInput,{type:"text",value:K.name,onChange:a=>L({...K,name:a.target.value}),placeholder:"Стоматолог-терапевт"})}),(0,b.jsx)(i.FormField,{label:"Категория",required:!0,children:(0,b.jsx)(i.FormInput,{type:"text",value:K.category,onChange:a=>L({...K,category:a.target.value}),placeholder:"Медицина"})}),(0,b.jsx)(i.FormField,{label:"Описание",required:!0,children:(0,b.jsx)(i.FormTextarea,{value:K.description,onChange:a=>L({...K,description:a.target.value}),rows:4,placeholder:"Описание вакансии и обязанностей"})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(i.FormField,{label:"Зарплата (BYN)",required:!0,children:(0,b.jsx)(i.FormInput,{type:"number",value:K.payment,onChange:a=>L({...K,payment:a.target.value}),placeholder:"100000"})}),(0,b.jsx)(i.FormField,{label:"Опыт (лет)",children:(0,b.jsx)(i.FormInput,{type:"number",min:"0",value:K.experience,onChange:a=>L({...K,experience:a.target.value}),placeholder:"0"})})]}),(0,b.jsx)(i.FormField,{label:"Требования",children:(0,b.jsx)(i.FormTextarea,{value:K.requirements,onChange:a=>L({...K,requirements:a.target.value}),rows:4,placeholder:"Требования к кандидату"})})]})}),(0,b.jsx)(n.ConfirmDialog,{isOpen:v.isOpen,onClose:v.handleCancel,onConfirm:v.handleConfirm,title:v.options.title,message:v.options.message,confirmText:v.options.confirmText,cancelText:v.options.cancelText,variant:v.options.variant,loading:v.loading})]})})]}):(0,b.jsx)(k.AdminAuthForm,{onSuccess:()=>{s()}}):(0,b.jsx)(j.default,{})}a.s(["default",()=>q])}];

//# sourceMappingURL=_c142282f._.js.map