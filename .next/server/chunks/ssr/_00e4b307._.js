module.exports=[28379,a=>{"use strict";let b=(0,a.i(70106).default)("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["UserCog",()=>b],28379)},15171,a=>{"use strict";let b=(0,a.i(70106).default)("handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);a.s(["Handshake",()=>b],15171)},72663,4297,55220,79212,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(3314),f=a.i(60246),g=a.i(50522),h=a.i(81010),i=a.i(4720),j=a.i(15171),k=a.i(41961),l=a.i(49447),m=a.i(63588),n=a.i(40784),o=a.i(63519),p=a.i(92258),q=a.i(28379),r=a.i(50751),s=a.i(9526),t=a.i(75241),u=a.i(60514);let v=[{id:"chat",title:"Чат",icon:(0,b.jsx)(r.MessagesSquare,{className:"w-4 h-4"}),href:"/admin/chat",operatorAccess:!0},{id:"specialists",title:"Специалисты",icon:(0,b.jsx)(f.Users,{className:"w-4 h-4"}),href:"/admin"},{id:"services",title:"Услуги",icon:(0,b.jsx)(n.ShoppingBag,{className:"w-4 h-4"}),href:"/admin/services"},{id:"materials",title:"Материалы",icon:(0,b.jsx)(i.FileText,{className:"w-4 h-4"}),href:"/admin/materials"},{id:"partners",title:"Партнёры",icon:(0,b.jsx)(j.Handshake,{className:"w-4 h-4"}),href:"/admin/partners"},{id:"vacancies",title:"Вакансии",icon:(0,b.jsx)(k.Briefcase,{className:"w-4 h-4"}),href:"/admin/vacancies"},{id:"questions",title:"Вопросы (FAQ)",icon:(0,b.jsx)(l.HelpCircle,{className:"w-4 h-4"}),href:"/admin/questions"},{id:"feedbacks",title:"Отзывы",icon:(0,b.jsx)(m.MessageSquare,{className:"w-4 h-4"}),href:"/admin/feedbacks"},{id:"contacts",title:"Контакты",icon:(0,b.jsx)(o.Phone,{className:"w-4 h-4"}),href:"/admin/contacts"},{id:"letters",title:"Письма",icon:(0,b.jsx)(p.Mail,{className:"w-4 h-4"}),href:"/admin/letters",chiefDoctorOnly:!0},{id:"users",title:"Пользователи",icon:(0,b.jsx)(q.UserCog,{className:"w-4 h-4"}),href:"/admin/users"}];function w({onNavigate:a}){let f=(0,d.useRouter)(),i=(0,d.usePathname)(),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null),{counts:n}=(0,u.useUnreadCountsContext)();(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/admin/auth"),b=await a.json();m(b.role||null)}catch(a){m(null)}})()},[]);let o=(0,c.useMemo)(()=>l?v.filter(a=>"OPERATOR"===l?!0===a.operatorAccess:"CHIEF_DOCTOR"===l||"ADMIN"===l&&!a.chiefDoctorOnly):[],[l]),p=()=>{f.push("/"),k(!1)},q=a=>"/admin"===a?"/admin"===i||"/admin/specialists"===i:i===a||i?.startsWith(a+"/"),r=()=>(0,b.jsxs)("div",{className:"bg-white h-full flex flex-col",children:[(0,b.jsx)("div",{className:"p-4 lg:p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:(0,b.jsx)(e.Shield,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{className:"text-left flex-1",children:[(0,b.jsx)("h2",{className:"text-lg lg:text-xl font-semibold text-gray-800",children:"Админ-панель"}),(0,b.jsx)("p",{className:"text-xs lg:text-sm text-gray-500 mt-0.5",children:"Управление контентом"})]})]})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,b.jsx)("nav",{className:"py-4 px-2",children:o.map(c=>{var d;let e="feedbacks"===(d=c.id)?n.feedbacks:"letters"===d?n.letters:"chat"===d&&n.chats||0;return(0,b.jsxs)("button",{onClick:()=>{a?a(c.href):f.push(c.href),k(!1)},className:`w-full flex items-center justify-between px-4 py-3 text-left transition-all duration-300 group rounded-lg mx-1 mb-1 cursor-pointer ${q(c.href)?"bg-[#18A36C]/10 text-[#18A36C] shadow-sm":"hover:bg-gray-50"}`,style:{width:"calc(100% - 8px)"},children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:`flex-shrink-0 transition-all duration-300 relative ${q(c.href)?"text-[#18A36C] scale-110":"text-gray-500 group-hover:text-[#18A36C] group-hover:scale-110"}`,children:[c.icon,e>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[18px] h-[18px] bg-red-500 text-white text-[10px] font-bold rounded-full px-1",children:e>99?"99+":e})]}),(0,b.jsx)("span",{className:`font-medium transition-colors duration-300 ${q(c.href)?"text-[#18A36C]":"text-gray-700 group-hover:text-[#18A36C]"}`,children:c.title})]}),q(c.href)&&(0,b.jsx)(g.ChevronRight,{className:"w-4 h-4 text-[#18A36C]"})]},c.id)})})}),(0,b.jsxs)("div",{className:"p-4 border-t border-gray-100 space-y-3",children:[(0,b.jsxs)("button",{onClick:p,className:"w-full flex items-center gap-3 px-4 py-3 text-left transition-all duration-300 group rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,b.jsx)(h.Home,{className:"w-4 h-4 text-gray-500 group-hover:text-[#18A36C] transition-colors"}),(0,b.jsx)("span",{className:"font-medium text-gray-700 group-hover:text-[#18A36C] transition-colors",children:"На сайт"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 text-center font-medium",children:"Doctor Family © 2025"})]})]});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"hidden lg:block w-80 flex-shrink-0 sticky top-0 h-screen overflow-y-auto bg-white border-r border-gray-200 shadow-lg",children:(0,b.jsx)(r,{})}),(0,b.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,b.jsxs)(t.Sheet,{open:j,onOpenChange:k,children:[(0,b.jsx)(t.SheetTrigger,{asChild:!0,children:(0,b.jsx)(s.Button,{size:"sm",className:"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white shadow-xl rounded-full w-14 h-14 p-0 transition-all duration-300 hover:scale-110 active:scale-95 cursor-pointer",children:(0,b.jsx)(e.Shield,{className:"w-6 h-6"})})}),(0,b.jsxs)(t.SheetContent,{side:"left",className:"w-80 p-0",children:[(0,b.jsxs)(t.SheetHeader,{className:"sr-only",children:[(0,b.jsx)(t.SheetTitle,{children:"Админ-панель"}),(0,b.jsx)(t.SheetDescription,{children:"Управление контентом сайта"})]}),(0,b.jsx)(r,{})]})]})})]})}a.s(["AdminMenu",()=>w],72663);var x=a.i(46271);let y=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var z=a.i(87532),A=a.i(96221),B=a.i(41675),C=a.i(13749),D=a.i(96215);function E({title:a,icon:c,count:d,loading:e,searchValue:f,onSearchChange:g,onAdd:h,children:i,addButtonText:j="Добавить",loadingSkeleton:k}){return(0,b.jsxs)(x.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white p-6 border-b border-gray-100",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-xl flex items-center justify-center shadow-lg shadow-[#18A36C]/20",children:(0,b.jsx)(c,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:a}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-0.5",children:["Всего записей: ",(0,b.jsx)("span",{className:"font-medium text-[#18A36C]",children:d})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto",children:[(0,b.jsxs)("div",{className:"relative flex-1 sm:flex-initial",children:[(0,b.jsx)(z.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,b.jsx)("input",{type:"text",name:"admin-search-query",placeholder:"Поиск...",value:f,onChange:a=>g(a.target.value),autoComplete:"off",className:"pl-10 pr-4 py-2.5 w-full sm:w-64 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all"})]}),h&&(0,b.jsxs)(s.Button,{onClick:h,className:"bg-gradient-to-r from-[#18A36C] to-[#15905f] hover:from-[#15905f] hover:to-[#128a54] text-white shadow-lg shadow-[#18A36C]/20 rounded-xl px-5 py-2.5 transition-all hover:shadow-xl hover:shadow-[#18A36C]/30 whitespace-nowrap cursor-pointer",children:[(0,b.jsx)(y,{className:"w-4 h-4 mr-2"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:j}),(0,b.jsx)("span",{className:"sm:hidden",children:"Добавить"})]})]})]})}),(0,b.jsx)("div",{className:"p-6",children:e?k||(0,b.jsx)(D.AdminGridSkeleton,{count:12}):i})]})}function F({icon:a,title:c,description:d,actionText:e,onAction:f}){return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-2xl flex items-center justify-center mb-6",children:(0,b.jsx)(a,{className:"w-10 h-10 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:c}),(0,b.jsx)("p",{className:"text-gray-500 text-center max-w-md mb-6",children:d}),e&&f&&(0,b.jsxs)(s.Button,{onClick:f,className:"bg-[#18A36C] hover:bg-[#15905f] text-white rounded-xl cursor-pointer",children:[(0,b.jsx)(y,{className:"w-4 h-4 mr-2"}),e]})]})}function G({children:a,onClick:c}){return(0,b.jsx)(x.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},whileHover:{y:-2},transition:{duration:.2},onClick:c,className:`bg-white border border-gray-100 rounded-xl p-5 hover:shadow-lg hover:border-[#18A36C]/20 transition-all duration-300 ${c?"cursor-pointer":""}`,children:a})}function H({onEdit:a,onDelete:c}){return(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),a()},className:"p-2 text-gray-400 hover:text-[#18A36C] hover:bg-[#18A36C]/10 rounded-lg transition-all duration-200 transform hover:scale-110 active:scale-95 cursor-pointer",title:"Редактировать",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),c()},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all duration-200 transform hover:scale-110 active:scale-95 cursor-pointer",title:"Удалить",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}function I({isOpen:a,onClose:c,title:d,children:e,onSubmit:f,submitText:g="Сохранить",loading:h=!1,disabled:i=!1}){return a?(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)(x.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:c,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,b.jsxs)(x.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-2xl max-h-[90vh] bg-white rounded-2xl shadow-2xl overflow-hidden mx-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:d}),(0,b.jsx)("button",{onClick:c,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200 transform hover:scale-110 active:scale-95 cursor-pointer",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:e}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-100 bg-gray-50",children:[(0,b.jsx)(s.Button,{variant:"outline",onClick:c,className:"rounded-xl cursor-pointer",children:"Отмена"}),(0,b.jsx)(s.Button,{onClick:f,disabled:h||i,className:"bg-gradient-to-r from-[#18A36C] to-[#15905f] text-white rounded-xl min-w-[120px] cursor-pointer",children:h?(0,b.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin"}):g})]})]})]}):null}function J({label:a,required:c,children:d,error:e}){return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[a,c&&(0,b.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),d,e&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:e})]})}function K({...a}){return(0,b.jsx)("input",{...a,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all"})}function L({...a}){return(0,b.jsx)("textarea",{...a,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all resize-none"})}let M=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],N=["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],O=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"];function P({value:a,onChange:d,placeholder:e}){let[f,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)("days"),[k,l]=(0,c.useState)(()=>a?new Date(a):new Date),m=(0,c.useRef)(null);(0,c.useEffect)(()=>{let a=a=>{m.current&&!m.current.contains(a.target)&&(h(!1),j("days"))};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let n=(a=>{let b=a.getFullYear(),c=a.getMonth(),d=new Date(b,c,1),e=new Date(b,c+1,0).getDate(),f=d.getDay()-1;f<0&&(f=6);let g=[];for(let a=0;a<f;a++)g.push(null);for(let a=1;a<=e;a++)g.push(a);return g})(k),o=12*Math.floor(k.getFullYear()/12),p=Array.from({length:12},(a,b)=>o+b);return(0,b.jsxs)("div",{className:"relative",ref:m,children:[(0,b.jsx)("button",{type:"button",onClick:()=>h(!f),className:`w-full px-4 py-2.5 pr-10 border rounded-xl text-sm text-left transition-all bg-white cursor-pointer ${f?"border-[#18A36C] ring-2 ring-[#18A36C]/20":"border-gray-200 hover:border-gray-300"} ${a?"text-gray-900":"text-gray-400"}`,children:a?new Date(a).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}):e||"Выберите дату"}),(0,b.jsx)(B.Calendar,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#18A36C] pointer-events-none"}),f&&(0,b.jsxs)(x.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute top-full left-0 mt-2 bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden z-50 w-[320px]",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-[#18A36C] to-[#15905f] px-4 py-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("button",{type:"button",onClick:"days"===i?()=>{l(new Date(k.getFullYear(),k.getMonth()-1,1))}:"months"===i?()=>{l(new Date(k.getFullYear()-1,k.getMonth(),1))}:()=>{l(new Date(k.getFullYear()-12,k.getMonth(),1))},className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors cursor-pointer",children:(0,b.jsx)(C.ChevronLeft,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("button",{type:"button",onClick:()=>j("days"===i?"months":"years"),className:"px-3 py-1 hover:bg-white/20 rounded-lg transition-colors cursor-pointer",children:(0,b.jsxs)("span",{className:"font-semibold text-white",children:["days"===i&&`${M[k.getMonth()]} ${k.getFullYear()}`,"months"===i&&k.getFullYear(),"years"===i&&`${o} - ${o+11}`]})}),(0,b.jsx)("button",{type:"button",onClick:"days"===i?()=>{l(new Date(k.getFullYear(),k.getMonth()+1,1))}:"months"===i?()=>{l(new Date(k.getFullYear()+1,k.getMonth(),1))}:()=>{l(new Date(k.getFullYear()+12,k.getMonth(),1))},className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors cursor-pointer",children:(0,b.jsx)(g.ChevronRight,{className:"w-5 h-5 text-white"})})]})}),(0,b.jsxs)("div",{className:"p-4",children:["days"===i&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:O.map((a,c)=>(0,b.jsx)("div",{className:`text-center text-xs font-semibold py-2 ${c>=5?"text-red-400":"text-gray-400"}`,children:a},a))}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-1",children:n.map((c,e)=>{let f;return(0,b.jsx)("div",{className:"aspect-square p-0.5",children:null!==c&&(0,b.jsx)("button",{type:"button",onClick:()=>{d(new Date(k.getFullYear(),k.getMonth(),c).toISOString().split("T")[0]),h(!1),j("days")},className:`w-full h-full flex items-center justify-center text-sm rounded-xl transition-all font-medium cursor-pointer ${(b=>{if(!a)return!1;let c=new Date(a);return c.getDate()===b&&c.getMonth()===k.getMonth()&&c.getFullYear()===k.getFullYear()})(c)?"bg-gradient-to-br from-[#18A36C] to-[#15905f] text-white shadow-lg shadow-[#18A36C]/30":(f=new Date).getDate()===c&&f.getMonth()===k.getMonth()&&f.getFullYear()===k.getFullYear()?"bg-[#18A36C]/10 text-[#18A36C] ring-2 ring-[#18A36C]/30":"text-gray-700 hover:bg-gray-100"}`,children:c})},e)})})]}),"months"===i&&(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2",children:N.map((c,d)=>{let e;return(0,b.jsx)("button",{type:"button",onClick:()=>{l(new Date(k.getFullYear(),d,1)),j("days")},className:`py-3 px-2 rounded-xl text-sm font-medium transition-all cursor-pointer ${(b=>{if(!a)return!1;let c=new Date(a);return c.getMonth()===b&&c.getFullYear()===k.getFullYear()})(d)?"bg-gradient-to-br from-[#18A36C] to-[#15905f] text-white shadow-lg shadow-[#18A36C]/30":(e=new Date).getMonth()===d&&e.getFullYear()===k.getFullYear()?"bg-[#18A36C]/10 text-[#18A36C] ring-2 ring-[#18A36C]/30":"text-gray-700 hover:bg-gray-100"}`,children:c},c)})}),"years"===i&&(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2",children:p.map(c=>(0,b.jsx)("button",{type:"button",onClick:()=>{l(new Date(c,k.getMonth(),1)),j("months")},className:`py-3 px-2 rounded-xl text-sm font-medium transition-all cursor-pointer ${a&&new Date(a).getFullYear()===c?"bg-gradient-to-br from-[#18A36C] to-[#15905f] text-white shadow-lg shadow-[#18A36C]/30":new Date().getFullYear()===c?"bg-[#18A36C]/10 text-[#18A36C] ring-2 ring-[#18A36C]/30":"text-gray-700 hover:bg-gray-100"}`,children:c},c))})]})]})]})}function Q({children:a,...c}){return(0,b.jsx)("select",{...c,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all bg-white",children:a})}function R({children:a,variant:c="primary"}){return(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium ${{primary:"bg-[#18A36C]/10 text-[#18A36C]",secondary:"bg-gray-100 text-gray-600",success:"bg-green-100 text-green-700",warning:"bg-amber-100 text-amber-700",danger:"bg-red-100 text-red-700"}[c]}`,children:a})}a.s(["AdminSection",()=>E,"Badge",()=>R,"CardActions",()=>H,"EmptyState",()=>F,"FormDateInput",()=>P,"FormField",()=>J,"FormInput",()=>K,"FormModal",()=>I,"FormSelect",()=>Q,"FormTextarea",()=>L,"ItemCard",()=>G],4297);var S=a.i(43108),T=a.i(77156),U=a.i(41379),V=a.i(36131);function W({onSuccess:a}){let[d,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1),m=async b=>{b.preventDefault(),l(!0),j("");try{let b=await fetch("/api/admin/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:d})}),c=await b.json();b.ok?a():j(c.error||"Ошибка авторизации")}catch(a){j("Ошибка сервера")}finally{l(!1)}};return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-gray-50 to-gray-100",children:(0,b.jsx)(x.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:(0,b.jsxs)(V.Card,{className:"p-8 shadow-xl border-0",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-[#18A36C]/30",children:(0,b.jsx)(e.Shield,{className:"w-10 h-10 text-white"})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Админ-панель"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Введите пароль для доступа"})]}),(0,b.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Пароль"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(S.Lock,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:g?"text":"password",value:d,onChange:a=>f(a.target.value),className:"w-full pl-12 pr-12 py-3.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all",placeholder:"Введите пароль"}),(0,b.jsx)("button",{type:"button",onClick:()=>h(!g),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:g?(0,b.jsx)(U.EyeOff,{className:"w-5 h-5"}):(0,b.jsx)(T.Eye,{className:"w-5 h-5"})})]})]}),i&&(0,b.jsx)(x.motion.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm bg-red-50 px-4 py-3 rounded-xl",children:i}),(0,b.jsx)(s.Button,{type:"submit",disabled:k||!d,className:"w-full bg-gradient-to-r from-[#18A36C] to-[#15905f] hover:from-[#15905f] hover:to-[#128a54] text-white py-3.5 rounded-xl shadow-lg shadow-[#18A36C]/20 transition-all hover:shadow-xl",children:k?(0,b.jsx)(A.Loader2,{className:"w-5 h-5 animate-spin"}):"Войти"})]})]})})})}a.s(["AdminAuthForm",()=>W],55220);let X="admin_session";function Y(){let[a,b]=(0,c.useState)(null),[d,e]=(0,c.useState)(!0),f=(0,c.useCallback)(a=>!!a&&!!a.verified&&Date.now()-a.lastActivity<864e5,[]);(0,c.useEffect)(()=>{try{let a=localStorage.getItem(X);if(a){let c=JSON.parse(a);f(c)?(g(),b(!0)):(localStorage.removeItem(X),b(!1))}else b(!1)}catch(a){b(!1)}finally{e(!1)}},[f]);let g=(0,c.useCallback)(()=>{try{let a={verified:!0,lastActivity:Date.now()};localStorage.setItem(X,JSON.stringify(a))}catch(a){}},[]),h=(0,c.useCallback)(()=>{g(),b(!0)},[g]),i=(0,c.useCallback)(()=>{localStorage.removeItem(X),b(!1)},[]);return(0,c.useEffect)(()=>{if(!a)return;let b=()=>{g()};window.addEventListener("click",b),window.addEventListener("keydown",b);let c=setInterval(()=>{"visible"===document.visibilityState&&g()},3e5);return()=>{window.removeEventListener("click",b),window.removeEventListener("keydown",b),clearInterval(c)}},[a,g]),{sessionVerified:a,isLoading:d,verifySession:h,clearSession:i,updateActivity:g}}a.s(["useAdminSession",()=>Y],79212)}];

//# sourceMappingURL=_00e4b307._.js.map