{"version":3,"sources":["turbopack:///[project]/src/components/SMAuthModals/SMAuthModals.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/log-in.ts","turbopack:///[project]/src/icons/SMLogo.tsx","turbopack:///[project]/src/components/Header/Header.tsx","turbopack:///[project]/src/icons/SMMobileLogo.tsx","turbopack:///[project]/src/components/common/SMSearch/SMSearch.tsx","turbopack:///[project]/src/icons/SMBurgerMenuLogo.tsx","turbopack:///[project]/src/components/common/SMBurgerMenu/SMBurgerMenu.tsx","turbopack:///[project]/src/components/common/SMProfileButton/SMProfileButton.tsx","turbopack:///[project]/src/components/Header/NavigationModal.tsx","turbopack:///[project]/src/components/Footer/Footer.tsx","turbopack:///[project]/src/app/providers.tsx","turbopack:///[project]/src/components/AIAssistant/ResultModal.tsx","turbopack:///[project]/src/components/AIAssistant/AIOnboardingModal.tsx","turbopack:///[project]/src/components/AIAssistant/OperatorChatContent.tsx","turbopack:///[project]/src/components/AIAssistant/AIAssistant.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/tag.ts","turbopack:///[project]/src/components/common/CookieConsent/CookieConsent.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/cookie.ts","turbopack:///[project]/src/hooks/useLetterNotifications.ts","turbopack:///[project]/src/hooks/useChiefDoctorNotifications.ts","turbopack:///[project]/src/components/LetterNotifications/LetterNotifications.tsx","turbopack:///[project]/src/hooks/usePatientChatNotifications.ts","turbopack:///[project]/src/components/ChatNotifications/ChatNotifications.tsx","turbopack:///[project]/src/components/Onboarding/Onboarding.tsx","turbopack:///[project]/src/components/common/ScrollToTop/ScrollToTop.tsx"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Button } from \"../common/SMButton/SMButton\";\r\nimport { Input } from \"../common/SMInput/SMInput\";\r\nimport { Label } from \"../common/SMLabel/SMLabel\";\r\nimport { Checkbox } from \"../common/SMCheckBox/SMCheckBox\";\r\nimport {\r\n  Eye,\r\n  EyeOff,\r\n  User,\r\n  Mail,\r\n  Phone,\r\n  Lock,\r\n  Shield,\r\n  ArrowRight,\r\n  LogIn,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  Loader2,\r\n  X,\r\n} from \"lucide-react\";\r\nimport { LoginData, RegisterData, AuthModalsProps } from \"../SMAuthModals/SMAuthModals.styles\";\r\nimport {\r\n  validatePassword,\r\n  validateNamePart,\r\n  validateLogin,\r\n  validateEmail,\r\n  validatePhone,\r\n  capitalizeName,\r\n} from \"@/utils/validation\";\r\n\r\ntype ModalType = \"login\" | \"register\" | \"forgot-password\";\r\n\r\nexport function AuthModals({\r\n  isOpen,\r\n  onClose,\r\n  onLogin,\r\n  onRegister,\r\n  onForgotPassword,\r\n  isLoading = false,\r\n  initialType = \"login\",\r\n}: AuthModalsProps) {\r\n  const [modalType, setModalType] = useState<ModalType>(initialType);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n\r\n  const [loginData, setLoginData] = useState<LoginData>({\r\n    login: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [registerData, setRegisterData] = useState<RegisterData>({\r\n    lastName: \"\",\r\n    firstName: \"\",\r\n    middleName: \"\",\r\n    email: \"\",\r\n    phone: \"+375\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    login: \"\",\r\n    agreeToTerms: false,\r\n  });\r\n\r\n  const [forgotEmail, setForgotEmail] = useState(\"\");\r\n\r\n  // Validation errors state\r\n  const [errors, setErrors] = useState<Record<string, string>>({});\r\n  const [checking, setChecking] = useState<Record<string, boolean>>({});\r\n  const [valid, setValid] = useState<Record<string, boolean>>({});\r\n\r\n  // Sync modalType with initialType when modal opens\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setModalType(initialType);\r\n    }\r\n  }, [isOpen, initialType]);\r\n\r\n  // Debounced uniqueness check\r\n  const checkUniqueness = useCallback(async (field: 'login' | 'phone' | 'email', value: string) => {\r\n    if (!value || value.length < 3) return;\r\n\r\n    setChecking(prev => ({ ...prev, [field]: true }));\r\n    try {\r\n      const response = await fetch(`/api/auth/check-unique?${field}=${encodeURIComponent(value)}`);\r\n      const data = await response.json();\r\n\r\n      if (!data.isUnique) {\r\n        setErrors(prev => ({ ...prev, [field]: data.message }));\r\n        setValid(prev => ({ ...prev, [field]: false }));\r\n      } else {\r\n        setErrors(prev => {\r\n          const newErrors = { ...prev };\r\n          delete newErrors[field];\r\n          return newErrors;\r\n        });\r\n        setValid(prev => ({ ...prev, [field]: true }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Uniqueness check error:', error);\r\n    } finally {\r\n      setChecking(prev => ({ ...prev, [field]: false }));\r\n    }\r\n  }, []);\r\n\r\n  // Validate field on blur\r\n  const validateField = useCallback((field: string, value: string) => {\r\n    let result;\r\n    switch (field) {\r\n      case 'firstName':\r\n        result = validateNamePart(value, 'Имя');\r\n        break;\r\n      case 'lastName':\r\n        result = validateNamePart(value, 'Фамилия');\r\n        break;\r\n      case 'middleName':\r\n        if (!value || !value.trim()) {\r\n          result = { isValid: true };\r\n        } else {\r\n          result = validateNamePart(value, 'Отчество');\r\n        }\r\n        break;\r\n      case 'login':\r\n        result = validateLogin(value);\r\n        if (result.isValid && value.length >= 3) {\r\n          checkUniqueness('login', value);\r\n        }\r\n        break;\r\n      case 'email':\r\n        result = validateEmail(value);\r\n        if (result.isValid) {\r\n          checkUniqueness('email', value);\r\n        }\r\n        break;\r\n      case 'phone':\r\n        result = validatePhone(value);\r\n        if (result.isValid) {\r\n          const digits = value.replace(/\\D/g, '');\r\n          if (digits.length === 12) {\r\n            checkUniqueness('phone', value);\r\n          }\r\n        }\r\n        break;\r\n      case 'password':\r\n        result = validatePassword(value);\r\n        break;\r\n      case 'confirmPassword':\r\n        if (value !== registerData.password) {\r\n          result = { isValid: false, error: 'Пароли не совпадают' };\r\n        } else {\r\n          result = { isValid: true };\r\n        }\r\n        break;\r\n      default:\r\n        result = { isValid: true };\r\n    }\r\n\r\n    if (!result.isValid) {\r\n      setErrors(prev => ({ ...prev, [field]: result.error || 'Ошибка валидации' }));\r\n      setValid(prev => ({ ...prev, [field]: false }));\r\n    } else {\r\n      setErrors(prev => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors[field];\r\n        return newErrors;\r\n      });\r\n      setValid(prev => ({ ...prev, [field]: true }));\r\n    }\r\n\r\n    return result.isValid;\r\n  }, [registerData.password, checkUniqueness]);\r\n\r\n  // Check uniqueness with debounce\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      if (registerData.login && registerData.login.length >= 3) {\r\n        const loginValid = validateLogin(registerData.login);\r\n        if (loginValid.isValid) {\r\n          checkUniqueness('login', registerData.login);\r\n        }\r\n      }\r\n    }, 500);\r\n    return () => clearTimeout(timer);\r\n  }, [registerData.login, checkUniqueness]);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      if (registerData.email && registerData.email.includes('@')) {\r\n        const emailValid = validateEmail(registerData.email);\r\n        if (emailValid.isValid) {\r\n          checkUniqueness('email', registerData.email);\r\n        }\r\n      }\r\n    }, 500);\r\n    return () => clearTimeout(timer);\r\n  }, [registerData.email, checkUniqueness]);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      const digits = registerData.phone.replace(/\\D/g, '');\r\n      if (digits.length === 12) {\r\n        checkUniqueness('phone', registerData.phone);\r\n      }\r\n    }, 500);\r\n    return () => clearTimeout(timer);\r\n  }, [registerData.phone, checkUniqueness]);\r\n\r\n  // Форматирование белорусского номера телефона\r\n  const formatPhoneNumber = (value: string): string => {\r\n    const digits = value.replace(/\\D/g, '');\r\n    let phoneDigits = digits;\r\n    if (digits.startsWith('375')) {\r\n      phoneDigits = digits.slice(3);\r\n    }\r\n    phoneDigits = phoneDigits.slice(0, 9);\r\n\r\n    let formatted = '+375';\r\n    if (phoneDigits.length > 0) {\r\n      formatted += '(' + phoneDigits.slice(0, 2);\r\n    }\r\n    if (phoneDigits.length >= 2) {\r\n      formatted += ')';\r\n    }\r\n    if (phoneDigits.length > 2) {\r\n      formatted += phoneDigits.slice(2, 5);\r\n    }\r\n    if (phoneDigits.length > 5) {\r\n      formatted += '-' + phoneDigits.slice(5, 7);\r\n    }\r\n    if (phoneDigits.length > 7) {\r\n      formatted += '-' + phoneDigits.slice(7, 9);\r\n    }\r\n\r\n    return formatted;\r\n  };\r\n\r\n  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const formatted = formatPhoneNumber(e.target.value);\r\n    setRegisterData({\r\n      ...registerData,\r\n      phone: formatted,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    if (modalType === \"login\" && onLogin) {\r\n      onLogin(loginData);\r\n    } else if (modalType === \"register\" && onRegister) {\r\n      onRegister(registerData);\r\n    } else if (modalType === \"forgot-password\" && onForgotPassword) {\r\n      onForgotPassword(forgotEmail);\r\n    }\r\n  };\r\n\r\n  const resetForms = () => {\r\n    setLoginData({\r\n      login: \"\",\r\n      password: \"\",\r\n    });\r\n    setRegisterData({\r\n      lastName: \"\",\r\n      firstName: \"\",\r\n      middleName: \"\",\r\n      email: \"\",\r\n      phone: \"+375\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      login: \"\",\r\n      agreeToTerms: false,\r\n    });\r\n    setForgotEmail(\"\");\r\n    setErrors({});\r\n    setChecking({});\r\n    setValid({});\r\n  };\r\n\r\n  const handleClose = () => {\r\n    if (!isLoading) {\r\n      onClose();\r\n      resetForms();\r\n    }\r\n  };\r\n\r\n  // Field error display component\r\n  const FieldError = ({ field }: { field: string }) => {\r\n    if (!errors[field]) return null;\r\n    return (\r\n      <p className=\"text-red-500 text-xs mt-1 flex items-center gap-1\">\r\n        <AlertCircle className=\"w-3 h-3\" />\r\n        {errors[field]}\r\n      </p>\r\n    );\r\n  };\r\n\r\n  // Field status indicator\r\n  const FieldStatus = ({ field }: { field: string }) => {\r\n    if (checking[field]) {\r\n      return <Loader2 className=\"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 animate-spin\" />;\r\n    }\r\n    if (valid[field] && !errors[field]) {\r\n      return <CheckCircle className=\"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-green-500\" />;\r\n    }\r\n    if (errors[field]) {\r\n      return <AlertCircle className=\"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-red-500\" />;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const handleModalChange = (type: ModalType) => {\r\n    setModalType(type);\r\n    resetForms();\r\n  };\r\n\r\n  const getTitle = () => {\r\n    switch (modalType) {\r\n      case \"login\":\r\n        return \"Вход в личный кабинет\";\r\n      case \"register\":\r\n        return \"Регистрация\";\r\n      case \"forgot-password\":\r\n        return \"Восстановление пароля\";\r\n      default:\r\n        return \"Авторизация\";\r\n    }\r\n  };\r\n\r\n  const renderLoginForm = () => (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.3 }}\r\n      className=\"space-y-5\"\r\n    >\r\n      {/* Login */}\r\n      <div>\r\n        <Label htmlFor=\"login\" className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n          Логин <span className=\"text-red-500\">*</span>\r\n        </Label>\r\n        <Input\r\n          id=\"login\"\r\n          type=\"text\"\r\n          placeholder=\"Введите логин\"\r\n          value={loginData.login}\r\n          onChange={(e) => setLoginData({ ...loginData, login: e.target.value })}\r\n          required\r\n          className=\"w-full px-4 py-2.5 border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all border-gray-200\"\r\n        />\r\n      </div>\r\n\r\n      {/* Password */}\r\n      <div>\r\n        <Label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n          Пароль <span className=\"text-red-500\">*</span>\r\n        </Label>\r\n        <div className=\"relative\">\r\n          <Input\r\n            id=\"password\"\r\n            type={showPassword ? \"text\" : \"password\"}\r\n            placeholder=\"Введите пароль\"\r\n            value={loginData.password}\r\n            onChange={(e) => setLoginData({ ...loginData, password: e.target.value })}\r\n            required\r\n            className=\"w-full px-4 py-2.5 pr-12 border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all border-gray-200\"\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setShowPassword(!showPassword)}\r\n            className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#18A36C] transition-colors cursor-pointer\"\r\n          >\r\n            {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Submit button */}\r\n      <Button\r\n        onClick={handleSubmit}\r\n        disabled={isLoading || !loginData.login || !loginData.password}\r\n        className=\"w-full bg-[#18A36C] hover:bg-[#15905f] text-white cursor-pointer py-3 rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n      >\r\n        {isLoading ? (\r\n          <>\r\n            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n            Вход...\r\n          </>\r\n        ) : (\r\n          <>\r\n            Войти\r\n            <LogIn className=\"w-4 h-4 ml-2\" />\r\n          </>\r\n        )}\r\n      </Button>\r\n\r\n      {/* Links */}\r\n      <div className=\"flex justify-between items-center text-sm pt-2\">\r\n        <button\r\n          onClick={() => handleModalChange(\"forgot-password\")}\r\n          className=\"text-gray-600 hover:text-[#18A36C] transition-colors cursor-pointer\"\r\n        >\r\n          Забыли пароль?\r\n        </button>\r\n        <button\r\n          onClick={() => handleModalChange(\"register\")}\r\n          className=\"text-gray-600 hover:text-[#18A36C] transition-colors cursor-pointer\"\r\n        >\r\n          Регистрация\r\n        </button>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n\r\n  const renderRegisterForm = () => (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.3 }}\r\n      className=\"space-y-4\"\r\n    >\r\n      {/* Last Name */}\r\n      <div>\r\n        <Label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n          Фамилия <span className=\"text-red-500\">*</span>\r\n          <span className=\"text-gray-400 text-xs font-normal ml-1\">(мин. 2 символа)</span>\r\n        </Label>\r\n        <div className=\"relative\">\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Иванов\"\r\n            value={registerData.lastName}\r\n            onChange={(e) => setRegisterData({ ...registerData, lastName: capitalizeName(e.target.value) })}\r\n            onBlur={() => validateField('lastName', registerData.lastName)}\r\n            required\r\n            className={`w-full px-4 py-2.5 pr-10 border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all ${errors.lastName ? 'border-red-500' : 'border-gray-200'}`}\r\n          />\r\n          <FieldStatus field=\"lastName\" />\r\n        </div>\r\n        <FieldError field=\"lastName\" />\r\n      </div>\r\n\r\n      {/* First Name */}\r\n      <div>\r\n        <Label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n          Имя <span className=\"text-red-500\">*</span>\r\n          <span className=\"text-gray-400 text-xs font-normal ml-1\">(мин. 2 символа)</span>\r\n        </Label>\r\n        <div className=\"relative\">\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Иван\"\r\n            value={registerData.firstName}\r\n            onChange={(e) => setRegisterData({ ...registerData, firstName: capitalizeName(e.target.value) })}\r\n            onBlur={() => validateField('firstName', registerData.firstName)}\r\n            required\r\n            className={`w-full px-4 py-2.5 pr-10 border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all ${errors.firstName ? 'border-red-500' : 'border-gray-200'}`}\r\n          />\r\n          <FieldStatus field=\"firstName\" />\r\n        </div>\r\n        <FieldError field=\"firstName\" />\r\n      </div>\r\n\r\n      {/* Middle Name */}\r\n      <div>\r\n        <Label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n          Отчество <span className=\"text-gray-400 font-normal\">(необязательно)</span>\r\n        </Label>\r\n        <div className=\"relative\">\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Иванович\"\r\n            value={registerData.middleName}\r\n            onChange={(e) => setRegisterData({ ...registerData, middleName: e.target.value ? capitalizeName(e.target.value) : '' })}\r\n            onBlur={() => validateField('middleName', registerData.middleName)}\r\n            className={`w-full px-4 py-2.5 pr-10 border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all ${errors.middleName ? 'border-red-500' : 'border-gray-200'}`}\r\n          />\r\n          <FieldStatus field=\"middleName\" />\r\n        </div>\r\n        <FieldError field=\"middleName\" />\r\n      </div>\r\n\r\n      {/* Email */}\r\n      <div>\r\n        <Label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n          Email <span className=\"text-red-500\">*</span>\r\n        </Label>\r\n        <div className=\"relative\">\r\n          <Input\r\n            type=\"email\"\r\n            placeholder=\"example@mail.com\"\r\n            value={registerData.email}\r\n            onChange={(e) => setRegisterData({ ...registerData, email: e.target.value })}\r\n            onBlur={() => validateField('email', registerData.email)}\r\n            required\r\n            className={`w-full px-4 py-2.5 pr-10 border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all ${errors.email ? 'border-red-500' : 'border-gray-200'}`}\r\n          />\r\n          <FieldStatus field=\"email\" />\r\n        </div>\r\n        <FieldError field=\"email\" />\r\n      </div>\r\n\r\n      {/* Phone */}\r\n      <div>\r\n        <Label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n          Телефон <span className=\"text-red-500\">*</span>\r\n        </Label>\r\n        <div className=\"relative\">\r\n          <Input\r\n            type=\"tel\"\r\n            placeholder=\"+375(29)123-45-67\"\r\n            value={registerData.phone}\r\n            onChange={handlePhoneChange}\r\n            onBlur={() => validateField('phone', registerData.phone)}\r\n            required\r\n            className={`w-full px-4 py-2.5 pr-10 border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all ${errors.phone ? 'border-red-500' : 'border-gray-200'}`}\r\n          />\r\n          <FieldStatus field=\"phone\" />\r\n        </div>\r\n        <FieldError field=\"phone\" />\r\n      </div>\r\n\r\n      {/* Login */}\r\n      <div>\r\n        <Label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n          Логин <span className=\"text-red-500\">*</span>\r\n          <span className=\"text-gray-400 text-xs font-normal ml-1\">(латиница, цифры, _)</span>\r\n        </Label>\r\n        <div className=\"relative\">\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"username\"\r\n            value={registerData.login}\r\n            onChange={(e) => setRegisterData({ ...registerData, login: e.target.value })}\r\n            onBlur={() => validateField('login', registerData.login)}\r\n            required\r\n            className={`w-full px-4 py-2.5 pr-10 border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all ${errors.login ? 'border-red-500' : 'border-gray-200'}`}\r\n          />\r\n          <FieldStatus field=\"login\" />\r\n        </div>\r\n        <FieldError field=\"login\" />\r\n      </div>\r\n\r\n      {/* Password */}\r\n      <div>\r\n        <Label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n          Пароль <span className=\"text-red-500\">*</span>\r\n        </Label>\r\n        <div className=\"relative\">\r\n          <Input\r\n            type={showPassword ? \"text\" : \"password\"}\r\n            placeholder=\"Введите пароль\"\r\n            value={registerData.password}\r\n            onChange={(e) => setRegisterData({ ...registerData, password: e.target.value })}\r\n            onBlur={() => validateField('password', registerData.password)}\r\n            required\r\n            className={`w-full px-4 py-2.5 pr-12 border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all ${errors.password ? 'border-red-500' : 'border-gray-200'}`}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setShowPassword(!showPassword)}\r\n            className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#18A36C] transition-colors cursor-pointer z-10\"\r\n          >\r\n            {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n          </button>\r\n        </div>\r\n        <FieldError field=\"password\" />\r\n        <div className=\"text-xs text-gray-500 mt-1 space-y-0.5\">\r\n          <p className={registerData.password.length >= 4 ? 'text-green-600' : ''}>\r\n            {registerData.password.length >= 4 ? '✓' : '○'} Минимум 4 символа\r\n          </p>\r\n          <p className={/[A-ZА-ЯЁ]/.test(registerData.password) ? 'text-green-600' : ''}>\r\n            {/[A-ZА-ЯЁ]/.test(registerData.password) ? '✓' : '○'} Одна заглавная буква\r\n          </p>\r\n          <p className={/[!@#$%^&*()_+\\-=\\[\\]{}|;':\",.<>?\\/\\\\`~]/.test(registerData.password) ? 'text-green-600' : ''}>\r\n            {/[!@#$%^&*()_+\\-=\\[\\]{}|;':\",.<>?\\/\\\\`~]/.test(registerData.password) ? '✓' : '○'} Один спецсимвол\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Confirm Password */}\r\n      <div>\r\n        <Label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n          Подтверждение пароля <span className=\"text-red-500\">*</span>\r\n        </Label>\r\n        <div className=\"relative\">\r\n          <Input\r\n            type={showConfirmPassword ? \"text\" : \"password\"}\r\n            placeholder=\"Повторите пароль\"\r\n            value={registerData.confirmPassword}\r\n            onChange={(e) => setRegisterData({ ...registerData, confirmPassword: e.target.value })}\r\n            onBlur={() => validateField('confirmPassword', registerData.confirmPassword)}\r\n            required\r\n            className={`w-full px-4 py-2.5 pr-12 border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all ${errors.confirmPassword ? 'border-red-500' : 'border-gray-200'}`}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n            className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#18A36C] transition-colors cursor-pointer z-10\"\r\n          >\r\n            {showConfirmPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n          </button>\r\n        </div>\r\n        <FieldError field=\"confirmPassword\" />\r\n      </div>\r\n\r\n      {/* Terms checkbox */}\r\n      <div className=\"flex items-start space-x-3 pt-2\">\r\n        <Checkbox\r\n          id=\"terms\"\r\n          checked={registerData.agreeToTerms}\r\n          onCheckedChange={(checked) => setRegisterData({ ...registerData, agreeToTerms: checked === true })}\r\n          className=\"border-gray-300 data-[state=checked]:bg-[#18A36C] data-[state=checked]:border-[#18A36C] mt-0.5\"\r\n        />\r\n        <Label htmlFor=\"terms\" className=\"text-sm text-gray-700 leading-tight\">\r\n          Я согласен на обработку персональных данных\r\n        </Label>\r\n      </div>\r\n\r\n      {/* Submit button */}\r\n      <Button\r\n        onClick={handleSubmit}\r\n        disabled={\r\n          !registerData.agreeToTerms ||\r\n          isLoading ||\r\n          Object.keys(errors).length > 0 ||\r\n          checking.login ||\r\n          checking.email ||\r\n          checking.phone ||\r\n          !registerData.lastName ||\r\n          !registerData.firstName ||\r\n          !registerData.email ||\r\n          !registerData.phone ||\r\n          !registerData.login ||\r\n          !registerData.password ||\r\n          !registerData.confirmPassword\r\n        }\r\n        className=\"w-full bg-[#18A36C] hover:bg-[#15905f] text-white cursor-pointer py-3 rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n      >\r\n        {isLoading ? (\r\n          <>\r\n            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n            Регистрация...\r\n          </>\r\n        ) : (\r\n          <>\r\n            Зарегистрироваться\r\n            <ArrowRight className=\"w-4 h-4 ml-2\" />\r\n          </>\r\n        )}\r\n      </Button>\r\n\r\n      {/* Link to login */}\r\n      <div className=\"text-center pt-2\">\r\n        <button\r\n          onClick={() => handleModalChange(\"login\")}\r\n          className=\"text-sm text-gray-600 hover:text-[#18A36C] transition-colors cursor-pointer\"\r\n        >\r\n          Уже есть аккаунт? Войти\r\n        </button>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n\r\n  const renderForgotPasswordForm = () => (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.3 }}\r\n      className=\"space-y-5\"\r\n    >\r\n      <div className=\"text-center mb-4\">\r\n        <p className=\"text-sm text-gray-600\">\r\n          Введите email для получения ссылки на восстановление пароля\r\n        </p>\r\n      </div>\r\n\r\n      {/* Email */}\r\n      <div>\r\n        <Label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n          Email <span className=\"text-red-500\">*</span>\r\n        </Label>\r\n        <Input\r\n          type=\"email\"\r\n          placeholder=\"example@mail.com\"\r\n          value={forgotEmail}\r\n          onChange={(e) => setForgotEmail(e.target.value)}\r\n          required\r\n          className=\"w-full px-4 py-2.5 border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all border-gray-200\"\r\n        />\r\n      </div>\r\n\r\n      {/* Submit button */}\r\n      <Button\r\n        onClick={handleSubmit}\r\n        disabled={isLoading || !forgotEmail}\r\n        className=\"w-full bg-[#18A36C] hover:bg-[#15905f] text-white cursor-pointer py-3 rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n      >\r\n        {isLoading ? (\r\n          <>\r\n            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n            Отправка...\r\n          </>\r\n        ) : (\r\n          <>\r\n            Восстановить пароль\r\n            <Mail className=\"w-4 h-4 ml-2\" />\r\n          </>\r\n        )}\r\n      </Button>\r\n\r\n      {/* Link to login */}\r\n      <div className=\"text-center pt-2\">\r\n        <button\r\n          onClick={() => handleModalChange(\"login\")}\r\n          className=\"text-sm text-gray-600 hover:text-[#18A36C] transition-colors cursor-pointer\"\r\n        >\r\n          Вернуться к входу\r\n        </button>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <div className=\"fixed inset-0 z-[110] flex items-center justify-center p-4 overflow-y-auto\">\r\n          {/* Backdrop */}\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={handleClose}\r\n            className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\r\n          />\r\n\r\n          {/* Modal */}\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            transition={{ duration: 0.2 }}\r\n            className=\"relative w-full max-w-lg bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"bg-[#18A36C] px-6 py-4 flex-shrink-0\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-xl font-semibold text-white\">{getTitle()}</h2>\r\n                <button\r\n                  onClick={handleClose}\r\n                  disabled={isLoading}\r\n                  className=\"p-1.5 hover:bg-white/20 rounded-lg cursor-pointer transition-colors disabled:opacity-50\"\r\n                >\r\n                  <X className=\"w-5 h-5 text-white\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"p-6 overflow-y-auto flex-1\">\r\n              {modalType === \"login\" && renderLoginForm()}\r\n              {modalType === \"register\" && renderRegisterForm()}\r\n              {modalType === \"forgot-password\" && renderForgotPasswordForm()}\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm10 17 5-5-5-5', key: '1bsop3' }],\n  ['path', { d: 'M15 12H3', key: '6jk70r' }],\n  ['path', { d: 'M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4', key: 'u53s6r' }],\n];\n\n/**\n * @component @name LogIn\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTAgMTcgNS01LTUtNSIgLz4KICA8cGF0aCBkPSJNMTUgMTJIMyIgLz4KICA8cGF0aCBkPSJNMTUgM2g0YTIgMiAwIDAgMSAyIDJ2MTRhMiAyIDAgMCAxLTIgMmgtNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/log-in\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LogIn = createLucideIcon('log-in', __iconNode);\n\nexport default LogIn;\n","const SMLogo = () => {\r\n     return (\r\n        <svg\r\n        width=\"170\"\r\n        height=\"56\"\r\n        viewBox=\"0 0 1357 445\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <path\r\n          d=\"M201.163 297.279C243.75 276.133 286.92 218.408 297.176 185.301C297.453 184.405 296.423 183.712 295.641 184.232C283.518 192.299 275.235 192.695 272.948 192.623C272.554 192.61 272.241 192.35 272.121 191.975C265.521 171.284 232.537 139.645 210.813 123.969C209.836 123.264 208.839 124.53 209.673 125.399C271.877 190.177 235.12 267.161 200.043 295.218C199.083 295.986 200.062 297.826 201.163 297.279Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M266.034 138.835C259.952 146.551 261.277 157.737 268.994 163.819C276.71 169.901 287.896 168.576 293.978 160.859C300.06 153.143 298.735 141.957 291.018 135.875C283.302 129.793 272.116 131.118 266.034 138.835Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M44.199 79.366C44.9722 78.5247 46.2963 79.4583 45.8104 80.4925C34.2598 105.079 28.7626 132.651 31.0063 161.326C38.1834 253.047 98.0049 323.176 194.024 315.662C238.855 312.154 265.67 295.631 293.127 266.891C293.916 266.066 295.246 266.965 294.736 267.986C268.813 319.923 223.566 358.5 160.155 357.463C58.5001 355.802 -1.10945 272.788 0.0156464 203.952C0.800791 155.915 13.9319 112.297 44.199 79.366Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M180.37 33.7175C181.285 53.2325 166.207 69.7944 146.692 70.7096C127.177 71.6247 110.615 56.5466 109.7 37.0316C108.784 17.5166 123.863 0.954726 143.377 0.0395513C162.892 -0.875624 179.454 14.2025 180.37 33.7175Z\"\r\n          fill=\"#18A36C\"\r\n        />\r\n        <path\r\n          d=\"M102.398 367.107C56.0293 284.548 58.3056 130.124 85.6984 65.2306C86.0843 64.3165 86.8166 64.258 87.0128 65.2306C91.4503 87.2281 109.237 105.269 112.461 107.807C112.791 108.067 113.227 108.082 113.577 107.85C150.888 83.1781 252.817 76.6325 303.459 81.3393C304.66 81.4508 304.486 83.1083 303.286 83.2156C111.473 100.35 83.5928 285.481 104.268 366.288C104.559 367.429 102.975 368.133 102.398 367.107Z\"\r\n          fill=\"#18A36C\"\r\n        />\r\n        <path\r\n          d=\"M448.913 301.228V441.228H418.913V301.228H448.913ZM494.313 368.028V376.428H448.313V368.028H494.313ZM1021.11 301.228V309.828H448.313V301.228H1021.11ZM494.313 376.028V395.228H492.313V393.628C492.313 388.695 490.713 384.628 487.513 381.428C484.313 378.228 480.246 376.561 475.313 376.428V376.028H494.313ZM494.313 349.228V368.428H475.313V368.028C480.246 367.895 484.313 366.228 487.513 363.028C490.713 359.695 492.313 355.561 492.313 350.628V349.228H494.313ZM419.513 426.628V441.228H403.513V439.228C403.513 439.228 403.913 439.228 404.713 439.228C405.646 439.228 406.113 439.228 406.113 439.228C409.579 439.228 412.513 438.028 414.913 435.628C417.446 433.095 418.779 430.095 418.913 426.628H419.513ZM419.513 315.828H418.913C418.779 312.361 417.446 309.428 414.913 307.028C412.513 304.495 409.579 303.228 406.113 303.228C406.113 303.228 405.646 303.228 404.713 303.228C403.913 303.228 403.513 303.228 403.513 303.228V301.228H419.513V315.828ZM448.313 426.628H448.913C449.046 430.095 450.313 433.095 452.713 435.628C455.246 438.028 458.246 439.228 461.713 439.228C461.713 439.228 462.113 439.228 462.913 439.228C463.713 439.228 464.179 439.228 464.313 439.228V441.228H448.313V426.628Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M552.753 326.028L605.073 440.268H576.273L542.993 356.908L552.753 326.028ZM518.353 429.548C517.499 431.681 517.339 433.495 517.873 434.988C518.406 436.482 519.313 437.655 520.593 438.508C521.873 439.255 523.153 439.628 524.433 439.628H525.873V441.228H491.633V439.628C491.633 439.628 491.899 439.628 492.433 439.628C492.859 439.628 493.073 439.628 493.073 439.628C495.526 439.628 498.033 438.882 500.593 437.388C503.259 435.788 505.446 433.175 507.153 429.548H518.353ZM552.753 326.028L553.393 345.548L513.713 440.748H502.033L543.473 346.988C543.793 346.348 544.326 345.175 545.073 343.468C545.926 341.655 546.779 339.628 547.633 337.388C548.593 335.148 549.446 333.015 550.193 330.988C550.939 328.855 551.313 327.201 551.313 326.028H552.753ZM569.553 403.148V409.868H522.513V403.148H569.553ZM571.953 429.548H599.953C601.766 433.175 603.953 435.788 606.513 437.388C609.073 438.882 611.579 439.628 614.033 439.628C614.033 439.628 614.246 439.628 614.673 439.628C615.099 439.628 615.313 439.628 615.313 439.628V441.228H564.433V439.628H565.873C568.006 439.628 569.873 438.775 571.473 437.068C573.073 435.255 573.233 432.748 571.953 429.548Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M734 326.988L735.28 344.428L687.76 426.828C687.76 426.828 687.227 427.788 686.16 429.708C685.094 431.521 684.027 433.762 682.96 436.428C682 439.095 681.52 441.762 681.52 444.428H679.92L673.68 430.508L734 326.988ZM625.52 429.548V441.228H607.76V439.628C607.867 439.628 608.347 439.628 609.2 439.628C609.947 439.628 610.32 439.628 610.32 439.628C613.2 439.628 615.76 438.775 618 437.068C620.24 435.255 621.574 432.748 622 429.548H625.52ZM632.56 432.108C632.56 432.215 632.56 432.322 632.56 432.428C632.56 432.535 632.56 432.695 632.56 432.908C632.56 434.615 633.147 436.215 634.32 437.708C635.6 439.095 637.094 439.788 638.8 439.788H641.2V441.228H631.44V432.108H632.56ZM635.28 326.988H636.72L642.32 342.988L631.6 441.228H620.4L635.28 326.988ZM636.72 326.988L689.04 412.908L679.92 444.428L632.56 364.908L636.72 326.988ZM735.44 326.988L750.64 441.228H724.88L716.88 367.628L734 326.988H735.44ZM745.68 429.548H749.04C749.574 432.748 750.96 435.255 753.2 437.068C755.44 438.775 757.947 439.628 760.72 439.628C760.72 439.628 761.147 439.628 762 439.628C762.854 439.628 763.28 439.628 763.28 439.628V441.228H745.68V429.548ZM723.92 432.108H725.04V441.228H715.28V439.788H717.68C719.494 439.788 720.987 439.095 722.16 437.708C723.334 436.215 723.92 434.615 723.92 432.908C723.92 432.695 723.92 432.535 723.92 432.428C723.92 432.322 723.92 432.215 723.92 432.108Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M803.14 329.228V441.228H779.14V329.228H803.14ZM779.62 429.548V441.228H766.82V439.628C766.82 439.628 767.14 439.628 767.78 439.628C768.527 439.628 768.9 439.628 768.9 439.628C771.674 439.628 774.02 438.668 775.94 436.748C777.967 434.721 779.034 432.322 779.14 429.548H779.62ZM779.62 340.908H779.14C779.034 338.135 777.967 335.788 775.94 333.868C774.02 331.841 771.674 330.828 768.9 330.828C768.9 330.828 768.527 330.828 767.78 330.828C767.14 330.828 766.82 330.828 766.82 330.828V329.228H779.62V340.908ZM802.66 429.548H803.14C803.247 432.322 804.26 434.721 806.18 436.748C808.207 438.668 810.607 439.628 813.38 439.628C813.38 439.628 813.7 439.628 814.34 439.628C814.98 439.628 815.354 439.628 815.46 439.628V441.228H802.66V429.548ZM802.66 340.908V329.228H815.46V330.828C815.354 330.828 814.98 330.828 814.34 330.828C813.7 330.828 813.38 330.828 813.38 330.828C810.607 330.828 808.207 331.841 806.18 333.868C804.26 335.788 803.247 338.135 803.14 340.908H802.66Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M863.415 329.228V441.228H839.415V329.228H863.415ZM905.655 434.348L909.495 441.228H862.935V434.348H905.655ZM917.335 408.428L909.975 441.228H878.615L884.375 434.348C889.709 434.348 894.402 433.335 898.455 431.308C902.509 429.175 905.975 426.188 908.855 422.348C911.735 418.401 914.029 413.762 915.735 408.428H917.335ZM839.895 429.548V441.228H827.095V439.628C827.095 439.628 827.415 439.628 828.055 439.628C828.802 439.628 829.175 439.628 829.175 439.628C831.949 439.628 834.295 438.668 836.215 436.748C838.242 434.721 839.309 432.322 839.415 429.548H839.895ZM839.895 340.908H839.415C839.309 338.135 838.242 335.788 836.215 333.868C834.295 331.841 831.949 330.828 829.175 330.828C829.175 330.828 828.802 330.828 828.055 330.828C827.415 330.828 827.095 330.828 827.095 330.828V329.228H839.895V340.908ZM862.935 340.908V329.228H875.735V330.828C875.629 330.828 875.255 330.828 874.615 330.828C873.975 330.828 873.655 330.828 873.655 330.828C870.882 330.828 868.482 331.841 866.455 333.868C864.535 335.788 863.522 338.135 863.415 340.908H862.935Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M936.449 329.388L969.249 388.908L946.529 391.148L909.089 329.388H936.449ZM970.049 389.708V441.228H946.049V389.708H970.049ZM995.809 329.388H1008.29L968.449 392.908L960.289 391.308L995.809 329.388ZM989.249 340.748C990.209 339.255 990.476 337.762 990.049 336.268C989.622 334.668 988.822 333.388 987.649 332.428C986.476 331.361 985.142 330.828 983.649 330.828C983.649 330.828 983.329 330.828 982.689 330.828C982.049 330.828 981.729 330.828 981.729 330.828V329.228H1019.97V330.828H1017.73C1014.42 330.828 1011.28 331.788 1008.29 333.708C1005.41 335.628 1003.17 337.815 1001.57 340.268L989.249 340.748ZM942.689 340.748L915.649 340.268C914.156 337.815 911.969 335.628 909.089 333.708C906.209 331.788 903.062 330.828 899.649 330.828H897.409V329.228H950.369V330.828C950.369 330.828 949.996 330.828 949.249 330.828C948.609 330.828 948.289 330.828 948.289 330.828C945.942 330.828 944.129 331.948 942.849 334.188C941.676 336.321 941.622 338.508 942.689 340.748ZM946.529 429.548V441.228H933.729V439.628C933.729 439.628 934.049 439.628 934.689 439.628C935.329 439.628 935.702 439.628 935.809 439.628C938.582 439.628 940.929 438.668 942.849 436.748C944.876 434.721 945.942 432.322 946.049 429.548H946.529ZM969.569 429.548H970.049C970.049 432.322 971.062 434.721 973.089 436.748C975.116 438.668 977.516 439.628 980.289 439.628C980.289 439.628 980.609 439.628 981.249 439.628C981.889 439.628 982.209 439.628 982.209 439.628V441.228H969.569V429.548Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M648.913 120.428C664.913 120.428 678.779 123.428 690.513 129.428C702.379 135.295 711.513 143.628 717.913 154.428C724.446 165.228 727.713 178.161 727.713 193.228C727.713 208.161 724.446 221.095 717.913 232.028C711.513 242.828 702.379 251.228 690.513 257.228C678.779 263.095 664.913 266.028 648.913 266.028C632.913 266.028 618.979 263.095 607.113 257.228C595.379 251.228 586.313 242.828 579.913 232.028C573.513 221.228 570.313 208.295 570.313 193.228C570.313 178.295 573.513 165.428 579.913 154.628C586.313 143.695 595.379 135.295 607.113 129.428C618.979 123.428 632.913 120.428 648.913 120.428ZM648.913 257.628C658.379 257.628 666.513 255.028 673.313 249.828C680.113 244.495 685.379 237.028 689.113 227.428C692.846 217.828 694.713 206.428 694.713 193.228C694.713 180.028 692.846 168.628 689.113 159.028C685.379 149.428 680.113 142.028 673.313 136.828C666.513 131.495 658.379 128.828 648.913 128.828C639.579 128.828 631.446 131.495 624.513 136.828C617.713 142.028 612.446 149.428 608.713 159.028C604.979 168.628 603.113 180.028 603.113 193.228C603.113 206.428 604.979 217.828 608.713 227.428C612.446 237.028 617.713 244.495 624.513 249.828C631.446 255.028 639.579 257.628 648.913 257.628Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M880.842 204.828L882.642 239.228C879.709 244.161 875.776 248.628 870.842 252.628C865.909 256.628 859.776 259.895 852.443 262.428C845.109 264.828 836.443 266.028 826.443 266.028C810.176 265.895 795.909 262.961 783.642 257.228C771.509 251.361 762.109 243.028 755.442 232.228C748.776 221.428 745.442 208.361 745.442 193.028C745.442 178.095 748.709 165.228 755.242 154.428C761.776 143.495 771.109 135.095 783.242 129.228C795.509 123.361 810.109 120.428 827.042 120.428C837.709 120.428 847.242 121.495 855.642 123.628C864.176 125.761 871.309 128.361 877.042 131.428L877.242 165.628H875.443C871.843 152.428 865.976 143.028 857.842 137.428C849.709 131.695 840.176 128.828 829.242 128.828C818.576 128.828 809.442 131.428 801.842 136.628C794.242 141.828 788.376 149.161 784.242 158.628C780.109 168.095 778.042 179.428 778.042 192.628C778.042 205.828 779.976 217.228 783.842 226.828C787.842 236.428 793.442 243.895 800.642 249.228C807.976 254.561 816.576 257.361 826.443 257.628C836.709 257.628 845.376 255.961 852.443 252.628C859.509 249.295 865.176 243.761 869.443 236.028C873.843 228.295 877.109 217.895 879.242 204.828H880.842Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M972.297 123.828V263.228H942.297V123.828H972.297ZM1021.3 123.028V131.428H893.297V123.028H1021.3ZM1021.3 130.828V154.428L1019.3 154.228V152.028C1019.3 145.761 1017.43 140.828 1013.7 137.228C1010.1 133.495 1005.16 131.561 998.897 131.428V130.828H1021.3ZM1021.3 119.428V125.228L996.897 123.028C999.831 123.028 1002.9 122.828 1006.1 122.428C1009.43 122.028 1012.5 121.561 1015.3 121.028C1018.1 120.495 1020.1 119.961 1021.3 119.428ZM942.897 248.628V263.228H926.897V261.228C926.897 261.228 927.297 261.228 928.097 261.228C929.031 261.228 929.497 261.228 929.497 261.228C932.964 261.228 935.897 260.028 938.297 257.628C940.831 255.095 942.164 252.095 942.297 248.628H942.897ZM971.697 248.628H972.297C972.431 252.095 973.697 255.095 976.097 257.628C978.63 260.028 981.63 261.228 985.097 261.228C985.097 261.228 985.497 261.228 986.297 261.228C987.231 261.228 987.697 261.228 987.697 261.228V263.228H971.697V248.628ZM915.497 130.828V131.428C909.364 131.561 904.43 133.495 900.697 137.228C897.097 140.828 895.297 145.761 895.297 152.028V154.228L893.297 154.428V130.828H915.497ZM893.297 119.428C894.63 119.961 896.63 120.495 899.297 121.028C902.097 121.561 905.164 122.028 908.497 122.428C911.831 122.828 914.897 123.028 917.697 123.028L893.297 125.228V119.428Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M1250.31 123.228H1276.11C1282.11 123.228 1287.98 123.895 1293.71 125.228C1299.45 126.561 1304.51 128.695 1308.91 131.628C1313.45 134.561 1317.05 138.428 1319.71 143.228C1322.38 148.028 1323.71 153.961 1323.71 161.028C1323.71 166.628 1322.51 172.228 1320.11 177.828C1317.85 183.295 1314.31 188.028 1309.51 192.028C1304.71 195.895 1298.51 198.228 1290.91 199.028C1295.18 200.361 1299.05 202.761 1302.51 206.228C1306.11 209.695 1309.05 213.161 1311.31 216.628C1311.45 216.895 1312.18 218.095 1313.51 220.228C1314.98 222.361 1316.71 225.028 1318.71 228.228C1320.85 231.295 1323.05 234.428 1325.31 237.628C1327.58 240.828 1329.65 243.628 1331.51 246.028C1334.45 249.628 1337.11 252.561 1339.51 254.828C1341.91 256.961 1344.45 258.561 1347.11 259.628C1349.78 260.561 1352.85 261.095 1356.31 261.228V263.228H1336.71C1329.51 263.228 1322.98 262.628 1317.11 261.428C1311.25 260.095 1306.05 257.895 1301.51 254.828C1296.98 251.761 1293.05 247.628 1289.71 242.428C1288.65 240.828 1287.45 238.828 1286.11 236.428C1284.91 233.895 1283.65 231.228 1282.31 228.428C1280.98 225.628 1279.65 222.961 1278.31 220.428C1277.11 217.761 1276.05 215.361 1275.11 213.228C1274.18 211.095 1273.51 209.428 1273.11 208.228C1271.38 203.961 1269.31 200.761 1266.91 198.628C1264.65 196.495 1262.18 195.228 1259.51 194.828V192.828C1259.91 192.828 1260.71 192.828 1261.91 192.828C1263.11 192.828 1264.38 192.828 1265.71 192.828C1269.31 192.828 1272.78 192.095 1276.11 190.628C1279.58 189.161 1282.65 186.761 1285.31 183.428C1287.98 180.095 1289.85 175.495 1290.91 169.628C1291.18 168.428 1291.38 167.028 1291.51 165.428C1291.78 163.828 1291.85 162.028 1291.71 160.028C1291.31 150.428 1288.91 143.428 1284.51 139.028C1280.11 134.495 1274.65 132.161 1268.11 132.028C1266.25 131.895 1264.18 131.895 1261.91 132.028C1259.78 132.028 1257.78 132.028 1255.91 132.028C1254.18 132.028 1252.98 132.028 1252.31 132.028C1252.31 131.895 1252.11 131.161 1251.71 129.828C1251.45 128.361 1251.11 126.895 1250.71 125.428C1250.45 123.961 1250.31 123.228 1250.31 123.228ZM1252.91 123.228V263.228H1222.91V123.228H1252.91ZM1223.51 248.628V263.228H1207.51V261.228C1207.65 261.228 1208.05 261.228 1208.71 261.228C1209.51 261.228 1209.98 261.228 1210.11 261.228C1213.58 261.228 1216.51 260.028 1218.91 257.628C1221.45 255.095 1222.78 252.095 1222.91 248.628H1223.51ZM1223.51 137.828H1222.91C1222.78 134.361 1221.45 131.428 1218.91 129.028C1216.51 126.495 1213.58 125.228 1210.11 125.228C1209.98 125.228 1209.51 125.228 1208.71 125.228C1208.05 125.228 1207.65 125.228 1207.51 125.228V123.228H1223.51V137.828ZM1252.31 248.628H1252.91C1252.91 252.095 1254.18 255.095 1256.71 257.628C1259.25 260.028 1262.25 261.228 1265.71 261.228C1265.98 261.228 1266.45 261.228 1267.11 261.228C1267.78 261.228 1268.11 261.228 1268.11 261.228V263.228H1252.31V248.628Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M451.813 81.2281C472.266 81.2281 489.946 84.9548 504.853 92.4082C519.759 99.6882 531.199 110.175 539.173 123.868C547.319 137.388 551.393 153.508 551.393 172.228C551.393 190.948 547.319 207.155 539.173 220.848C531.199 234.368 519.759 244.855 504.853 252.308C489.946 259.588 472.266 263.228 451.813 263.228H389.933L389.673 252.308C394.699 252.308 399.899 252.308 405.273 252.308C410.819 252.308 416.193 252.308 421.393 252.308C426.593 252.308 431.186 252.308 435.173 252.308C439.333 252.308 442.626 252.308 445.053 252.308C447.479 252.308 448.693 252.308 448.693 252.308C461.173 252.308 471.919 249.101 480.933 242.688C489.946 236.101 496.879 226.828 501.733 214.868C506.586 202.908 509.013 188.695 509.013 172.228C509.013 155.761 506.586 141.548 501.733 129.588C496.879 117.628 489.946 108.441 480.933 102.028C471.919 95.4415 461.173 92.1481 448.693 92.1481C448.693 92.1481 447.393 92.1481 444.793 92.1481C442.366 92.1481 438.986 92.1481 434.653 92.1481C430.319 92.1481 425.466 92.1481 420.093 92.1481C414.719 92.1481 409.173 92.1481 403.453 92.1481C397.733 92.1481 392.273 92.1481 387.073 92.1481V81.2281H451.813ZM416.453 81.2281V263.228H377.453V81.2281H416.453ZM378.233 244.248V263.228H357.433V260.628C357.433 260.628 357.953 260.628 358.993 260.628C360.206 260.628 360.813 260.628 360.813 260.628C365.319 260.628 369.133 259.068 372.253 255.948C375.546 252.655 377.279 248.755 377.453 244.248H378.233ZM378.233 100.208H377.453C377.453 95.7015 375.806 91.8881 372.513 88.7682C369.219 85.4748 365.319 83.8281 360.813 83.8281C360.813 83.8281 360.293 83.8281 359.253 83.8281C358.213 83.8281 357.693 83.8281 357.693 83.8281L357.433 81.2281H378.233V100.208Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M1203.51 194.728C1203.51 243.605 1163.89 283.228 1115.01 283.228C1066.14 283.228 1026.51 243.605 1026.51 194.728C1026.51 145.851 1066.14 106.228 1115.01 106.228C1163.89 106.228 1203.51 145.851 1203.51 194.728Z\"\r\n          fill=\"#18A36C\"\r\n        />\r\n      </svg>\r\n     )\r\n }\r\nexport default SMLogo;","'use client';\r\n\r\nimport { Search, Phone, Menu, MapPin, Mail, X } from \"lucide-react\";\r\nimport { Button } from \"../common/SMButton/SMButton\";\r\nimport { Input } from \"../common/SMInput/SMInput\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport { AuthModals } from \"../SMAuthModals/SMAuthModals\";\r\nimport { useMenu } from \"../SMMenuContext/SMMenuContext\";\r\nimport SMLogo from \"@/icons/SMLogo\";\r\nimport SMMobileLogo from \"@/icons/SMMobileLogo\";\r\nimport { SearchModal } from \"../common/SMSearch/SMSearch\";\r\nimport SMBurgerMenu from \"../common/SMBurgerMenu/SMBurgerMenu\";\r\nimport navigationConfig from \"@/config/navigation.json\";\r\nimport contactsConfig from \"@/config/contacts.json\";\r\nimport { SMProfileButton } from \"../common/SMProfileButton/SMProfileButton\";\r\nimport { signIn, useSession } from \"next-auth/react\";\r\nimport { LoginData, RegisterData } from \"../SMAuthModals/SMAuthModals.styles\";\r\nimport { useContacts } from \"@/hooks/useContacts\";\r\nimport { useAlert } from \"../common/SMAlert/AlertProvider\";\r\nimport { NavigationModal } from \"./NavigationModal\";\r\n\r\n// Компонент скелетона для текста\r\nfunction TextSkeleton({ className = '' }: { className?: string }) {\r\n  return <span className={`inline-block animate-pulse bg-white/30 rounded ${className}`}>&nbsp;</span>;\r\n}\r\n\r\nexport function Header() {\r\n  const { isBurgerMenuOpen, setIsBurgerMenuOpen } = useMenu();\r\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\r\n  const [isAuthModalOpen, setIsAuthModalOpen] = useState(false);\r\n  const [authModalType, setAuthModalType] = useState<'login' | 'register' | 'forgot-password'>('login');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isScrolled, setIsScrolled] = useState(false);\r\n  const [isNavModalOpen, setIsNavModalOpen] = useState(false);\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const { contacts, loading: contactsLoading } = useContacts();\r\n  const alert = useAlert();\r\n  const { data: session } = useSession();\r\n\r\n  // Все useEffect хуки должны быть ДО любых условных return\r\n  useEffect(() => {\r\n    if (isBurgerMenuOpen) {\r\n      const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\r\n      document.body.style.overflow = \"hidden\";\r\n      document.body.style.paddingRight = `${scrollbarWidth}px`;\r\n    } else {\r\n      document.body.style.overflow = \"unset\";\r\n      document.body.style.paddingRight = \"0px\";\r\n    }\r\n\r\n    return () => {\r\n      document.body.style.overflow = \"unset\";\r\n      document.body.style.paddingRight = \"0px\";\r\n    };\r\n  }, [isBurgerMenuOpen]);\r\n\r\n  // Keyboard shortcut: Ctrl+K or Cmd+K to open search\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if ((e.ctrlKey || e.metaKey) && e.key === \"k\") {\r\n        e.preventDefault();\r\n        setIsSearchOpen(true);\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, []);\r\n\r\n  // Scroll detection - показываем compact header когда виден только нижний блок навигации\r\n  useEffect(() => {\r\n    let ticking = false;\r\n\r\n    const handleScroll = () => {\r\n      if (!ticking) {\r\n        window.requestAnimationFrame(() => {\r\n          // Находим блок с навигацией в основном header\r\n          const headers = document.querySelectorAll('header');\r\n          let navBarElement: HTMLElement | null = null;\r\n\r\n          headers.forEach(header => {\r\n            const style = window.getComputedStyle(header);\r\n            if (style.position !== 'fixed') {\r\n              // Это основной header, ищем навигацию\r\n              const nav = header.querySelector('nav');\r\n              if (nav && nav.parentElement) {\r\n                navBarElement = nav.parentElement as HTMLElement;\r\n              }\r\n            }\r\n          });\r\n\r\n          if (navBarElement) {\r\n            const rect = (navBarElement as HTMLElement).getBoundingClientRect();\r\n            // Когда навигационный блок достигает верха экрана (или почти достигает)\r\n            // показываем компактный header\r\n            const SHOW_THRESHOLD = 10; // Показать когда навигация в 10px от верха\r\n            const HIDE_THRESHOLD = 50; // Скрыть когда навигация ниже 50px от верха\r\n\r\n            setIsScrolled(prev => {\r\n              if (rect.top <= SHOW_THRESHOLD) {\r\n                return true;\r\n              } else if (rect.top > HIDE_THRESHOLD) {\r\n                return false;\r\n              }\r\n              return prev;\r\n            });\r\n          }\r\n\r\n          ticking = false;\r\n        });\r\n        ticking = true;\r\n      }\r\n    };\r\n\r\n    // Небольшая задержка для инициализации\r\n    const initTimeout = setTimeout(handleScroll, 100);\r\n\r\n    window.addEventListener(\"scroll\", handleScroll, { passive: true });\r\n    window.addEventListener(\"resize\", handleScroll);\r\n\r\n    return () => {\r\n      clearTimeout(initTimeout);\r\n      window.removeEventListener(\"scroll\", handleScroll);\r\n      window.removeEventListener(\"resize\", handleScroll);\r\n    };\r\n  }, []);\r\n\r\n  // Не показываем хедер на страницах админки (после всех хуков!)\r\n  if (pathname?.startsWith('/admin')) {\r\n    return null;\r\n  }\r\n\r\n  const handleNavigation = (path: string) => {\r\n    router.push(path);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Main Header (not sticky - scrolls away) */}\r\n      <header className=\"bg-white shadow-lg\">\r\n        {/* Top bar with address/email */}\r\n        <div className=\"hidden md:block bg-[#18A36C] py-2 lg:py-3\">\r\n          <div className=\"max-w-7xl mx-auto px-4 flex justify-between items-center text-white\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex items-center gap-2 lg:gap-3\">\r\n                <MapPin className=\"w-3 h-3 lg:w-4 lg:h-4 flex-shrink-0\" />\r\n                {contactsLoading || !contacts ? (\r\n                  <TextSkeleton className=\"w-48 lg:w-64 h-4\" />\r\n                ) : (\r\n                  <a\r\n                    href={`https://yandex.ru/maps/?text=${encodeURIComponent(contacts.address)}`}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"text-xs lg:text-sm hover:scale-105 transition-transform cursor-pointer inline-block\"\r\n                  >\r\n                    {contacts.address}\r\n                  </a>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2 lg:gap-3\">\r\n              <Mail className=\"w-3 h-3 lg:w-4 lg:h-4 text-white flex-shrink-0\" />\r\n              {contactsLoading || !contacts ? (\r\n                <TextSkeleton className=\"w-40 h-4\" />\r\n              ) : (\r\n                <a\r\n                  href={`mailto:${contacts.email}`}\r\n                  className=\"text-xs lg:text-sm hover:scale-105 transition-transform cursor-pointer inline-block\"\r\n                >\r\n                  {contacts.email}\r\n                </a>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"py-3 lg:py-6\">\r\n          <div className=\"max-w-7xl mx-auto px-4\">\r\n            {/* Desktop - Normal state (full) */}\r\n            <div className=\"hidden lg:flex items-center justify-between\">\r\n              <button\r\n                onClick={() => handleNavigation(\"/\")}\r\n                className=\"flex items-center cursor-pointer\"\r\n              >\r\n                <SMLogo />\r\n              </button>\r\n\r\n              {/* Desktop Search - Click to open modal */}\r\n              <div className=\"flex-1 max-w-md mx-8\">\r\n                <button\r\n                  onClick={() => setIsSearchOpen(true)}\r\n                  className=\"w-full relative cursor-pointer\"\r\n                >\r\n                  <Input\r\n                    type=\"text\"\r\n                    placeholder=\"Поиск услуг и специалистов...\"\r\n                    readOnly\r\n                    className=\"pl-4 pr-12 bg-gray-50 border-0 h-12 rounded-lg focus:outline-none focus:shadow-none focus:border-0 focus:ring-1 focus:ring-[#18A36C] cursor-pointer\"\r\n                  />\r\n                  <div className=\"absolute right-1 top-1 h-10 w-10 p-0 bg-[#18A36C] cursor-pointer rounded flex items-center justify-center\">\r\n                    <Search className=\"w-4 h-4 text-white\" />\r\n                  </div>\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-6\">\r\n                <div className=\"text-right\">\r\n                  <div className=\"flex items-center gap-2 text-[#2E2E2E] text-lg\">\r\n                    <Phone className=\"w-5 h-5 text-[#18A36C]\" />\r\n                    {contactsLoading || !contacts ? (\r\n                      <span className=\"inline-block animate-pulse bg-gray-200 rounded w-36 h-6\">&nbsp;</span>\r\n                    ) : (\r\n                      <a\r\n                        href={`tel:${contacts.phone_number.replace(/[\\s\\-]/g, '')}`}\r\n                        className=\"hover:text-[#18A36C] transition-colors cursor-pointer\"\r\n                      >\r\n                        {contacts.phone_number}\r\n                      </a>\r\n                    )}\r\n                  </div>\r\n                  {contactsLoading || !contacts ? (\r\n                    <span className=\"inline-block animate-pulse bg-gray-200 rounded w-32 h-4 mt-1\">&nbsp;</span>\r\n                  ) : contacts.phone_number_sec ? (\r\n                    <a\r\n                      href={`tel:${contacts.phone_number_sec.replace(/[\\s\\-]/g, '')}`}\r\n                      className=\"text-sm text-gray-500 hover:text-[#18A36C] transition-colors cursor-pointer\"\r\n                    >\r\n                      {contacts.phone_number_sec}\r\n                    </a>\r\n                  ) : null}\r\n                </div>\r\n\r\n                <Button\r\n                  size=\"lg\"\r\n                  className=\"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white px-8 h-12\"\r\n                  onClick={() => handleNavigation(\"/contacts\")}\r\n                >\r\n                  {contactsConfig.onlineBookingText}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"lg:hidden\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <button\r\n                  onClick={() => handleNavigation(\"/\")}\r\n                  className=\"flex items-center cursor-pointer\"\r\n                >\r\n                  <SMMobileLogo />\r\n                </button>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    onClick={() => setIsSearchOpen(true)}\r\n                    className=\"p-2\"\r\n                  >\r\n                    <Search className=\"w-5 h-5\" />\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    className=\"p-2\"\r\n                  >\r\n                    <Phone className=\"w-5 h-5\" />\r\n                  </Button>\r\n                  <Button\r\n                    onClick={() => handleNavigation(\"/contacts\")}\r\n                    className=\"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white px-4 text-sm h-9\"\r\n                  >\r\n                    Связаться с нами\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Navigation bar */}\r\n        <div className=\"bg-white border-t border-b border-[#E8E6E3]\">\r\n          <div className=\"max-w-7xl mx-auto px-4\">\r\n            <nav className=\"flex items-center\">\r\n              <div className=\"flex\">\r\n                {navigationConfig.mainNavigation.map((item) => (\r\n                  <button\r\n                    key={item.name}\r\n                    onClick={() => handleNavigation(item.path)}\r\n                    className=\"px-3 py-3 lg:px-4 lg:py-4 text-[#2E2E2E] hover:text-[#18A36C] transition-colors text-sm lg:text-base hidden lg:block cursor-pointer\"\r\n                  >\r\n                    {item.name}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n\r\n              <div className=\"ml-auto flex items-center gap-2 lg:gap-4\">\r\n                <div className=\"hidden lg:flex items-center gap-3\">\r\n                  <SMProfileButton onAuthModalOpen={(type) => {\r\n                    setAuthModalType(type || 'login');\r\n                    setIsAuthModalOpen(true);\r\n                  }} />\r\n                  {session === undefined ? (\r\n                    <span className=\"inline-block animate-pulse bg-gray-200 rounded-lg w-24 h-9\">&nbsp;</span>\r\n                  ) : !session && (\r\n                    <Button\r\n                      onClick={() => {\r\n                        setAuthModalType('register');\r\n                        setIsAuthModalOpen(true);\r\n                      }}\r\n                      className=\"bg-[#18A36C] hover:bg-[#15905f] text-white px-4 py-2 cursor-pointer rounded-lg transition-all text-sm h-9\"\r\n                    >\r\n                      Регистрация\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"lg:hidden\">\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    onClick={() => setIsBurgerMenuOpen(!isBurgerMenuOpen)}\r\n                    className=\"p-2\"\r\n                  >\r\n                    {isBurgerMenuOpen ? (\r\n                      <X className=\"w-5 h-5\" />\r\n                    ) : (\r\n                      <Menu className=\"w-5 h-5\" />\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </nav>\r\n            <SMBurgerMenu onAuthModalOpen={(type) => {\r\n              setAuthModalType(type || 'login');\r\n              setIsAuthModalOpen(true);\r\n            }} />\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Compact Sticky Header (slides down when scrolling) */}\r\n      <header className={`fixed top-0 left-0 right-0 z-50 bg-white shadow-md transition-transform duration-300 ease-in-out ${isScrolled ? 'translate-y-0' : '-translate-y-full'}`}>\r\n        <div className=\"py-3 lg:py-4\">\r\n          <div className=\"max-w-7xl mx-auto px-4\">\r\n            <div className=\"hidden lg:flex items-center gap-6 justify-between\">\r\n              {/* Left side: Burger + Logo */}\r\n              <div className=\"flex items-center gap-4\">\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={() => setIsNavModalOpen(true)}\r\n                  className=\"p-2 hover:bg-[#18A36C]/10 cursor-pointer rounded-lg\"\r\n                >\r\n                  <Menu className=\"w-6 h-6 text-[#18A36C]\" />\r\n                </Button>\r\n\r\n                <button\r\n                  onClick={() => handleNavigation(\"/\")}\r\n                  className=\"flex items-center cursor-pointer\"\r\n                >\r\n                  <SMLogo />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Center: Search */}\r\n              <div className=\"flex-1 max-w-md\">\r\n                <button\r\n                  onClick={() => setIsSearchOpen(true)}\r\n                  className=\"w-full relative cursor-pointer\"\r\n                >\r\n                  <Input\r\n                    type=\"text\"\r\n                    placeholder=\"Поиск...\"\r\n                    readOnly\r\n                    className=\"pl-4 pr-10 bg-gray-50 border-0 h-10 rounded-lg focus:outline-none focus:shadow-none cursor-pointer text-sm\"\r\n                  />\r\n                  <div className=\"absolute right-1 top-1 h-8 w-8 bg-[#18A36C] cursor-pointer rounded flex items-center justify-center\">\r\n                    <Search className=\"w-4 h-4 text-white\" />\r\n                  </div>\r\n                </button>\r\n              </div>\r\n\r\n              {/* Right side: Phone + Auth buttons */}\r\n              <div className=\"flex items-center gap-4\">\r\n                {/* Phone */}\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Phone className=\"w-5 h-5 text-[#18A36C]\" />\r\n                  {contactsLoading || !contacts ? (\r\n                    <span className=\"inline-block animate-pulse bg-gray-200 rounded w-28 h-5\">&nbsp;</span>\r\n                  ) : (\r\n                    <div className=\"flex flex-col gap-0.5\">\r\n                      <a\r\n                        href={`tel:${contacts.phone_number.replace(/[\\s\\-]/g, '')}`}\r\n                        className=\"text-sm text-gray-700 hover:text-[#18A36C] transition-colors cursor-pointer font-medium\"\r\n                      >\r\n                        {contacts.phone_number}\r\n                      </a>\r\n                      {contacts.phone_number_sec && (\r\n                        <a\r\n                          href={`tel:${contacts.phone_number_sec.replace(/[\\s\\-]/g, '')}`}\r\n                          className=\"text-xs text-gray-500 hover:text-[#18A36C] transition-colors cursor-pointer\"\r\n                        >\r\n                          {contacts.phone_number_sec}\r\n                        </a>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Divider */}\r\n                <div className=\"h-6 w-px bg-gray-300\" />\r\n\r\n                {/* Profile button */}\r\n                <SMProfileButton onAuthModalOpen={(type) => {\r\n                  setAuthModalType(type || 'login');\r\n                  setIsAuthModalOpen(true);\r\n                }} />\r\n\r\n                {/* Register button */}\r\n                {session === undefined ? (\r\n                  <span className=\"inline-block animate-pulse bg-gray-200 rounded-lg w-24 h-9\">&nbsp;</span>\r\n                ) : !session && (\r\n                  <Button\r\n                    onClick={() => {\r\n                      setAuthModalType('register');\r\n                      setIsAuthModalOpen(true);\r\n                    }}\r\n                    className=\"bg-[#18A36C] hover:bg-[#15905f] text-white px-4 py-2 cursor-pointer rounded-lg transition-all text-sm h-9\"\r\n                  >\r\n                    Регистрация\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <SearchModal\r\n        isOpen={isSearchOpen}\r\n        onClose={() => setIsSearchOpen(false)}\r\n      />\r\n\r\n      <AuthModals\r\n        isOpen={isAuthModalOpen}\r\n        isLoading={isLoading}\r\n        initialType={authModalType}\r\n        onClose={() => {\r\n          setIsAuthModalOpen(false);\r\n        }}\r\n        onLogin={async (credentials: LoginData) => {\r\n          setIsLoading(true);\r\n\r\n          try {\r\n            const result = await signIn(\"credentials\", {\r\n              login: credentials.login,\r\n              password: credentials.password,\r\n              redirect: false,\r\n            });\r\n\r\n            if (result?.error) {\r\n              alert.error(\"Неверный логин или пароль\", \"Ошибка входа\");\r\n            } else if (result?.ok) {\r\n              setIsAuthModalOpen(false);\r\n              alert.success(\"Вы успешно вошли в систему!\", \"Добро пожаловать\");\r\n              router.push(\"/account\");\r\n              router.refresh();\r\n            }\r\n          } catch (err) {\r\n            alert.error(\"Ошибка при входе. Попробуйте позже.\", \"Ошибка\");\r\n            console.error(\"Login error:\", err);\r\n          } finally {\r\n            setIsLoading(false);\r\n          }\r\n        }}\r\n        onRegister={async (userData: RegisterData) => {\r\n          setIsLoading(true);\r\n\r\n          try {\r\n            const response = await fetch(\"/api/auth/register\", {\r\n              method: \"POST\",\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n              },\r\n              body: JSON.stringify({\r\n                lastName: userData.lastName,\r\n                firstName: userData.firstName,\r\n                middleName: userData.middleName,\r\n                email: userData.email,\r\n                phone: userData.phone,\r\n                password: userData.password,\r\n                confirmPassword: userData.confirmPassword,\r\n                login: userData.login,\r\n              }),\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (!response.ok) {\r\n              alert.error(data.error || \"Ошибка при регистрации\", \"Ошибка регистрации\");\r\n              return;\r\n            }\r\n\r\n            // После успешной регистрации автоматически входим\r\n            const loginResult = await signIn(\"credentials\", {\r\n              login: userData.login,\r\n              password: userData.password,\r\n              redirect: false,\r\n            });\r\n\r\n            if (loginResult?.ok) {\r\n              setIsAuthModalOpen(false);\r\n              alert.success(\"Регистрация прошла успешно! Добро пожаловать!\", \"Успешная регистрация\");\r\n              router.push(\"/account\");\r\n              router.refresh();\r\n            }\r\n          } catch (err) {\r\n            alert.error(\"Ошибка при регистрации. Попробуйте позже.\", \"Ошибка\");\r\n            console.error(\"Register error:\", err);\r\n          } finally {\r\n            setIsLoading(false);\r\n          }\r\n        }}\r\n        onForgotPassword={async (email: string) => {\r\n          setIsLoading(true);\r\n\r\n          try {\r\n            // TODO: Реализовать API для восстановления пароля\r\n            console.log(\"Forgot password:\", email);\r\n            alert.warning(\"Функция восстановления пароля пока не реализована\", \"Скоро будет\");\r\n          } catch (err) {\r\n            alert.error(\"Ошибка при восстановлении пароля. Попробуйте позже.\", \"Ошибка\");\r\n            console.error(\"Forgot password error:\", err);\r\n          } finally {\r\n            setIsLoading(false);\r\n          }\r\n        }}\r\n      />\r\n\r\n      <NavigationModal\r\n        isOpen={isNavModalOpen}\r\n        onClose={() => setIsNavModalOpen(false)}\r\n        onNavigate={handleNavigation}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","const SMMobileLogo = () => {\r\n    return (\r\n        <svg\r\n        width=\"80\"\r\n        height=\"26\"\r\n        viewBox=\"0 0 1357 445\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <path\r\n          d=\"M201.163 297.279C243.75 276.133 286.92 218.408 297.176 185.301C297.453 184.405 296.423 183.712 295.641 184.232C283.518 192.299 275.235 192.695 272.948 192.623C272.554 192.61 272.241 192.35 272.121 191.975C265.521 171.284 232.537 139.645 210.813 123.969C209.836 123.264 208.839 124.53 209.673 125.399C271.877 190.177 235.12 267.161 200.043 295.218C199.083 295.986 200.062 297.826 201.163 297.279Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M266.034 138.835C259.952 146.551 261.277 157.737 268.994 163.819C276.71 169.901 287.896 168.576 293.978 160.859C300.06 153.143 298.735 141.957 291.018 135.875C283.302 129.793 272.116 131.118 266.034 138.835Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M44.199 79.366C44.9722 78.5247 46.2963 79.4583 45.8104 80.4925C34.2598 105.079 28.7626 132.651 31.0063 161.326C38.1834 253.047 98.0049 323.176 194.024 315.662C238.855 312.154 265.67 295.631 293.127 266.891C293.916 266.066 295.246 266.965 294.736 267.986C268.813 319.923 223.566 358.5 160.155 357.463C58.5001 355.802 -1.10945 272.788 0.0156464 203.952C0.800791 155.915 13.9319 112.297 44.199 79.366Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M180.37 33.7175C181.285 53.2325 166.207 69.7944 146.692 70.7096C127.177 71.6247 110.615 56.5466 109.7 37.0316C108.784 17.5166 123.863 0.954726 143.377 0.0395513C162.892 -0.875624 179.454 14.2025 180.37 33.7175Z\"\r\n          fill=\"#18A36C\"\r\n        />\r\n        <path\r\n          d=\"M102.398 367.107C56.0293 284.548 58.3056 130.124 85.6984 65.2306C86.0843 64.3165 86.8166 64.258 87.0128 65.2306C91.4503 87.2281 109.237 105.269 112.461 107.807C112.791 108.067 113.227 108.082 113.577 107.85C150.888 83.1781 252.817 76.6325 303.459 81.3393C304.66 81.4508 304.486 83.1083 303.286 83.2156C111.473 100.35 83.5928 285.481 104.268 366.288C104.559 367.429 102.975 368.133 102.398 367.107Z\"\r\n          fill=\"#18A36C\"\r\n        />\r\n        <path\r\n          d=\"M448.913 301.228V441.228H418.913V301.228H448.913ZM494.313 368.028V376.428H448.313V368.028H494.313ZM1021.11 301.228V309.828H448.313V301.228H1021.11ZM494.313 376.028V395.228H492.313V393.628C492.313 388.695 490.713 384.628 487.513 381.428C484.313 378.228 480.246 376.561 475.313 376.428V376.028H494.313ZM494.313 349.228V368.428H475.313V368.028C480.246 367.895 484.313 366.228 487.513 363.028C490.713 359.695 492.313 355.561 492.313 350.628V349.228H494.313ZM419.513 426.628V441.228H403.513V439.228C403.513 439.228 403.913 439.228 404.713 439.228C405.646 439.228 406.113 439.228 406.113 439.228C409.579 439.228 412.513 438.028 414.913 435.628C417.446 433.095 418.779 430.095 418.913 426.628H419.513ZM419.513 315.828H418.913C418.779 312.361 417.446 309.428 414.913 307.028C412.513 304.495 409.579 303.228 406.113 303.228C406.113 303.228 405.646 303.228 404.713 303.228C403.913 303.228 403.513 303.228 403.513 303.228V301.228H419.513V315.828ZM448.313 426.628H448.913C449.046 430.095 450.313 433.095 452.713 435.628C455.246 438.028 458.246 439.228 461.713 439.228C461.713 439.228 462.113 439.228 462.913 439.228C463.713 439.228 464.179 439.228 464.313 439.228V441.228H448.313V426.628Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M552.753 326.028L605.073 440.268H576.273L542.993 356.908L552.753 326.028ZM518.353 429.548C517.499 431.681 517.339 433.495 517.873 434.988C518.406 436.482 519.313 437.655 520.593 438.508C521.873 439.255 523.153 439.628 524.433 439.628H525.873V441.228H491.633V439.628C491.633 439.628 491.899 439.628 492.433 439.628C492.859 439.628 493.073 439.628 493.073 439.628C495.526 439.628 498.033 438.882 500.593 437.388C503.259 435.788 505.446 433.175 507.153 429.548H518.353ZM552.753 326.028L553.393 345.548L513.713 440.748H502.033L543.473 346.988C543.793 346.348 544.326 345.175 545.073 343.468C545.926 341.655 546.779 339.628 547.633 337.388C548.593 335.148 549.446 333.015 550.193 330.988C550.939 328.855 551.313 327.201 551.313 326.028H552.753ZM569.553 403.148V409.868H522.513V403.148H569.553ZM571.953 429.548H599.953C601.766 433.175 603.953 435.788 606.513 437.388C609.073 438.882 611.579 439.628 614.033 439.628C614.033 439.628 614.246 439.628 614.673 439.628C615.099 439.628 615.313 439.628 615.313 439.628V441.228H564.433V439.628H565.873C568.006 439.628 569.873 438.775 571.473 437.068C573.073 435.255 573.233 432.748 571.953 429.548Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M734 326.988L735.28 344.428L687.76 426.828C687.76 426.828 687.227 427.788 686.16 429.708C685.094 431.521 684.027 433.762 682.96 436.428C682 439.095 681.52 441.762 681.52 444.428H679.92L673.68 430.508L734 326.988ZM625.52 429.548V441.228H607.76V439.628C607.867 439.628 608.347 439.628 609.2 439.628C609.947 439.628 610.32 439.628 610.32 439.628C613.2 439.628 615.76 438.775 618 437.068C620.24 435.255 621.574 432.748 622 429.548H625.52ZM632.56 432.108C632.56 432.215 632.56 432.322 632.56 432.428C632.56 432.535 632.56 432.695 632.56 432.908C632.56 434.615 633.147 436.215 634.32 437.708C635.6 439.095 637.094 439.788 638.8 439.788H641.2V441.228H631.44V432.108H632.56ZM635.28 326.988H636.72L642.32 342.988L631.6 441.228H620.4L635.28 326.988ZM636.72 326.988L689.04 412.908L679.92 444.428L632.56 364.908L636.72 326.988ZM735.44 326.988L750.64 441.228H724.88L716.88 367.628L734 326.988H735.44ZM745.68 429.548H749.04C749.574 432.748 750.96 435.255 753.2 437.068C755.44 438.775 757.947 439.628 760.72 439.628C760.72 439.628 761.147 439.628 762 439.628C762.854 439.628 763.28 439.628 763.28 439.628V441.228H745.68V429.548ZM723.92 432.108H725.04V441.228H715.28V439.788H717.68C719.494 439.788 720.987 439.095 722.16 437.708C723.334 436.215 723.92 434.615 723.92 432.908C723.92 432.695 723.92 432.535 723.92 432.428C723.92 432.322 723.92 432.215 723.92 432.108Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M803.14 329.228V441.228H779.14V329.228H803.14ZM779.62 429.548V441.228H766.82V439.628C766.82 439.628 767.14 439.628 767.78 439.628C768.527 439.628 768.9 439.628 768.9 439.628C771.674 439.628 774.02 438.668 775.94 436.748C777.967 434.721 779.034 432.322 779.14 429.548H779.62ZM779.62 340.908H779.14C779.034 338.135 777.967 335.788 775.94 333.868C774.02 331.841 771.674 330.828 768.9 330.828C768.9 330.828 768.527 330.828 767.78 330.828C767.14 330.828 766.82 330.828 766.82 330.828V329.228H779.62V340.908ZM802.66 429.548H803.14C803.247 432.322 804.26 434.721 806.18 436.748C808.207 438.668 810.607 439.628 813.38 439.628C813.38 439.628 813.7 439.628 814.34 439.628C814.98 439.628 815.354 439.628 815.46 439.628V441.228H802.66V429.548ZM802.66 340.908V329.228H815.46V330.828C815.354 330.828 814.98 330.828 814.34 330.828C813.7 330.828 813.38 330.828 813.38 330.828C810.607 330.828 808.207 331.841 806.18 333.868C804.26 335.788 803.247 338.135 803.14 340.908H802.66Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M863.415 329.228V441.228H839.415V329.228H863.415ZM905.655 434.348L909.495 441.228H862.935V434.348H905.655ZM917.335 408.428L909.975 441.228H878.615L884.375 434.348C889.709 434.348 894.402 433.335 898.455 431.308C902.509 429.175 905.975 426.188 908.855 422.348C911.735 418.401 914.029 413.762 915.735 408.428H917.335ZM839.895 429.548V441.228H827.095V439.628C827.095 439.628 827.415 439.628 828.055 439.628C828.802 439.628 829.175 439.628 829.175 439.628C831.949 439.628 834.295 438.668 836.215 436.748C838.242 434.721 839.309 432.322 839.415 429.548H839.895ZM839.895 340.908H839.415C839.309 338.135 838.242 335.788 836.215 333.868C834.295 331.841 831.949 330.828 829.175 330.828C829.175 330.828 828.802 330.828 828.055 330.828C827.415 330.828 827.095 330.828 827.095 330.828V329.228H839.895V340.908ZM862.935 340.908V329.228H875.735V330.828C875.629 330.828 875.255 330.828 874.615 330.828C873.975 330.828 873.655 330.828 873.655 330.828C870.882 330.828 868.482 331.841 866.455 333.868C864.535 335.788 863.522 338.135 863.415 340.908H862.935Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M936.449 329.388L969.249 388.908L946.529 391.148L909.089 329.388H936.449ZM970.049 389.708V441.228H946.049V389.708H970.049ZM995.809 329.388H1008.29L968.449 392.908L960.289 391.308L995.809 329.388ZM989.249 340.748C990.209 339.255 990.476 337.762 990.049 336.268C989.622 334.668 988.822 333.388 987.649 332.428C986.476 331.361 985.142 330.828 983.649 330.828C983.649 330.828 983.329 330.828 982.689 330.828C982.049 330.828 981.729 330.828 981.729 330.828V329.228H1019.97V330.828H1017.73C1014.42 330.828 1011.28 331.788 1008.29 333.708C1005.41 335.628 1003.17 337.815 1001.57 340.268L989.249 340.748ZM942.689 340.748L915.649 340.268C914.156 337.815 911.969 335.628 909.089 333.708C906.209 331.788 903.062 330.828 899.649 330.828H897.409V329.228H950.369V330.828C950.369 330.828 949.996 330.828 949.249 330.828C948.609 330.828 948.289 330.828 948.289 330.828C945.942 330.828 944.129 331.948 942.849 334.188C941.676 336.321 941.622 338.508 942.689 340.748ZM946.529 429.548V441.228H933.729V439.628C933.729 439.628 934.049 439.628 934.689 439.628C935.329 439.628 935.702 439.628 935.809 439.628C938.582 439.628 940.929 438.668 942.849 436.748C944.876 434.721 945.942 432.322 946.049 429.548H946.529ZM969.569 429.548H970.049C970.049 432.322 971.062 434.721 973.089 436.748C975.116 438.668 977.516 439.628 980.289 439.628C980.289 439.628 980.609 439.628 981.249 439.628C981.889 439.628 982.209 439.628 982.209 439.628V441.228H969.569V429.548Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M648.913 120.428C664.913 120.428 678.779 123.428 690.513 129.428C702.379 135.295 711.513 143.628 717.913 154.428C724.446 165.228 727.713 178.161 727.713 193.228C727.713 208.161 724.446 221.095 717.913 232.028C711.513 242.828 702.379 251.228 690.513 257.228C678.779 263.095 664.913 266.028 648.913 266.028C632.913 266.028 618.979 263.095 607.113 257.228C595.379 251.228 586.313 242.828 579.913 232.028C573.513 221.228 570.313 208.295 570.313 193.228C570.313 178.295 573.513 165.428 579.913 154.628C586.313 143.695 595.379 135.295 607.113 129.428C618.979 123.428 632.913 120.428 648.913 120.428ZM648.913 257.628C658.379 257.628 666.513 255.028 673.313 249.828C680.113 244.495 685.379 237.028 689.113 227.428C692.846 217.828 694.713 206.428 694.713 193.228C694.713 180.028 692.846 168.628 689.113 159.028C685.379 149.428 680.113 142.028 673.313 136.828C666.513 131.495 658.379 128.828 648.913 128.828C639.579 128.828 631.446 131.495 624.513 136.828C617.713 142.028 612.446 149.428 608.713 159.028C604.979 168.628 603.113 180.028 603.113 193.228C603.113 206.428 604.979 217.828 608.713 227.428C612.446 237.028 617.713 244.495 624.513 249.828C631.446 255.028 639.579 257.628 648.913 257.628Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M880.842 204.828L882.642 239.228C879.709 244.161 875.776 248.628 870.842 252.628C865.909 256.628 859.776 259.895 852.443 262.428C845.109 264.828 836.443 266.028 826.443 266.028C810.176 265.895 795.909 262.961 783.642 257.228C771.509 251.361 762.109 243.028 755.442 232.228C748.776 221.428 745.442 208.361 745.442 193.028C745.442 178.095 748.709 165.228 755.242 154.428C761.776 143.495 771.109 135.095 783.242 129.228C795.509 123.361 810.109 120.428 827.042 120.428C837.709 120.428 847.242 121.495 855.642 123.628C864.176 125.761 871.309 128.361 877.042 131.428L877.242 165.628H875.443C871.843 152.428 865.976 143.028 857.842 137.428C849.709 131.695 840.176 128.828 829.242 128.828C818.576 128.828 809.442 131.428 801.842 136.628C794.242 141.828 788.376 149.161 784.242 158.628C780.109 168.095 778.042 179.428 778.042 192.628C778.042 205.828 779.976 217.228 783.842 226.828C787.842 236.428 793.442 243.895 800.642 249.228C807.976 254.561 816.576 257.361 826.443 257.628C836.709 257.628 845.376 255.961 852.443 252.628C859.509 249.295 865.176 243.761 869.443 236.028C873.843 228.295 877.109 217.895 879.242 204.828H880.842Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M972.297 123.828V263.228H942.297V123.828H972.297ZM1021.3 123.028V131.428H893.297V123.028H1021.3ZM1021.3 130.828V154.428L1019.3 154.228V152.028C1019.3 145.761 1017.43 140.828 1013.7 137.228C1010.1 133.495 1005.16 131.561 998.897 131.428V130.828H1021.3ZM1021.3 119.428V125.228L996.897 123.028C999.831 123.028 1002.9 122.828 1006.1 122.428C1009.43 122.028 1012.5 121.561 1015.3 121.028C1018.1 120.495 1020.1 119.961 1021.3 119.428ZM942.897 248.628V263.228H926.897V261.228C926.897 261.228 927.297 261.228 928.097 261.228C929.031 261.228 929.497 261.228 929.497 261.228C932.964 261.228 935.897 260.028 938.297 257.628C940.831 255.095 942.164 252.095 942.297 248.628H942.897ZM971.697 248.628H972.297C972.431 252.095 973.697 255.095 976.097 257.628C978.63 260.028 981.63 261.228 985.097 261.228C985.097 261.228 985.497 261.228 986.297 261.228C987.231 261.228 987.697 261.228 987.697 261.228V263.228H971.697V248.628ZM915.497 130.828V131.428C909.364 131.561 904.43 133.495 900.697 137.228C897.097 140.828 895.297 145.761 895.297 152.028V154.228L893.297 154.428V130.828H915.497ZM893.297 119.428C894.63 119.961 896.63 120.495 899.297 121.028C902.097 121.561 905.164 122.028 908.497 122.428C911.831 122.828 914.897 123.028 917.697 123.028L893.297 125.228V119.428Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M1250.31 123.228H1276.11C1282.11 123.228 1287.98 123.895 1293.71 125.228C1299.45 126.561 1304.51 128.695 1308.91 131.628C1313.45 134.561 1317.05 138.428 1319.71 143.228C1322.38 148.028 1323.71 153.961 1323.71 161.028C1323.71 166.628 1322.51 172.228 1320.11 177.828C1317.85 183.295 1314.31 188.028 1309.51 192.028C1304.71 195.895 1298.51 198.228 1290.91 199.028C1295.18 200.361 1299.05 202.761 1302.51 206.228C1306.11 209.695 1309.05 213.161 1311.31 216.628C1311.45 216.895 1312.18 218.095 1313.51 220.228C1314.98 222.361 1316.71 225.028 1318.71 228.228C1320.85 231.295 1323.05 234.428 1325.31 237.628C1327.58 240.828 1329.65 243.628 1331.51 246.028C1334.45 249.628 1337.11 252.561 1339.51 254.828C1341.91 256.961 1344.45 258.561 1347.11 259.628C1349.78 260.561 1352.85 261.095 1356.31 261.228V263.228H1336.71C1329.51 263.228 1322.98 262.628 1317.11 261.428C1311.25 260.095 1306.05 257.895 1301.51 254.828C1296.98 251.761 1293.05 247.628 1289.71 242.428C1288.65 240.828 1287.45 238.828 1286.11 236.428C1284.91 233.895 1283.65 231.228 1282.31 228.428C1280.98 225.628 1279.65 222.961 1278.31 220.428C1277.11 217.761 1276.05 215.361 1275.11 213.228C1274.18 211.095 1273.51 209.428 1273.11 208.228C1271.38 203.961 1269.31 200.761 1266.91 198.628C1264.65 196.495 1262.18 195.228 1259.51 194.828V192.828C1259.91 192.828 1260.71 192.828 1261.91 192.828C1263.11 192.828 1264.38 192.828 1265.71 192.828C1269.31 192.828 1272.78 192.095 1276.11 190.628C1279.58 189.161 1282.65 186.761 1285.31 183.428C1287.98 180.095 1289.85 175.495 1290.91 169.628C1291.18 168.428 1291.38 167.028 1291.51 165.428C1291.78 163.828 1291.85 162.028 1291.71 160.028C1291.31 150.428 1288.91 143.428 1284.51 139.028C1280.11 134.495 1274.65 132.161 1268.11 132.028C1266.25 131.895 1264.18 131.895 1261.91 132.028C1259.78 132.028 1257.78 132.028 1255.91 132.028C1254.18 132.028 1252.98 132.028 1252.31 132.028C1252.31 131.895 1252.11 131.161 1251.71 129.828C1251.45 128.361 1251.11 126.895 1250.71 125.428C1250.45 123.961 1250.31 123.228 1250.31 123.228ZM1252.91 123.228V263.228H1222.91V123.228H1252.91ZM1223.51 248.628V263.228H1207.51V261.228C1207.65 261.228 1208.05 261.228 1208.71 261.228C1209.51 261.228 1209.98 261.228 1210.11 261.228C1213.58 261.228 1216.51 260.028 1218.91 257.628C1221.45 255.095 1222.78 252.095 1222.91 248.628H1223.51ZM1223.51 137.828H1222.91C1222.78 134.361 1221.45 131.428 1218.91 129.028C1216.51 126.495 1213.58 125.228 1210.11 125.228C1209.98 125.228 1209.51 125.228 1208.71 125.228C1208.05 125.228 1207.65 125.228 1207.51 125.228V123.228H1223.51V137.828ZM1252.31 248.628H1252.91C1252.91 252.095 1254.18 255.095 1256.71 257.628C1259.25 260.028 1262.25 261.228 1265.71 261.228C1265.98 261.228 1266.45 261.228 1267.11 261.228C1267.78 261.228 1268.11 261.228 1268.11 261.228V263.228H1252.31V248.628Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M451.813 81.2281C472.266 81.2281 489.946 84.9548 504.853 92.4082C519.759 99.6882 531.199 110.175 539.173 123.868C547.319 137.388 551.393 153.508 551.393 172.228C551.393 190.948 547.319 207.155 539.173 220.848C531.199 234.368 519.759 244.855 504.853 252.308C489.946 259.588 472.266 263.228 451.813 263.228H389.933L389.673 252.308C394.699 252.308 399.899 252.308 405.273 252.308C410.819 252.308 416.193 252.308 421.393 252.308C426.593 252.308 431.186 252.308 435.173 252.308C439.333 252.308 442.626 252.308 445.053 252.308C447.479 252.308 448.693 252.308 448.693 252.308C461.173 252.308 471.919 249.101 480.933 242.688C489.946 236.101 496.879 226.828 501.733 214.868C506.586 202.908 509.013 188.695 509.013 172.228C509.013 155.761 506.586 141.548 501.733 129.588C496.879 117.628 489.946 108.441 480.933 102.028C471.919 95.4415 461.173 92.1481 448.693 92.1481C448.693 92.1481 447.393 92.1481 444.793 92.1481C442.366 92.1481 438.986 92.1481 434.653 92.1481C430.319 92.1481 425.466 92.1481 420.093 92.1481C414.719 92.1481 409.173 92.1481 403.453 92.1481C397.733 92.1481 392.273 92.1481 387.073 92.1481V81.2281H451.813ZM416.453 81.2281V263.228H377.453V81.2281H416.453ZM378.233 244.248V263.228H357.433V260.628C357.433 260.628 357.953 260.628 358.993 260.628C360.206 260.628 360.813 260.628 360.813 260.628C365.319 260.628 369.133 259.068 372.253 255.948C375.546 252.655 377.279 248.755 377.453 244.248H378.233ZM378.233 100.208H377.453C377.453 95.7015 375.806 91.8881 372.513 88.7682C369.219 85.4748 365.319 83.8281 360.813 83.8281C360.813 83.8281 360.293 83.8281 359.253 83.8281C358.213 83.8281 357.693 83.8281 357.693 83.8281L357.433 81.2281H378.233V100.208Z\"\r\n          fill=\"#085F77\"\r\n        />\r\n        <path\r\n          d=\"M1203.51 194.728C1203.51 243.605 1163.89 283.228 1115.01 283.228C1066.14 283.228 1026.51 243.605 1026.51 194.728C1026.51 145.851 1066.14 106.228 1115.01 106.228C1163.89 106.228 1203.51 145.851 1203.51 194.728Z\"\r\n          fill=\"#18A36C\"\r\n        />\r\n      </svg>\r\n    )\r\n}\r\nexport default SMMobileLogo;","\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { Search, X, Loader2, FileText, Users, Briefcase, HelpCircle, Sparkles, Building2, MapPin, User } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useRouter } from \"next/navigation\";\n\ninterface SearchResult {\n  id: string;\n  title: string;\n  description: string;\n  category: string;\n  url: string;\n  type: \"service\" | \"specialist\" | \"vacancy\" | \"faq\" | \"material\" | \"partner\" | \"contact\" | \"patient-info\";\n}\n\ninterface SearchModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst categoryIcons = {\n  service: FileText,\n  specialist: Users,\n  vacancy: Briefcase,\n  faq: HelpCircle,\n  material: Sparkles,\n  partner: Building2,\n  contact: MapPin,\n  \"patient-info\": User,\n};\n\nconst categoryNames = {\n  service: \"Услуги\",\n  specialist: \"Специалисты\",\n  vacancy: \"Вакансии\",\n  faq: \"FAQ\",\n  material: \"Материалы\",\n  partner: \"Партнёры\",\n  contact: \"Контакты\",\n  \"patient-info\": \"Пациенту\",\n};\n\nexport function SearchModal({ isOpen, onClose }: SearchModalProps) {\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState<SearchResult[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const router = useRouter();\n\n  // Focus input when modal opens\n  useEffect(() => {\n    if (isOpen && inputRef.current) {\n      setTimeout(() => inputRef.current?.focus(), 100);\n    }\n  }, [isOpen]);\n\n  // Close on Escape\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\" && isOpen) {\n        onClose();\n      }\n    };\n    window.addEventListener(\"keydown\", handleEscape);\n    return () => window.removeEventListener(\"keydown\", handleEscape);\n  }, [isOpen, onClose]);\n\n  // Search functionality\n  useEffect(() => {\n    if (!query.trim() || query.trim().length < 3) {\n      setResults([]);\n      setError(null);\n      return;\n    }\n\n    const searchTimer = setTimeout(async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await fetch(`/api/search?q=${encodeURIComponent(query)}`);\n        if (response.ok) {\n          const data = await response.json();\n\n          // Проверяем, есть ли ошибка в ответе (например, использование английского языка)\n          if (data.error) {\n            setError(data.error);\n            setResults([]);\n          } else {\n            setResults(data.results || []);\n            setError(null);\n          }\n        }\n      } catch (error) {\n        console.error(\"Search error:\", error);\n        setError(\"Ошибка при поиске. Попробуйте позже.\");\n      } finally {\n        setLoading(false);\n      }\n    }, 300); // Debounce\n\n    return () => clearTimeout(searchTimer);\n  }, [query]);\n\n  // Highlight search query in text\n  const highlightText = (text: string, query: string) => {\n    if (!query.trim() || query.trim().length < 3) return text;\n\n    try {\n      // Escape special regex characters\n      const escapedQuery = query.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n      const parts = text.split(new RegExp(`(${escapedQuery})`, \"gi\"));\n      return (\n        <span>\n          {parts.map((part, i) =>\n            part.toLowerCase() === query.toLowerCase() ? (\n              <span key={i} className=\"font-bold text-[#18A36C]\">\n                {part}\n              </span>\n            ) : (\n              <span key={i}>{part}</span>\n            )\n          )}\n        </span>\n      );\n    } catch (error) {\n      // If regex fails, return original text\n      return text;\n    }\n  };\n\n  // Truncate text with ellipsis\n  const truncate = (text: string, maxLength: number) => {\n    if (text.length <= maxLength) return text;\n    return text.substring(0, maxLength) + \"...\";\n  };\n\n  const handleResultClick = (result: SearchResult) => {\n    router.push(result.url);\n    onClose();\n    setQuery(\"\");\n  };\n\n  // Валидация ввода\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setQuery(value);\n    setError(null);\n  };\n\n  // Group results by category\n  const groupedResults = results.reduce((acc, result) => {\n    if (!acc[result.type]) {\n      acc[result.type] = [];\n    }\n    acc[result.type].push(result);\n    return acc;\n  }, {} as Record<string, SearchResult[]>);\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <>\n          {/* Backdrop */}\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50\"\n            onClick={onClose}\n          />\n\n          {/* Search Modal */}\n          <motion.div\n            initial={{ opacity: 0, y: -50 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -50 }}\n            transition={{ type: \"spring\", damping: 25, stiffness: 300 }}\n            className=\"fixed top-0 left-0 right-0 z-50 p-4 sm:p-6 md:p-8\"\n          >\n            <div className=\"max-w-3xl mx-auto\">\n              {/* Search Input */}\n              <div className=\"bg-white rounded-2xl shadow-2xl overflow-hidden\">\n                <div className=\"relative\">\n                  <Search className=\"absolute left-6 top-1/2 -translate-y-1/2 w-6 h-6 text-gray-400\" />\n                  <input\n                    ref={inputRef}\n                    type=\"text\"\n                    value={query}\n                    onChange={handleInputChange}\n                    placeholder=\"Поиск по сайту...\"\n                    className=\"w-full pl-16 pr-16 py-6 text-lg outline-none border-0 focus:ring-0\"\n                  />\n                  {loading && (\n                    <Loader2 className=\"absolute right-16 top-1/2 -translate-y-1/2 w-6 h-6 text-[#18A36C] animate-spin\" />\n                  )}\n                  <button\n                    onClick={onClose}\n                    className=\"absolute right-6 cursor-pointer top-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors\"\n                  >\n                    <X className=\"w-6 h-6 text-gray-400\" />\n                  </button>\n                </div>\n\n                {/* Results */}\n                {query.trim() && (\n                  <div className=\"border-t border-gray-200 max-h-[calc(100vh-250px)] sm:max-h-96 overflow-y-auto\">\n                    {query.trim().length < 3 && (\n                      <div className=\"p-8 text-center text-gray-500\">\n                        <Search className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" />\n                        <p className=\"text-lg\">Введите минимум 3 символа</p>\n                        <p className=\"text-sm mt-1\">Для начала поиска</p>\n                      </div>\n                    )}\n\n                    {error && query.trim().length >= 3 && !loading && (\n                      <div className=\"p-8 text-center\">\n                        <div className=\"w-12 h-12 mx-auto mb-3 bg-red-100 rounded-full flex items-center justify-center\">\n                          <X className=\"w-6 h-6 text-red-500\" />\n                        </div>\n                        <p className=\"text-lg text-red-600 font-medium\">{error}</p>\n                      </div>\n                    )}\n\n                    {query.trim().length >= 3 && results.length === 0 && !loading && !error && (\n                      <div className=\"p-8 text-center text-gray-500\">\n                        <Search className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" />\n                        <p className=\"text-lg\">Ничего не найдено</p>\n                        <p className=\"text-sm mt-1\">Попробуйте изменить запрос</p>\n                      </div>\n                    )}\n\n                    {Object.entries(groupedResults).map(([type, items]) => {\n                      const Icon = categoryIcons[type as keyof typeof categoryIcons];\n                      const categoryName = categoryNames[type as keyof typeof categoryNames];\n\n                      return (\n                        <div key={type} className=\"border-b border-gray-100 last:border-b-0\">\n                          <div className=\"px-6 py-3 bg-gray-50 flex items-center gap-2\">\n                            <Icon className=\"w-4 h-4 text-[#18A36C]\" />\n                            <span className=\"text-sm font-semibold text-gray-700\">\n                              {categoryName} ({items.length})\n                            </span>\n                          </div>\n\n                          {items.map((result) => (\n                            <motion.div\n                              key={result.id}\n                              initial={{ opacity: 0 }}\n                              animate={{ opacity: 1 }}\n                              className=\"px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors border-b border-gray-100 last:border-b-0\"\n                              onClick={() => handleResultClick(result)}\n                            >\n                              <div className=\"flex items-start gap-3\">\n                                <div className=\"flex-1 min-w-0\">\n                                  <h4 className=\"font-semibold text-gray-900 mb-1 line-clamp-1\">\n                                    {highlightText(result.title, query)}\n                                  </h4>\n                                  <p className=\"text-sm text-gray-600 line-clamp-2\">\n                                    {highlightText(truncate(result.description, 150), query)}\n                                  </p>\n                                </div>\n                              </div>\n                            </motion.div>\n                          ))}\n                        </div>\n                      );\n                    })}\n                  </div>\n                )}\n\n                {/* Quick Tips */}\n                {!query.trim() && (\n                  <div className=\"p-6 text-sm text-gray-500\">\n                    <p className=\"mb-3 font-medium text-gray-700\">Быстрый поиск по:</p>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\n                      {Object.entries(categoryNames).map(([key, name]) => {\n                        const Icon = categoryIcons[key as keyof typeof categoryIcons];\n                        return (\n                          <div key={key} className=\"flex items-center gap-2\">\n                            <Icon className=\"w-4 h-4 text-[#18A36C]\" />\n                            <span>{name}</span>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </motion.div>\n        </>\n      )}\n    </AnimatePresence>\n  );\n}\n","const SMBurgerMenuLogo = () => {\r\n    return (\r\n        <svg\r\n        width=\"80\"\r\n        height=\"26\"\r\n        viewBox=\"0 0 1357 445\"\r\n        fill=\"none\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <g fill=\"white\">\r\n          <path\r\n            d=\"M201.163 297.279C243.75 276.133 286.92 218.408 297.176 185.301C297.453 184.405 296.423 183.712 295.641 184.232C283.518 192.299 275.235 192.695 272.948 192.623C272.554 192.61 272.241 192.35 272.121 191.975C265.521 171.284 232.537 139.645 210.813 123.969C209.836 123.264 208.839 124.53 209.673 125.399C271.877 190.177 235.12 267.161 200.043 295.218C199.083 295.986 200.062 297.826 201.163 297.279Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M266.034 138.835C259.952 146.551 261.277 157.737 268.994 163.819C276.71 169.901 287.896 168.576 293.978 160.859C300.06 153.143 298.735 141.957 291.018 135.875C283.302 129.793 272.116 131.118 266.034 138.835Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M44.199 79.366C44.9722 78.5247 46.2963 79.4583 45.8104 80.4925C34.2598 105.079 28.7626 132.651 31.0063 161.326C38.1834 253.047 98.0049 323.176 194.024 315.662C238.855 312.154 265.67 295.631 293.127 266.891C293.916 266.066 295.246 266.965 294.736 267.986C268.813 319.923 223.566 358.5 160.155 357.463C58.5001 355.802 -1.10945 272.788 0.0156464 203.952C0.800791 155.915 13.9319 112.297 44.199 79.366Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M180.37 33.7175C181.285 53.2325 166.207 69.7944 146.692 70.7096C127.177 71.6247 110.615 56.5466 109.7 37.0316C108.784 17.5166 123.863 0.954726 143.377 0.0395513C162.892 -0.875624 179.454 14.2025 180.37 33.7175Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M102.398 367.107C56.0293 284.548 58.3056 130.124 85.6984 65.2306C86.0843 64.3165 86.8166 64.258 87.0128 65.2306C91.4503 87.2281 109.237 105.269 112.461 107.807C112.791 108.067 113.227 108.082 113.577 107.85C150.888 83.1781 252.817 76.6325 303.459 81.3393C304.66 81.4508 304.486 83.1083 303.286 83.2156C111.473 100.35 83.5928 285.481 104.268 366.288C104.559 367.429 102.975 368.133 102.398 367.107Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M448.913 301.228V441.228H418.913V301.228H448.913ZM494.313 368.028V376.428H448.313V368.028H494.313ZM1021.11 301.228V309.828H448.313V301.228H1021.11ZM494.313 376.028V395.228H492.313V393.628C492.313 388.695 490.713 384.628 487.513 381.428C484.313 378.228 480.246 376.561 475.313 376.428V376.028H494.313ZM494.313 349.228V368.428H475.313V368.028C480.246 367.895 484.313 366.228 487.513 363.028C490.713 359.695 492.313 355.561 492.313 350.628V349.228H494.313ZM419.513 426.628V441.228H403.513V439.228C403.513 439.228 403.913 439.228 404.713 439.228C405.646 439.228 406.113 439.228 406.113 439.228C409.579 439.228 412.513 438.028 414.913 435.628C417.446 433.095 418.779 430.095 418.913 426.628H419.513ZM419.513 315.828H418.913C418.779 312.361 417.446 309.428 414.913 307.028C412.513 304.495 409.579 303.228 406.113 303.228C406.113 303.228 405.646 303.228 404.713 303.228C403.913 303.228 403.513 303.228 403.513 303.228V301.228H419.513V315.828ZM448.313 426.628H448.913C449.046 430.095 450.313 433.095 452.713 435.628C455.246 438.028 458.246 439.228 461.713 439.228C461.713 439.228 462.113 439.228 462.913 439.228C463.713 439.228 464.179 439.228 464.313 439.228V441.228H448.313V426.628Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M552.753 326.028L605.073 440.268H576.273L542.993 356.908L552.753 326.028ZM518.353 429.548C517.499 431.681 517.339 433.495 517.873 434.988C518.406 436.482 519.313 437.655 520.593 438.508C521.873 439.255 523.153 439.628 524.433 439.628H525.873V441.228H491.633V439.628C491.633 439.628 491.899 439.628 492.433 439.628C492.859 439.628 493.073 439.628 493.073 439.628C495.526 439.628 498.033 438.882 500.593 437.388C503.259 435.788 505.446 433.175 507.153 429.548H518.353ZM552.753 326.028L553.393 345.548L513.713 440.748H502.033L543.473 346.988C543.793 346.348 544.326 345.175 545.073 343.468C545.926 341.655 546.779 339.628 547.633 337.388C548.593 335.148 549.446 333.015 550.193 330.988C550.939 328.855 551.313 327.201 551.313 326.028H552.753ZM569.553 403.148V409.868H522.513V403.148H569.553ZM571.953 429.548H599.953C601.766 433.175 603.953 435.788 606.513 437.388C609.073 438.882 611.579 439.628 614.033 439.628C614.033 439.628 614.246 439.628 614.673 439.628C615.099 439.628 615.313 439.628 615.313 439.628V441.228H564.433V439.628H565.873C568.006 439.628 569.873 438.775 571.473 437.068C573.073 435.255 573.233 432.748 571.953 429.548Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M734 326.988L735.28 344.428L687.76 426.828C687.76 426.828 687.227 427.788 686.16 429.708C685.094 431.521 684.027 433.762 682.96 436.428C682 439.095 681.52 441.762 681.52 444.428H679.92L673.68 430.508L734 326.988ZM625.52 429.548V441.228H607.76V439.628C607.867 439.628 608.347 439.628 609.2 439.628C609.947 439.628 610.32 439.628 610.32 439.628C613.2 439.628 615.76 438.775 618 437.068C620.24 435.255 621.574 432.748 622 429.548H625.52ZM632.56 432.108C632.56 432.215 632.56 432.322 632.56 432.428C632.56 432.535 632.56 432.695 632.56 432.908C632.56 434.615 633.147 436.215 634.32 437.708C635.6 439.095 637.094 439.788 638.8 439.788H641.2V441.228H631.44V432.108H632.56ZM635.28 326.988H636.72L642.32 342.988L631.6 441.228H620.4L635.28 326.988ZM636.72 326.988L689.04 412.908L679.92 444.428L632.56 364.908L636.72 326.988ZM735.44 326.988L750.64 441.228H724.88L716.88 367.628L734 326.988H735.44ZM745.68 429.548H749.04C749.574 432.748 750.96 435.255 753.2 437.068C755.44 438.775 757.947 439.628 760.72 439.628C760.72 439.628 761.147 439.628 762 439.628C762.854 439.628 763.28 439.628 763.28 439.628V441.228H745.68V429.548ZM723.92 432.108H725.04V441.228H715.28V439.788H717.68C719.494 439.788 720.987 439.095 722.16 437.708C723.334 436.215 723.92 434.615 723.92 432.908C723.92 432.695 723.92 432.535 723.92 432.428C723.92 432.322 723.92 432.215 723.92 432.108Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M803.14 329.228V441.228H779.14V329.228H803.14ZM779.62 429.548V441.228H766.82V439.628C766.82 439.628 767.14 439.628 767.78 439.628C768.527 439.628 768.9 439.628 768.9 439.628C771.674 439.628 774.02 438.668 775.94 436.748C777.967 434.721 779.034 432.322 779.14 429.548H779.62ZM779.62 340.908H779.14C779.034 338.135 777.967 335.788 775.94 333.868C774.02 331.841 771.674 330.828 768.9 330.828C768.9 330.828 768.527 330.828 767.78 330.828C767.14 330.828 766.82 330.828 766.82 330.828V329.228H779.62V340.908ZM802.66 429.548H803.14C803.247 432.322 804.26 434.721 806.18 436.748C808.207 438.668 810.607 439.628 813.38 439.628C813.38 439.628 813.7 439.628 814.34 439.628C814.98 439.628 815.354 439.628 815.46 439.628V441.228H802.66V429.548ZM802.66 340.908V329.228H815.46V330.828C815.354 330.828 814.98 330.828 814.34 330.828C813.7 330.828 813.38 330.828 813.38 330.828C810.607 330.828 808.207 331.841 806.18 333.868C804.26 335.788 803.247 338.135 803.14 340.908H802.66Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M863.415 329.228V441.228H839.415V329.228H863.415ZM905.655 434.348L909.495 441.228H862.935V434.348H905.655ZM917.335 408.428L909.975 441.228H878.615L884.375 434.348C889.709 434.348 894.402 433.335 898.455 431.308C902.509 429.175 905.975 426.188 908.855 422.348C911.735 418.401 914.029 413.762 915.735 408.428H917.335ZM839.895 429.548V441.228H827.095V439.628C827.095 439.628 827.415 439.628 828.055 439.628C828.802 439.628 829.175 439.628 829.175 439.628C831.949 439.628 834.295 438.668 836.215 436.748C838.242 434.721 839.309 432.322 839.415 429.548H839.895ZM839.895 340.908H839.415C839.309 338.135 838.242 335.788 836.215 333.868C834.295 331.841 831.949 330.828 829.175 330.828C829.175 330.828 828.802 330.828 828.055 330.828C827.415 330.828 827.095 330.828 827.095 330.828V329.228H839.895V340.908ZM862.935 340.908V329.228H875.735V330.828C875.629 330.828 875.255 330.828 874.615 330.828C873.975 330.828 873.655 330.828 873.655 330.828C870.882 330.828 868.482 331.841 866.455 333.868C864.535 335.788 863.522 338.135 863.415 340.908H862.935Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M936.449 329.388L969.249 388.908L946.529 391.148L909.089 329.388H936.449ZM970.049 389.708V441.228H946.049V389.708H970.049ZM995.809 329.388H1008.29L968.449 392.908L960.289 391.308L995.809 329.388ZM989.249 340.748C990.209 339.255 990.476 337.762 990.049 336.268C989.622 334.668 988.822 333.388 987.649 332.428C986.476 331.361 985.142 330.828 983.649 330.828C983.649 330.828 983.329 330.828 982.689 330.828C982.049 330.828 981.729 330.828 981.729 330.828V329.228H1019.97V330.828H1017.73C1014.42 330.828 1011.28 331.788 1008.29 333.708C1005.41 335.628 1003.17 337.815 1001.57 340.268L989.249 340.748ZM942.689 340.748L915.649 340.268C914.156 337.815 911.969 335.628 909.089 333.708C906.209 331.788 903.062 330.828 899.649 330.828H897.409V329.228H950.369V330.828C950.369 330.828 949.996 330.828 949.249 330.828C948.609 330.828 948.289 330.828 948.289 330.828C945.942 330.828 944.129 331.948 942.849 334.188C941.676 336.321 941.622 338.508 942.689 340.748ZM946.529 429.548V441.228H933.729V439.628C933.729 439.628 934.049 439.628 934.689 439.628C935.329 439.628 935.702 439.628 935.809 439.628C938.582 439.628 940.929 438.668 942.849 436.748C944.876 434.721 945.942 432.322 946.049 429.548H946.529ZM969.569 429.548H970.049C970.049 432.322 971.062 434.721 973.089 436.748C975.116 438.668 977.516 439.628 980.289 439.628C980.289 439.628 980.609 439.628 981.249 439.628C981.889 439.628 982.209 439.628 982.209 439.628V441.228H969.569V429.548Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M648.913 120.428C664.913 120.428 678.779 123.428 690.513 129.428C702.379 135.295 711.513 143.628 717.913 154.428C724.446 165.228 727.713 178.161 727.713 193.228C727.713 208.161 724.446 221.095 717.913 232.028C711.513 242.828 702.379 251.228 690.513 257.228C678.779 263.095 664.913 266.028 648.913 266.028C632.913 266.028 618.979 263.095 607.113 257.228C595.379 251.228 586.313 242.828 579.913 232.028C573.513 221.228 570.313 208.295 570.313 193.228C570.313 178.295 573.513 165.428 579.913 154.628C586.313 143.695 595.379 135.295 607.113 129.428C618.979 123.428 632.913 120.428 648.913 120.428ZM648.913 257.628C658.379 257.628 666.513 255.028 673.313 249.828C680.113 244.495 685.379 237.028 689.113 227.428C692.846 217.828 694.713 206.428 694.713 193.228C694.713 180.028 692.846 168.628 689.113 159.028C685.379 149.428 680.113 142.028 673.313 136.828C666.513 131.495 658.379 128.828 648.913 128.828C639.579 128.828 631.446 131.495 624.513 136.828C617.713 142.028 612.446 149.428 608.713 159.028C604.979 168.628 603.113 180.028 603.113 193.228C603.113 206.428 604.979 217.828 608.713 227.428C612.446 237.028 617.713 244.495 624.513 249.828C631.446 255.028 639.579 257.628 648.913 257.628Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M880.842 204.828L882.642 239.228C879.709 244.161 875.776 248.628 870.842 252.628C865.909 256.628 859.776 259.895 852.443 262.428C845.109 264.828 836.443 266.028 826.443 266.028C810.176 265.895 795.909 262.961 783.642 257.228C771.509 251.361 762.109 243.028 755.442 232.228C748.776 221.428 745.442 208.361 745.442 193.028C745.442 178.095 748.709 165.228 755.242 154.428C761.776 143.495 771.109 135.095 783.242 129.228C795.509 123.361 810.109 120.428 827.042 120.428C837.709 120.428 847.242 121.495 855.642 123.628C864.176 125.761 871.309 128.361 877.042 131.428L877.242 165.628H875.443C871.843 152.428 865.976 143.028 857.842 137.428C849.709 131.695 840.176 128.828 829.242 128.828C818.576 128.828 809.442 131.428 801.842 136.628C794.242 141.828 788.376 149.161 784.242 158.628C780.109 168.095 778.042 179.428 778.042 192.628C778.042 205.828 779.976 217.228 783.842 226.828C787.842 236.428 793.442 243.895 800.642 249.228C807.976 254.561 816.576 257.361 826.443 257.628C836.709 257.628 845.376 255.961 852.443 252.628C859.509 249.295 865.176 243.761 869.443 236.028C873.843 228.295 877.109 217.895 879.242 204.828H880.842Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M972.297 123.828V263.228H942.297V123.828H972.297ZM1021.3 123.028V131.428H893.297V123.028H1021.3ZM1021.3 130.828V154.428L1019.3 154.228V152.028C1019.3 145.761 1017.43 140.828 1013.7 137.228C1010.1 133.495 1005.16 131.561 998.897 131.428V130.828H1021.3ZM1021.3 119.428V125.228L996.897 123.028C999.831 123.028 1002.9 122.828 1006.1 122.428C1009.43 122.028 1012.5 121.561 1015.3 121.028C1018.1 120.495 1020.1 119.961 1021.3 119.428ZM942.897 248.628V263.228H926.897V261.228C926.897 261.228 927.297 261.228 928.097 261.228C929.031 261.228 929.497 261.228 929.497 261.228C932.964 261.228 935.897 260.028 938.297 257.628C940.831 255.095 942.164 252.095 942.297 248.628H942.897ZM971.697 248.628H972.297C972.431 252.095 973.697 255.095 976.097 257.628C978.63 260.028 981.63 261.228 985.097 261.228C985.097 261.228 985.497 261.228 986.297 261.228C987.231 261.228 987.697 261.228 987.697 261.228V263.228H971.697V248.628ZM915.497 130.828V131.428C909.364 131.561 904.43 133.495 900.697 137.228C897.097 140.828 895.297 145.761 895.297 152.028V154.228L893.297 154.428V130.828H915.497ZM893.297 119.428C894.63 119.961 896.63 120.495 899.297 121.028C902.097 121.561 905.164 122.028 908.497 122.428C911.831 122.828 914.897 123.028 917.697 123.028L893.297 125.228V119.428Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M1250.31 123.228H1276.11C1282.11 123.228 1287.98 123.895 1293.71 125.228C1299.45 126.561 1304.51 128.695 1308.91 131.628C1313.45 134.561 1317.05 138.428 1319.71 143.228C1322.38 148.028 1323.71 153.961 1323.71 161.028C1323.71 166.628 1322.51 172.228 1320.11 177.828C1317.85 183.295 1314.31 188.028 1309.51 192.028C1304.71 195.895 1298.51 198.228 1290.91 199.028C1295.18 200.361 1299.05 202.761 1302.51 206.228C1306.11 209.695 1309.05 213.161 1311.31 216.628C1311.45 216.895 1312.18 218.095 1313.51 220.228C1314.98 222.361 1316.71 225.028 1318.71 228.228C1320.85 231.295 1323.05 234.428 1325.31 237.628C1327.58 240.828 1329.65 243.628 1331.51 246.028C1334.45 249.628 1337.11 252.561 1339.51 254.828C1341.91 256.961 1344.45 258.561 1347.11 259.628C1349.78 260.561 1352.85 261.095 1356.31 261.228V263.228H1336.71C1329.51 263.228 1322.98 262.628 1317.11 261.428C1311.25 260.095 1306.05 257.895 1301.51 254.828C1296.98 251.761 1293.05 247.628 1289.71 242.428C1288.65 240.828 1287.45 238.828 1286.11 236.428C1284.91 233.895 1283.65 231.228 1282.31 228.428C1280.98 225.628 1279.65 222.961 1278.31 220.428C1277.11 217.761 1276.05 215.361 1275.11 213.228C1274.18 211.095 1273.51 209.428 1273.11 208.228C1271.38 203.961 1269.31 200.761 1266.91 198.628C1264.65 196.495 1262.18 195.228 1259.51 194.828V192.828C1259.91 192.828 1260.71 192.828 1261.91 192.828C1263.11 192.828 1264.38 192.828 1265.71 192.828C1269.31 192.828 1272.78 192.095 1276.11 190.628C1279.58 189.161 1282.65 186.761 1285.31 183.428C1287.98 180.095 1289.85 175.495 1290.91 169.628C1291.18 168.428 1291.38 167.028 1291.51 165.428C1291.78 163.828 1291.85 162.028 1291.71 160.028C1291.31 150.428 1288.91 143.428 1284.51 139.028C1280.11 134.495 1274.65 132.161 1268.11 132.028C1266.25 131.895 1264.18 131.895 1261.91 132.028C1259.78 132.028 1257.78 132.028 1255.91 132.028C1254.18 132.028 1252.98 132.028 1252.31 132.028C1252.31 131.895 1252.11 131.161 1251.71 129.828C1251.45 128.361 1251.11 126.895 1250.71 125.428C1250.45 123.961 1250.31 123.228 1250.31 123.228ZM1252.91 123.228V263.228H1222.91V123.228H1252.91ZM1223.51 248.628V263.228H1207.51V261.228C1207.65 261.228 1208.05 261.228 1208.71 261.228C1209.51 261.228 1209.98 261.228 1210.11 261.228C1213.58 261.228 1216.51 260.028 1218.91 257.628C1221.45 255.095 1222.78 252.095 1222.91 248.628H1223.51ZM1223.51 137.828H1222.91C1222.78 134.361 1221.45 131.428 1218.91 129.028C1216.51 126.495 1213.58 125.228 1210.11 125.228C1209.98 125.228 1209.51 125.228 1208.71 125.228C1208.05 125.228 1207.65 125.228 1207.51 125.228V123.228H1223.51V137.828ZM1252.31 248.628H1252.91C1252.91 252.095 1254.18 255.095 1256.71 257.628C1259.25 260.028 1262.25 261.228 1265.71 261.228C1265.98 261.228 1266.45 261.228 1267.11 261.228C1267.78 261.228 1268.11 261.228 1268.11 261.228V263.228H1252.31V248.628Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M451.813 81.2281C472.266 81.2281 489.946 84.9548 504.853 92.4082C519.759 99.6882 531.199 110.175 539.173 123.868C547.319 137.388 551.393 153.508 551.393 172.228C551.393 190.948 547.319 207.155 539.173 220.848C531.199 234.368 519.759 244.855 504.853 252.308C489.946 259.588 472.266 263.228 451.813 263.228H389.933L389.673 252.308C394.699 252.308 399.899 252.308 405.273 252.308C410.819 252.308 416.193 252.308 421.393 252.308C426.593 252.308 431.186 252.308 435.173 252.308C439.333 252.308 442.626 252.308 445.053 252.308C447.479 252.308 448.693 252.308 448.693 252.308C461.173 252.308 471.919 249.101 480.933 242.688C489.946 236.101 496.879 226.828 501.733 214.868C506.586 202.908 509.013 188.695 509.013 172.228C509.013 155.761 506.586 141.548 501.733 129.588C496.879 117.628 489.946 108.441 480.933 102.028C471.919 95.4415 461.173 92.1481 448.693 92.1481C448.693 92.1481 447.393 92.1481 444.793 92.1481C442.366 92.1481 438.986 92.1481 434.653 92.1481C430.319 92.1481 425.466 92.1481 420.093 92.1481C414.719 92.1481 409.173 92.1481 403.453 92.1481C397.733 92.1481 392.273 92.1481 387.073 92.1481V81.2281H451.813ZM416.453 81.2281V263.228H377.453V81.2281H416.453ZM378.233 244.248V263.228H357.433V260.628C357.433 260.628 357.953 260.628 358.993 260.628C360.206 260.628 360.813 260.628 360.813 260.628C365.319 260.628 369.133 259.068 372.253 255.948C375.546 252.655 377.279 248.755 377.453 244.248H378.233ZM378.233 100.208H377.453C377.453 95.7015 375.806 91.8881 372.513 88.7682C369.219 85.4748 365.319 83.8281 360.813 83.8281C360.813 83.8281 360.293 83.8281 359.253 83.8281C358.213 83.8281 357.693 83.8281 357.693 83.8281L357.433 81.2281H378.233V100.208Z\"\r\n            fill=\"white\"\r\n          />\r\n          <path\r\n            d=\"M1203.51 194.728C1203.51 243.605 1163.89 283.228 1115.01 283.228C1066.14 283.228 1026.51 243.605 1026.51 194.728C1026.51 145.851 1066.14 106.228 1115.01 106.228C1163.89 106.228 1203.51 145.851 1203.51 194.728Z\"\r\n            fill=\"white\"\r\n          />\r\n        </g>\r\n      </svg>\r\n    )\r\n};\r\n\r\nexport default SMBurgerMenuLogo;","\"use client\";\r\n\r\nimport SMBurgerMenuLogo from \"@/icons/SMBurgerMenuLogo\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Button } from \"../SMButton/SMButton\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useMenu } from \"@/components/SMMenuContext/SMMenuContext\";\r\nimport { Phone, X, Mail, User, Shield } from \"lucide-react\";\r\nimport navigationConfig from \"@/config/navigation.json\";\r\nimport contactsConfig from \"@/config/contacts.json\";\r\nimport { iconMap, IconName } from \"@/utils/iconMapper\";\r\nimport { useContacts } from \"@/hooks/useContacts\";\r\nimport { useSession, signIn } from \"next-auth/react\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\ninterface SMBurgerMenuProps {\r\n  onAuthModalOpen?: (type?: 'login' | 'register' | 'forgot-password') => void;\r\n}\r\n\r\nconst SMBurgerMenu = ({ onAuthModalOpen }: SMBurgerMenuProps) => {\r\n  const { isBurgerMenuOpen, setIsBurgerMenuOpen } = useMenu();\r\n  const router = useRouter();\r\n  const { contacts, loading: contactsLoading } = useContacts();\r\n  const { data: session, status } = useSession();\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  // Check if user is admin\r\n  useEffect(() => {\r\n    if (session) {\r\n      fetch('/api/admin/auth')\r\n        .then(res => res.json())\r\n        .then(data => setIsAdmin(data.isAdmin))\r\n        .catch(() => setIsAdmin(false));\r\n    } else {\r\n      setIsAdmin(false);\r\n    }\r\n  }, [session]);\r\n\r\n  const handleNavigation = (path: string) => {\r\n    router.push(path);\r\n    setIsBurgerMenuOpen(false);\r\n  };\r\n\r\n  const handleProfileClick = () => {\r\n    if (status === 'unauthenticated' || !session) {\r\n      setIsBurgerMenuOpen(false);\r\n      if (onAuthModalOpen) {\r\n        onAuthModalOpen('login');\r\n      } else {\r\n        signIn('google', {\r\n          callbackUrl: '/account',\r\n          redirect: true,\r\n        });\r\n      }\r\n    } else if (status === 'authenticated' && session) {\r\n      handleNavigation('/account');\r\n    }\r\n  };\r\n\r\n  const handleAdminClick = () => {\r\n    handleNavigation('/admin');\r\n  };\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isBurgerMenuOpen && (\r\n        <>\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            transition={{ duration: 0.3 }}\r\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] lg:hidden\"\r\n            onClick={() => setIsBurgerMenuOpen(false)}\r\n          />\r\n\r\n          <motion.div\r\n            initial={{ x: \"100%\" }}\r\n            animate={{ x: 0 }}\r\n            exit={{ x: \"100%\" }}\r\n            transition={{\r\n              type: \"spring\",\r\n              damping: 25,\r\n              stiffness: 200,\r\n              duration: 0.4,\r\n            }}\r\n            className=\"fixed top-0 right-0 h-full w-80 bg-white shadow-2xl z-[70] lg:hidden overflow-y-auto\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"bg-[#18A36C] p-6 text-white\">\r\n              <div>\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div className=\"flex items-center\">\r\n                    <SMBurgerMenuLogo />\r\n                  </div>\r\n\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    onClick={() => setIsBurgerMenuOpen(false)}\r\n                    className=\"p-2 hover:bg-white/20 text-white\"\r\n                  >\r\n                    <X className=\"w-6 h-6\" />\r\n                  </Button>\r\n                </div>\r\n\r\n                <div className=\"bg-white/10 rounded-lg p-3 backdrop-blur-sm\">\r\n                  {contactsLoading || !contacts ? (\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"h-5 bg-white/20 rounded animate-pulse w-32\" />\r\n                      <div className=\"h-3 bg-white/20 rounded animate-pulse w-24\" />\r\n                    </div>\r\n                  ) : (\r\n                    <>\r\n                      <div className=\"flex items-center gap-2 text-sm\">\r\n                        <Phone className=\"w-4 h-4 text-green-200\" />\r\n                        <a\r\n                          href={`tel:${contacts.phone_number.replace(/[\\s\\-]/g, '')}`}\r\n                          className=\"hover:text-white transition-colors cursor-pointer\"\r\n                        >\r\n                          {contacts.phone_number}\r\n                        </a>\r\n                      </div>\r\n                      {contacts.phone_number_sec && (\r\n                        <div className=\"text-xs text-green-200 mt-1\">\r\n                          {contacts.phone_number_sec}\r\n                        </div>\r\n                      )}\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Navigation */}\r\n            <div className=\"p-6\">\r\n              <nav className=\"space-y-2\">\r\n                {navigationConfig.mainNavigation.map((item, index) => {\r\n                  const Icon = iconMap[item.icon as IconName];\r\n                  return (\r\n                    <motion.button\r\n                      key={item.name}\r\n                      initial={{ opacity: 0, x: 20 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      transition={{\r\n                        delay: index * 0.1 + 0.2,\r\n                      }}\r\n                      className=\"w-full flex items-center gap-3 px-4 py-3 text-[#2E2E2E] hover:text-[#18A36C] transition-all duration-200 group cursor-pointer\"\r\n                      onClick={() => handleNavigation(item.path)}\r\n                    >\r\n                      <Icon className=\"w-5 h-5 text-gray-400 group-hover:text-[#18A36C] transition-colors\" />\r\n                      <span className=\"text-base\">{item.name}</span>\r\n                    </motion.button>\r\n                  );\r\n                })}\r\n              </nav>\r\n\r\n              {/* CTA Section */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.8 }}\r\n                className=\"mt-8 pt-6 border-t border-[#E8E6E3]\"\r\n              >\r\n                <Button\r\n                  className=\"w-full bg-[#18A36C] hover:bg-[#18A36C]/90 text-white py-3 h-auto\"\r\n                  onClick={() => handleNavigation(\"/contacts\")}\r\n                >\r\n                  {contactsConfig.onlineBookingText}\r\n                </Button>\r\n\r\n                {/* Profile and Admin Buttons */}\r\n                <div className=\"mt-4 space-y-2\">\r\n                  {status === 'loading' && (\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"w-full h-12 animate-pulse bg-gray-200 rounded-lg\" />\r\n                      <div className=\"w-full h-12 animate-pulse bg-gray-200 rounded-lg\" />\r\n                    </div>\r\n                  )}\r\n\r\n                  {status === 'unauthenticated' && (\r\n                    <>\r\n                      <Button\r\n                        onClick={handleProfileClick}\r\n                        variant=\"outline\"\r\n                        className=\"w-full border-[#18A36C] text-[#18A36C] py-3 h-auto flex items-center justify-center gap-2 hover:bg-[#18A36C]/10 hover:shadow-lg hover:shadow-[#18A36C]/20 cursor-pointer\"\r\n                      >\r\n                        <span>Авторизация</span>\r\n                      </Button>\r\n\r\n                      <Button\r\n                        onClick={() => {\r\n                          setIsBurgerMenuOpen(false);\r\n                          if (onAuthModalOpen) {\r\n                            onAuthModalOpen('register');\r\n                          }\r\n                        }}\r\n                        variant=\"outline\"\r\n                        className=\"w-full border-[#18A36C] text-[#18A36C] py-3 h-auto flex items-center justify-center gap-2 hover:bg-[#18A36C]/10 hover:shadow-lg hover:shadow-[#18A36C]/20 cursor-pointer\"\r\n                      >\r\n                        <span>Регистрация</span>\r\n                      </Button>\r\n                    </>\r\n                  )}\r\n\r\n                  {status === 'authenticated' && session && (\r\n                    <Button\r\n                      onClick={handleProfileClick}\r\n                      variant=\"outline\"\r\n                      className=\"w-full border-[#18A36C] text-[#18A36C] py-3 h-auto flex items-center justify-center gap-2 hover:bg-[#18A36C]/10 hover:shadow-lg hover:shadow-[#18A36C]/20 cursor-pointer\"\r\n                    >\r\n                      <User className=\"w-5 h-5\" />\r\n                      <span>Мой кабинет</span>\r\n                    </Button>\r\n                  )}\r\n\r\n                  {status === 'authenticated' && session && isAdmin && (\r\n                    <Button\r\n                      onClick={handleAdminClick}\r\n                      variant=\"outline\"\r\n                      className=\"w-full border-[#18A36C] text-[#18A36C] py-3 h-auto flex items-center justify-center gap-2 hover:bg-[#18A36C]/10 hover:shadow-lg hover:shadow-[#18A36C]/20 cursor-pointer\"\r\n                    >\r\n                      <Shield className=\"w-5 h-5\" />\r\n                      <span>Админ-панель</span>\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              </motion.div>\r\n\r\n              {/* Contact info */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 1.0 }}\r\n                className=\"mt-6 pt-6 border-t border-[#E8E6E3] text-center text-sm text-[#2E2E2E]\"\r\n              >\r\n                {contactsLoading || !contacts ? (\r\n                  <div className=\"flex items-center justify-center gap-2\">\r\n                    <Mail className=\"w-4 h-4 text-[#18A36C]\" />\r\n                    <div className=\"h-4 bg-gray-200 rounded animate-pulse w-40\" />\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"flex items-center justify-center gap-2\">\r\n                    <Mail className=\"w-4 h-4 text-[#18A36C]\" />\r\n                    <a\r\n                      href={`mailto:${contacts.email}`}\r\n                      className=\"hover:text-[#18A36C] transition-colors cursor-pointer\"\r\n                    >\r\n                      {contacts.email}\r\n                    </a>\r\n                  </div>\r\n                )}\r\n              </motion.div>\r\n            </div>\r\n          </motion.div>\r\n        </>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default SMBurgerMenu;\r\n","'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useSession, signIn, signOut } from 'next-auth/react';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport { Button } from '../SMButton/SMButton';\r\nimport { User, Shield } from 'lucide-react';\r\n\r\ninterface SMProfileButtonProps {\r\n  className?: string;\r\n  onAuthModalOpen?: (type?: 'login' | 'register' | 'forgot-password') => void;\r\n}\r\n\r\n// Скелетон для кнопки профиля\r\nfunction ProfileButtonSkeleton({ className }: { className?: string }) {\r\n  return (\r\n    <div className={`flex items-center gap-2 px-2 lg:px-3 py-2 ${className || ''}`}>\r\n      <div className=\"w-4 h-4 animate-pulse bg-gray-200 rounded\" />\r\n      <div className=\"w-16 h-4 animate-pulse bg-gray-200 rounded\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const SMProfileButton: React.FC<SMProfileButtonProps> = ({ className, onAuthModalOpen }) => {\r\n  const { data: session, status } = useSession();\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  // Check if user is admin or chief doctor\r\n  useEffect(() => {\r\n    if (session) {\r\n      fetch('/api/admin/auth')\r\n        .then(res => res.json())\r\n        .then(data => setIsAdmin(data.isAdmin))\r\n        .catch(() => setIsAdmin(false));\r\n    } else {\r\n      setIsAdmin(false);\r\n    }\r\n  }, [session]);\r\n\r\n  const handleClick = () => {\r\n    if (!session) {\r\n      if (onAuthModalOpen) {\r\n        onAuthModalOpen('login');\r\n      } else {\r\n        signIn('google', {\r\n          callbackUrl: '/account',\r\n          redirect: true,\r\n        });\r\n      }\r\n    } else {\r\n      // Если пользователь уже на странице аккаунта, не делаем ничего\r\n      if (pathname?.startsWith('/account')) {\r\n        return;\r\n      }\r\n      router.push('/account');\r\n    }\r\n  };\r\n\r\n  // Показываем скелетон пока сессия загружается\r\n  if (status === 'loading') {\r\n    return <ProfileButtonSkeleton className={className} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-1\">\r\n      {/* Admin shield button */}\r\n      {session && isAdmin && (\r\n        <Button\r\n          onClick={() => router.push('/admin')}\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          className=\"text-[#18A36C] hover:bg-[#18A36C]/10 p-2 cursor-pointer\"\r\n          title=\"Админ-панель\"\r\n        >\r\n          <Shield className=\"w-4 h-4\" />\r\n        </Button>\r\n      )}\r\n\r\n      {/* Profile/Login button */}\r\n      {status === 'unauthenticated' && (\r\n        <Button\r\n          onClick={handleClick}\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          className={`text-[#18A36C] hover:bg-[#18A36C]/10 flex items-center gap-2 px-2 lg:px-3 py-2 text-sm cursor-pointer ${className || ''}`}\r\n        >\r\n          <span>Авторизация</span>\r\n        </Button>\r\n      )}\r\n\r\n      {/* My account button (when logged in) */}\r\n      {status === 'authenticated' && session && (\r\n        <Button\r\n          onClick={handleClick}\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          className={`text-[#18A36C] hover:bg-[#18A36C]/10 flex items-center gap-2 px-2 lg:px-3 py-2 text-sm cursor-pointer ${className || ''}`}\r\n        >\r\n          <User className=\"w-4 h-4\" />\r\n          <span>Мой кабинет</span>\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","'use client';\r\n\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\nimport { X, ArrowRight } from 'lucide-react';\r\nimport navigationConfig from '@/config/navigation.json';\r\nimport { iconMap, IconName } from '@/utils/iconMapper';\r\n\r\ninterface NavigationModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onNavigate: (path: string) => void;\r\n}\r\n\r\ninterface NavigationItem {\r\n  name: string;\r\n  path: string;\r\n  icon?: string;\r\n  subPages?: { name: string; path: string }[];\r\n}\r\n\r\nexport function NavigationModal({ isOpen, onClose, onNavigate }: NavigationModalProps) {\r\n  const handleNavigate = (path: string) => {\r\n    onNavigate(path);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <>\r\n          {/* Backdrop */}\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            transition={{ duration: 0.25 }}\r\n            className=\"fixed inset-0 bg-black/70 backdrop-blur-md z-[100]\"\r\n            onClick={onClose}\r\n          />\r\n\r\n          {/* Modal Window */}\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.9, y: 30 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.9, y: 30 }}\r\n            transition={{ duration: 0.3, ease: [0.22, 1, 0.36, 1] }}\r\n            className=\"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[92vw] max-w-7xl h-[90vh] bg-white rounded-3xl shadow-[0_25px_50px_-12px_rgba(0,0,0,0.25)] z-[101] overflow-hidden\"\r\n          >\r\n            {/* Header with gradient */}\r\n            <div className=\"relative bg-gradient-to-r from-[#18A36C] to-[#15905f] px-10 py-8\">\r\n              <div className=\"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1vcGFjaXR5PSIwLjA1IiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-30\" />\r\n              <div className=\"relative flex items-center justify-between\">\r\n                <div>\r\n                  <h2 className=\"text-3xl font-bold text-white mb-2\">Навигация по сайту</h2>\r\n                  <p className=\"text-white/90 text-base\">Выберите раздел для быстрого перехода</p>\r\n                </div>\r\n                <button\r\n                  onClick={onClose}\r\n                  className=\"p-3 hover:bg-white/20 rounded-xl transition-all cursor-pointer group backdrop-blur-sm\"\r\n                >\r\n                  <X className=\"w-7 h-7 text-white group-hover:rotate-90 transition-transform duration-300\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"h-[calc(90vh-140px)] overflow-y-auto px-10 py-8\">\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8\">\r\n                {(navigationConfig.mainNavigation as NavigationItem[]).map((item, index) => {\r\n                  const Icon = item.icon ? iconMap[item.icon as IconName] : null;\r\n                  const hasSubPages = item.subPages && item.subPages.length > 0;\r\n\r\n                  return (\r\n                    <motion.div\r\n                      key={item.name}\r\n                      initial={{ opacity: 0, y: 20 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                      transition={{ delay: index * 0.08, duration: 0.4 }}\r\n                      className=\"group\"\r\n                    >\r\n                      {/* Section Card */}\r\n                      <div className=\"relative bg-white border-2 border-gray-100 rounded-2xl overflow-hidden hover:border-[#18A36C]/30 hover:shadow-xl hover:shadow-[#18A36C]/10 transition-all duration-300\">\r\n                        {/* Main Section Button */}\r\n                        <button\r\n                          onClick={() => handleNavigate(item.path)}\r\n                          className=\"w-full p-6 cursor-pointer\"\r\n                        >\r\n                          <div className=\"flex items-start gap-4\">\r\n                            {Icon && (\r\n                              <div className=\"relative\">\r\n                                <div className=\"absolute inset-0 bg-[#18A36C]/20 rounded-xl blur-xl group-hover:bg-[#18A36C]/40 transition-all\" />\r\n                                <div className=\"relative p-4 rounded-xl bg-gradient-to-br from-[#18A36C] to-[#15905f] group-hover:scale-110 transition-transform duration-300\">\r\n                                  <Icon className=\"w-7 h-7 text-white\" />\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n                            <div className=\"flex-1 text-left\">\r\n                              <h3 className=\"text-xl font-bold text-gray-800 group-hover:text-[#18A36C] transition-colors mb-1\">\r\n                                {item.name}\r\n                              </h3>\r\n                              <p className=\"text-sm text-gray-500\">\r\n                                {hasSubPages ? `${item.subPages!.length} подразделов` : 'Перейти в раздел'}\r\n                              </p>\r\n                            </div>\r\n                            <ArrowRight className=\"w-5 h-5 text-gray-400 group-hover:text-[#18A36C] group-hover:translate-x-1 transition-all flex-shrink-0 mt-1\" />\r\n                          </div>\r\n                        </button>\r\n\r\n                        {/* Subpages - Always visible */}\r\n                        {hasSubPages && (\r\n                          <div className=\"border-t border-gray-100 bg-gradient-to-b from-gray-50/50 to-transparent px-6 py-4\">\r\n                            <div className=\"space-y-1\">\r\n                              {item.subPages!.map((subPage, subIndex) => (\r\n                                <motion.button\r\n                                  key={subPage.path}\r\n                                  initial={{ opacity: 0, x: -10 }}\r\n                                  animate={{ opacity: 1, x: 0 }}\r\n                                  transition={{ delay: index * 0.08 + subIndex * 0.03 }}\r\n                                  onClick={() => handleNavigate(subPage.path)}\r\n                                  className=\"w-full text-left px-4 py-2.5 text-sm text-gray-600 hover:text-[#18A36C] hover:bg-white rounded-lg transition-all cursor-pointer flex items-center justify-between group/sub\"\r\n                                >\r\n                                  <span className=\"font-medium\">{subPage.name}</span>\r\n                                  <ArrowRight className=\"w-4 h-4 opacity-0 group-hover/sub:opacity-100 group-hover/sub:translate-x-1 transition-all\" />\r\n                                </motion.button>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </motion.div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { ChevronRight, Phone, Mail, MapPin, Clock } from \"lucide-react\";\r\nimport { Button } from \"../common/SMButton/SMButton\";\r\nimport SMLogo from \"@/icons/SMLogo\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport footerConfig from \"@/config/footer.json\";\r\nimport { useContacts } from \"@/hooks/useContacts\";\r\n\r\n// Компонент скелетона для текста\r\nfunction TextSkeleton({ className = '' }: { className?: string }) {\r\n  return <span className={`inline-block animate-pulse bg-gray-200 rounded ${className}`}>&nbsp;</span>;\r\n}\r\n\r\nexport function Footer() {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const { contacts, loading: contactsLoading } = useContacts();\r\n\r\n  const handleNavigation = (path: string) => {\r\n    router.push(path);\r\n  };\r\n\r\n  // Не показываем футер на страницах админки\r\n  if (pathname?.startsWith('/admin')) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <footer className=\"bg-[#F8F8F8] text-[#2E2E2E]\">\r\n      <div className=\"max-w-7xl mx-auto px-4 pt-8 pb-8 lg:pt-16\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8 mb-8 lg:mb-12\">\r\n          {/* Company Info */}\r\n          <div className=\"lg:col-span-1\">\r\n            <div className=\"mb-4 lg:mb-6\">\r\n              <button onClick={() => handleNavigation(\"/\")} className=\"mb-3 cursor-pointer\">\r\n                <SMLogo />\r\n              </button>\r\n\r\n              <p className=\"text-gray-600 text-sm lg:text-base leading-relaxed\">\r\n                {footerConfig.companyInfo.description}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Services */}\r\n          <div>\r\n            <h4 className=\"text-lg text-[#2E2E2E] mb-3 lg:mb-4\">Услуги</h4>\r\n            <ul className=\"space-y-2 text-sm lg:text-base\">\r\n              {footerConfig.services.map((service, index) => (\r\n                <li key={index}>\r\n                  <button\r\n                    onClick={() => handleNavigation(service.path)}\r\n                    className=\"text-gray-600 hover:text-[#18A36C] transition-colors cursor-pointer\"\r\n                  >\r\n                    {service.name}\r\n                  </button>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Information Links */}\r\n          <div>\r\n            <h4 className=\"text-lg text-[#2E2E2E] mb-3 lg:mb-4\">Информация</h4>\r\n            <ul className=\"space-y-2 text-sm lg:text-base\">\r\n              {footerConfig.informationLinks.map((link, index) => (\r\n                <li key={index}>\r\n                  <button\r\n                    onClick={() => handleNavigation(link.path)}\r\n                    className=\"text-gray-600 hover:text-[#18A36C] transition-colors cursor-pointer\"\r\n                  >\r\n                    {link.name}\r\n                  </button>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Contact Info */}\r\n          <div>\r\n            <h4 className=\"text-lg text-[#2E2E2E] mb-3 lg:mb-4\">Контакты</h4>\r\n            <div className=\"space-y-3 lg:space-y-4\">\r\n              <div className=\"flex items-start gap-2 lg:gap-3\">\r\n                <Phone className=\"w-4 h-4 lg:w-5 lg:h-5 mt-0.5 flex-shrink-0 text-[#18A36C]\" />\r\n                <div>\r\n                  {contactsLoading || !contacts ? (\r\n                    <TextSkeleton className=\"w-32 h-5\" />\r\n                  ) : (\r\n                    <a\r\n                      href={`tel:${contacts.phone_number.replace(/[\\s\\-]/g, '')}`}\r\n                      className=\"text-[#2E2E2E] text-sm lg:text-base hover:text-[#18A36C] transition-colors cursor-pointer\"\r\n                    >\r\n                      {contacts.phone_number}\r\n                    </a>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-start gap-2 lg:gap-3\">\r\n                <Mail className=\"w-4 h-4 lg:w-5 lg:h-5 mt-0.5 flex-shrink-0 text-[#18A36C]\" />\r\n                <div>\r\n                  {contactsLoading || !contacts ? (\r\n                    <TextSkeleton className=\"w-40 h-5\" />\r\n                  ) : (\r\n                    <a\r\n                      href={`mailto:${contacts.email}`}\r\n                      className=\"text-[#2E2E2E] text-sm lg:text-base hover:text-[#18A36C] transition-colors cursor-pointer\"\r\n                    >\r\n                      {contacts.email}\r\n                    </a>\r\n                  )}\r\n                  <div className=\"text-gray-500 text-xs lg:text-sm\">\r\n                    {footerConfig.contactInfo.email.responseTime}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-start gap-2 lg:gap-3\">\r\n                <MapPin className=\"w-4 h-4 lg:w-5 lg:h-5 mt-0.5 flex-shrink-0 text-[#18A36C]\" />\r\n                <div>\r\n                  {contactsLoading || !contacts ? (\r\n                    <TextSkeleton className=\"w-48 h-5\" />\r\n                  ) : (\r\n                    <a\r\n                      href={`https://yandex.ru/maps/?text=${encodeURIComponent(contacts.address)}`}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"text-[#2E2E2E] text-sm lg:text-base hover:text-[#18A36C] transition-colors cursor-pointer\"\r\n                    >\r\n                      {contacts.address}\r\n                    </a>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-start gap-2 lg:gap-3\">\r\n                <Clock className=\"w-4 h-4 lg:w-5 lg:h-5 mt-0.5 flex-shrink-0 text-[#18A36C]\" />\r\n                <div>\r\n                  <div className=\"text-[#2E2E2E] text-sm lg:text-base\">\r\n                    {footerConfig.contactInfo.schedule.title}\r\n                  </div>\r\n                  <div className=\"text-gray-500 text-xs lg:text-sm\">\r\n                    {contactsLoading || !contacts ? (\r\n                      <TextSkeleton className=\"w-24 h-4\" />\r\n                    ) : (\r\n                      contacts.work_hours_main\r\n                    )}\r\n                  </div>\r\n                  <div className=\"text-gray-500 text-xs lg:text-sm\">\r\n                    {contactsLoading || !contacts ? (\r\n                      <TextSkeleton className=\"w-24 h-4\" />\r\n                    ) : (\r\n                      contacts.work_hours_sunday\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bottom Bar */}\r\n        <div className=\"flex flex-col lg:flex-row pt-6 lg:pt-8 border-t border-gray-300 justify-center items-center\">\r\n\r\n          <div className=\"text-center lg:text-right\">\r\n            <div className=\"text-gray-500 text-xs lg:text-sm\">\r\n              {footerConfig.companyInfo.copyright}\r\n            </div>\r\n            <div className=\"text-gray-400 text-xs mt-1\">\r\n              {footerConfig.companyInfo.license}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","'use client'\r\nimport React from 'react'\r\nimport { SessionProvider } from 'next-auth/react'\r\nimport { AlertProvider } from '@/components/common/SMAlert/AlertProvider'\r\n\r\nexport const Providers = ({ children }: React.PropsWithChildren) => {\r\n  return (\r\n    <SessionProvider>\r\n      <AlertProvider>\r\n        {children}\r\n      </AlertProvider>\r\n    </SessionProvider>\r\n  )\r\n}","\"use client\";\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { X, User, Briefcase, Star, GraduationCap, ShoppingBag, Tag, ArrowRight } from \"lucide-react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface SpecialistData {\r\n  id: number;\r\n  name: string;\r\n  qualification: string;\r\n  experience: number;\r\n  specialization: string;\r\n  image_url?: string;\r\n  education?: string[];\r\n  categorySlug: string;\r\n}\r\n\r\ninterface ServiceData {\r\n  id: number;\r\n  title: string;\r\n  description: string;\r\n  category: string;\r\n  categorySlug: string;\r\n  price: number;\r\n}\r\n\r\ninterface CardData {\r\n  type: \"specialist\" | \"service\";\r\n  data: SpecialistData | ServiceData;\r\n}\r\n\r\ninterface ResultModalProps {\r\n  isOpen: boolean;\r\n  cards: CardData[];\r\n  onClose: () => void;\r\n}\r\n\r\nexport function ResultModal({ isOpen, cards, onClose }: ResultModalProps) {\r\n  const router = useRouter();\r\n\r\n  if (!isOpen || !cards || cards.length === 0) return null;\r\n\r\n  const handleNavigate = (card: CardData) => {\r\n    let url: string;\r\n\r\n    if (card.type === \"specialist\") {\r\n      const specialist = card.data as SpecialistData;\r\n      url = `/doctors/${specialist.categorySlug}/${specialist.id}`;\r\n    } else {\r\n      const service = card.data as ServiceData;\r\n      url = `/services/${service.categorySlug}/${service.id}`;\r\n    }\r\n\r\n    onClose();\r\n    router.push(url);\r\n  };\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <>\r\n          {/* Backdrop */}\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={onClose}\r\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60]\"\r\n          />\r\n\r\n          {/* Modal */}\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.9, y: 20 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.9, y: 20 }}\r\n            className=\"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[70] w-[90%] max-w-md max-h-[80vh] overflow-y-auto bg-white rounded-2xl shadow-2xl\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"sticky top-0 bg-gradient-to-r from-[#18A36C] to-[#15905f] p-4 flex items-center justify-between rounded-t-2xl\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center\">\r\n                  <Star className=\"w-6 h-6 text-white\" />\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-white font-semibold text-lg\">\r\n                    {cards.length === 1 ? \"Найден результат!\" : `Найдено результатов: ${cards.length}`}\r\n                  </h3>\r\n                  <p className=\"text-white/80 text-xs\">Нажмите для перехода</p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"w-8 h-8 rounded-lg bg-white/20 hover:bg-white/30 flex items-center justify-center text-white transition-colors\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"p-4 space-y-3\">\r\n              {cards.map((card, index) => (\r\n                <motion.div\r\n                  key={index}\r\n                  initial={{ opacity: 0, y: 10 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ delay: index * 0.1 }}\r\n                >\r\n                  {card.type === \"specialist\" ? (\r\n                    <SpecialistResultCard\r\n                      data={card.data as SpecialistData}\r\n                      onNavigate={() => handleNavigate(card)}\r\n                    />\r\n                  ) : (\r\n                    <ServiceResultCard\r\n                      data={card.data as ServiceData}\r\n                      onNavigate={() => handleNavigate(card)}\r\n                    />\r\n                  )}\r\n                </motion.div>\r\n              ))}\r\n            </div>\r\n          </motion.div>\r\n        </>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\nfunction SpecialistResultCard({ data, onNavigate }: { data: SpecialistData; onNavigate: () => void }) {\r\n  return (\r\n    <div className=\"bg-gradient-to-br from-white to-gray-50 rounded-xl p-4 border-2 border-gray-200 shadow-sm\">\r\n      <div className=\"flex gap-3 mb-3\">\r\n        {/* Avatar */}\r\n        <div className=\"flex-shrink-0\">\r\n          {data.image_url ? (\r\n            <img\r\n              src={data.image_url}\r\n              alt={data.name}\r\n              className=\"w-16 h-16 rounded-full object-cover border-2 border-gray-200\"\r\n            />\r\n          ) : (\r\n            <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-[#18A36C] to-[#15905f] flex items-center justify-center\">\r\n              <User className=\"w-8 h-8 text-white\" />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Info */}\r\n        <div className=\"flex-1\">\r\n          <h4 className=\"font-bold text-gray-900 text-base\">{data.name}</h4>\r\n          <p className=\"text-sm text-gray-600 flex items-center gap-1 mt-1\">\r\n            <Briefcase className=\"w-4 h-4\" />\r\n            {data.qualification}\r\n          </p>\r\n          <p className=\"text-sm text-[#18A36C] flex items-center gap-1 mt-1\">\r\n            <Star className=\"w-4 h-4\" />\r\n            {data.specialization}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {data.experience && (\r\n        <p className=\"text-sm text-gray-600 mb-2\">\r\n          <strong>Опыт работы:</strong> {data.experience} лет\r\n        </p>\r\n      )}\r\n\r\n      {data.education && data.education.length > 0 && (\r\n        <p className=\"text-xs text-gray-500 flex items-center gap-1 mb-3\">\r\n          <GraduationCap className=\"w-4 h-4 flex-shrink-0\" />\r\n          <span>{data.education[0]}</span>\r\n        </p>\r\n      )}\r\n\r\n      {/* Navigate Button */}\r\n      <button\r\n        onClick={onNavigate}\r\n        className=\"w-full bg-gradient-to-r from-[#18A36C] to-[#15905f] text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:shadow-lg transition-all\"\r\n      >\r\n        Перейти к специалисту\r\n        <ArrowRight className=\"w-5 h-5\" />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ServiceResultCard({ data, onNavigate }: { data: ServiceData; onNavigate: () => void }) {\r\n  return (\r\n    <div className=\"bg-gradient-to-br from-white to-green-50 rounded-xl p-4 border-2 border-gray-200 shadow-sm\">\r\n      <div className=\"flex gap-3 mb-3\">\r\n        {/* Icon */}\r\n        <div className=\"flex-shrink-0\">\r\n          <div className=\"w-14 h-14 rounded-xl bg-gradient-to-br from-[#18A36C] to-[#15905f] flex items-center justify-center\">\r\n            <ShoppingBag className=\"w-7 h-7 text-white\" />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Info */}\r\n        <div className=\"flex-1\">\r\n          <h4 className=\"font-bold text-gray-900 text-base\">{data.title}</h4>\r\n          <p className=\"text-sm text-gray-600 flex items-center gap-1 mt-1\">\r\n            <Tag className=\"w-4 h-4\" />\r\n            {data.category}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {data.description && (\r\n        <p className=\"text-sm text-gray-600 mb-3\">{data.description}</p>\r\n      )}\r\n\r\n      {data.price && (\r\n        <div className=\"bg-green-50 rounded-lg p-3 mb-3 border border-green-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <span className=\"text-sm text-gray-700 font-medium\">Стоимость:</span>\r\n            <span className=\"text-lg font-bold text-[#18A36C]\">{data.price} BYN</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Navigate Button */}\r\n      <button\r\n        onClick={onNavigate}\r\n        className=\"w-full bg-gradient-to-r from-[#18A36C] to-[#15905f] text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:shadow-lg transition-all\"\r\n      >\r\n        Перейти к услуге\r\n        <ArrowRight className=\"w-5 h-5\" />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { X, Bot, Headphones, ArrowRight, Star } from 'lucide-react';\r\n\r\ninterface AIOnboardingModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport function AIOnboardingModal({ isOpen, onClose }: AIOnboardingModalProps) {\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <>\r\n          {/* Backdrop */}\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={onClose}\r\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100]\"\r\n          />\r\n\r\n          {/* Modal */}\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.9, y: 20 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.9, y: 20 }}\r\n            transition={{ duration: 0.3 }}\r\n            className=\"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md max-h-[90vh] bg-white rounded-2xl shadow-2xl z-[101] overflow-hidden flex flex-col\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"bg-gradient-to-r from-[#18A36C] to-[#15905f] p-6 relative flex-shrink-0\">\r\n              <button\r\n                onClick={onClose}\r\n                className=\"absolute cursor-pointer top-4 right-4 w-8 h-8 rounded-lg bg-white/20 hover:bg-white/30 flex items-center justify-center text-white transition-colors\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n              <div className=\"text-center\">\r\n                <div className=\"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-4\">\r\n                  <Bot className=\"w-8 h-8 text-white\" />\r\n                </div>\r\n                <h2 className=\"text-2xl font-bold text-white mb-2\">\r\n                  Добро пожаловать!\r\n                </h2>\r\n                <p className=\"text-white/90 text-sm\">\r\n                  Знакомство с нашим помощником\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"p-6 space-y-6 overflow-y-auto flex-1\">\r\n              {/* AI Assistant Feature */}\r\n              <motion.div\r\n                initial={{ opacity: 0, x: -20 }}\r\n                animate={{ opacity: 1, x: 0 }}\r\n                transition={{ delay: 0.2 }}\r\n                className=\"flex gap-4\"\r\n              >\r\n                <div className=\"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-xl flex items-center justify-center flex-shrink-0\">\r\n                  <Bot className=\"w-6 h-6 text-white\" />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <h3 className=\"font-semibold text-gray-800 mb-1\">\r\n                    AI Помощник\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-600 leading-relaxed\">\r\n                    Получайте мгновенные ответы на вопросы о клинике, услугах и врачах. AI помощник работает 24/7 и готов помочь вам в любое время.\r\n                  </p>\r\n                </div>\r\n              </motion.div>\r\n\r\n              {/* Arrow */}\r\n              <motion.div\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                transition={{ delay: 0.4 }}\r\n                className=\"flex justify-center\"\r\n              >\r\n                <div className=\"flex items-center gap-2 text-gray-400\">\r\n                  <div className=\"h-px bg-gray-300 w-12\" />\r\n                  <ArrowRight className=\"w-5 h-5\" />\r\n                  <div className=\"h-px bg-gray-300 w-12\" />\r\n                </div>\r\n              </motion.div>\r\n\r\n              {/* Operator Feature */}\r\n              <motion.div\r\n                initial={{ opacity: 0, x: 20 }}\r\n                animate={{ opacity: 1, x: 0 }}\r\n                transition={{ delay: 0.6 }}\r\n                className=\"flex gap-4\"\r\n              >\r\n                <div className=\"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0\">\r\n                  <Headphones className=\"w-6 h-6 text-white\" />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <h3 className=\"font-semibold text-gray-800 mb-1\">\r\n                    Оператор\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-600 leading-relaxed\">\r\n                    Если вам нужна помощь живого оператора, просто переключитесь на вкладку \"Оператор\" в верхней части чата.\r\n                  </p>\r\n                </div>\r\n              </motion.div>\r\n\r\n              {/* Arrow */}\r\n              <motion.div\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                transition={{ delay: 0.7 }}\r\n                className=\"flex justify-center\"\r\n              >\r\n                <div className=\"flex items-center gap-2 text-gray-400\">\r\n                  <div className=\"h-px bg-gray-300 w-12\" />\r\n                  <ArrowRight className=\"w-5 h-5\" />\r\n                  <div className=\"h-px bg-gray-300 w-12\" />\r\n                </div>\r\n              </motion.div>\r\n\r\n              {/* Feedback Feature */}\r\n              <motion.div\r\n                initial={{ opacity: 0, x: -20 }}\r\n                animate={{ opacity: 1, x: 0 }}\r\n                transition={{ delay: 0.8 }}\r\n                className=\"flex gap-4\"\r\n              >\r\n                <div className=\"w-12 h-12 bg-gradient-to-br from-amber-500 to-orange-500 rounded-xl flex items-center justify-center flex-shrink-0\">\r\n                  <Star className=\"w-6 h-6 text-white\" />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <h3 className=\"font-semibold text-gray-800 mb-1\">\r\n                    Оставить отзыв\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-600 leading-relaxed\">\r\n                    После общения с оператором вы можете оставить отзыв о качестве обслуживания. Ваше мнение важно для нас!\r\n                  </p>\r\n                </div>\r\n              </motion.div>\r\n\r\n              {/* Info Box */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 1 }}\r\n                className=\"bg-[#18A36C]/5 border border-[#18A36C]/20 rounded-xl p-4\"\r\n              >\r\n                <p className=\"text-sm text-gray-700 text-center\">\r\n                  <span className=\"font-semibold text-[#18A36C]\">Совет:</span> Вы можете переключаться между AI помощником и оператором в любой момент!\r\n                </p>\r\n              </motion.div>\r\n\r\n              {/* Button */}\r\n              <motion.button\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 1.2 }}\r\n                onClick={onClose}\r\n                className=\"w-full bg-gradient-to-r from-[#18A36C] to-[#15905f] text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg transition-all duration-300 cursor-pointer\"\r\n              >\r\n                Начать общение\r\n              </motion.button>\r\n            </div>\r\n          </motion.div>\r\n        </>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { Send, User, Bot, Clock, CheckCheck, Loader2, Headphones, AlertCircle, Ban } from 'lucide-react';\r\nimport { useSession } from 'next-auth/react';\r\nimport { motion } from 'framer-motion';\r\n\r\ninterface ChatMessage {\r\n  id: number;\r\n  chat_id: number;\r\n  sender_id: number;\r\n  sender_type: 'patient' | 'operator';\r\n  content: string;\r\n  created_at: string;\r\n  is_read: boolean;\r\n  sender: {\r\n    id: number;\r\n    name: string;\r\n    avatar_url: string | null;\r\n  };\r\n}\r\n\r\ninterface Chat {\r\n  id: number;\r\n  patient_id: number;\r\n  operator_id: number | null;\r\n  status: 'WAITING' | 'ACTIVE' | 'CLOSED';\r\n  created_at: string;\r\n  updated_at: string;\r\n  operator: {\r\n    id: number;\r\n    name: string;\r\n  } | null;\r\n  messages: ChatMessage[];\r\n}\r\n\r\ninterface OperatorChatContentProps {\r\n  onError?: (message: string) => void;\r\n  onOpenLoginModal?: () => void;\r\n  onOpenRegisterModal?: () => void;\r\n}\r\n\r\nexport function OperatorChatContent({ onError, onOpenLoginModal, onOpenRegisterModal }: OperatorChatContentProps) {\r\n  const { data: session, status } = useSession();\r\n  const [chat, setChat] = useState<Chat | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [message, setMessage] = useState('');\r\n  const [sending, setSending] = useState(false);\r\n  const [creating, setCreating] = useState(false);\r\n  const [isBlocked, setIsBlocked] = useState(false);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const loadChat = useCallback(async () => {\r\n    if (status !== 'authenticated') {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('/api/operator-chat/my-chat', {\r\n        cache: 'no-store'\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setChat(data.chat);\r\n        setIsBlocked(false);\r\n      } else if (response.status === 403) {\r\n        const data = await response.json();\r\n        setIsBlocked(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading chat:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [status]);\r\n\r\n  useEffect(() => {\r\n    // Загружаем чат только если пользователь авторизован\r\n    if (status === 'authenticated') {\r\n      loadChat();\r\n    } else if (status === 'unauthenticated') {\r\n      setLoading(false);\r\n    }\r\n    // Автообновление убрано - обновляется только при отправке сообщения и открытии\r\n  }, [status, loadChat]);\r\n\r\n  useEffect(() => {\r\n    if (chat) {\r\n      scrollToBottom();\r\n    }\r\n  }, [chat?.messages]);\r\n\r\n  // Слушаем событие для перезагрузки чата (когда AI переключает на оператора)\r\n  useEffect(() => {\r\n    const handleReloadChat = () => {\r\n      console.log(\"🔄 Reloading operator chat...\");\r\n      loadChat();\r\n    };\r\n\r\n    window.addEventListener('reloadOperatorChat', handleReloadChat);\r\n    return () => {\r\n      window.removeEventListener('reloadOperatorChat', handleReloadChat);\r\n    };\r\n  }, [loadChat]);\r\n\r\n  const handleCreateChat = async () => {\r\n    if (!message.trim() || creating) return;\r\n\r\n    setCreating(true);\r\n    try {\r\n      const response = await fetch('/api/operator-chat', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ message: message.trim() }),\r\n        cache: 'no-store'\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMessage('');\r\n        loadChat();\r\n      } else if (response.status === 403) {\r\n        const data = await response.json();\r\n        setIsBlocked(true);\r\n      } else {\r\n        const data = await response.json();\r\n        onError?.(data.error || 'Не удалось создать чат');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating chat:', error);\r\n      onError?.('Ошибка при создании чата');\r\n    } finally {\r\n      setCreating(false);\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!message.trim() || sending || !chat) return;\r\n\r\n    setSending(true);\r\n    try {\r\n      const response = await fetch(`/api/operator-chat/${chat.id}`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ content: message.trim() }),\r\n        cache: 'no-store'\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMessage('');\r\n        loadChat();\r\n      } else {\r\n        const data = await response.json();\r\n        onError?.(data.error || 'Не удалось отправить сообщение');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      onError?.('Ошибка при отправке сообщения');\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      if (chat) {\r\n        handleSendMessage();\r\n      } else {\r\n        handleCreateChat();\r\n      }\r\n    }\r\n  };\r\n\r\n  const formatTime = (date: string) => {\r\n    const d = new Date(date);\r\n    return d.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  if (status === 'unauthenticated' || status === 'loading') {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center h-full text-center px-6 py-8\">\r\n        <div className=\"w-20 h-20 bg-[#18A36C]/10 rounded-full flex items-center justify-center mb-6\">\r\n          <Headphones className=\"w-10 h-10 text-[#18A36C]\" />\r\n        </div>\r\n\r\n        <h3 className=\"text-xl font-bold text-gray-800 mb-2\">\r\n          Чат с оператором\r\n        </h3>\r\n        <p className=\"text-sm text-gray-600 mb-8 max-w-xs\">\r\n          Для общения с оператором необходимо авторизоваться в системе\r\n        </p>\r\n\r\n        {/* Login Section */}\r\n        <div className=\"w-full max-w-sm space-y-3\">\r\n          <button\r\n            onClick={onOpenLoginModal}\r\n            className=\"w-full px-6 py-3 bg-[#18A36C] text-white cursor-pointer rounded-xl hover:bg-[#15905f] transition-all duration-200 font-medium shadow-lg shadow-[#18A36C]/20 hover:shadow-xl hover:shadow-[#18A36C]/30 transform hover:scale-[1.02]\"\r\n          >\r\n            Войти\r\n          </button>\r\n\r\n          {/* Divider */}\r\n          <div className=\"flex items-center gap-3 py-2\">\r\n            <div className=\"flex-1 h-px bg-gray-200\"></div>\r\n            <span className=\"text-xs text-gray-400 font-medium\">ИЛИ</span>\r\n            <div className=\"flex-1 h-px bg-gray-200\"></div>\r\n          </div>\r\n\r\n          {/* Register Section */}\r\n          <div className=\"bg-gray-50 rounded-xl p-4 border border-gray-200\">\r\n            <p className=\"text-sm text-gray-600 mb-3\">\r\n              Нет аккаунта?\r\n            </p>\r\n            <button\r\n              onClick={onOpenRegisterModal}\r\n              className=\"w-full px-6 py-3 bg-white cursor-pointer text-[#18A36C] rounded-lg hover:bg-gray-50 transition-all duration-200 font-medium border-2 border-[#18A36C] hover:shadow-md transform hover:scale-[1.02]\"\r\n            >\r\n              Зарегистрироваться\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Info */}\r\n        <p className=\"text-xs text-gray-500 mt-6 max-w-xs\">\r\n          После авторизации вы сможете связаться с нашим оператором в режиме реального времени\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-full\">\r\n        <Loader2 className=\"w-8 h-8 text-[#18A36C] animate-spin\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isBlocked) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center h-full text-center px-6\">\r\n        <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4\">\r\n          <Ban className=\"w-8 h-8 text-red-600\" />\r\n        </div>\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">\r\n          Доступ заблокирован\r\n        </h3>\r\n        <p className=\"text-sm text-gray-600 mb-4\">\r\n          Ваш доступ к чату с оператором был ограничен. Если вы считаете, что это ошибка, пожалуйста, свяжитесь с нами другим способом.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!chat) {\r\n    // Форма создания нового чата\r\n    return (\r\n      <div className=\"flex flex-col h-full\">\r\n        <div className=\"flex-1 flex flex-col items-center justify-center text-center px-6\">\r\n          <Headphones className=\"w-16 h-16 text-[#18A36C] mb-4\" />\r\n          <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">\r\n            Чат с оператором\r\n          </h3>\r\n          <p className=\"text-sm text-gray-600 mb-4\">\r\n            Напишите ваш вопрос, и наш оператор свяжется с вами в ближайшее время\r\n          </p>\r\n        </div>\r\n\r\n        {/* Input */}\r\n        <div className=\"p-4 border-t border-gray-200 bg-white\">\r\n          <div className=\"flex gap-2\">\r\n            <input\r\n              type=\"text\"\r\n              value={message}\r\n              onChange={(e) => setMessage(e.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n              placeholder=\"Напишите сообщение...\"\r\n              disabled={creating}\r\n              className=\"flex-1 px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-[#18A36C] transition-all disabled:opacity-50\"\r\n            />\r\n            <button\r\n              onClick={handleCreateChat}\r\n              disabled={creating || !message.trim()}\r\n              className=\"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-xl flex items-center justify-center text-white hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {creating ? (\r\n                <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n              ) : (\r\n                <Send className=\"w-5 h-5\" />\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Отображение активного чата\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      {/* Status Header */}\r\n      <div className=\"px-4 py-3 bg-gray-50 border-b border-gray-200\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2\">\r\n            {chat.status === 'WAITING' && (\r\n              <>\r\n                <div className=\"w-2 h-2 bg-yellow-500 rounded-full animate-pulse\" />\r\n                <span className=\"text-xs text-gray-600\">Ожидаем оператора...</span>\r\n              </>\r\n            )}\r\n            {chat.status === 'ACTIVE' && chat.operator && (\r\n              <>\r\n                <div className=\"w-2 h-2 bg-green-500 rounded-full\" />\r\n                <span className=\"text-xs text-gray-600\">Оператор: {chat.operator.name}</span>\r\n              </>\r\n            )}\r\n            {chat.status === 'CLOSED' && (\r\n              <>\r\n                <div className=\"w-2 h-2 bg-gray-400 rounded-full\" />\r\n                <span className=\"text-xs text-gray-600\">Чат закрыт</span>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Messages */}\r\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\">\r\n        {chat.messages.map((msg) => (\r\n          <motion.div\r\n            key={msg.id}\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className={`flex gap-3 ${msg.sender_type === 'patient' ? 'flex-row-reverse' : ''}`}\r\n          >\r\n            {msg.sender.avatar_url ? (\r\n              <img\r\n                src={msg.sender.avatar_url}\r\n                alt={msg.sender.name}\r\n                className=\"w-8 h-8 rounded-full object-cover flex-shrink-0\"\r\n              />\r\n            ) : (\r\n              <div\r\n                className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${msg.sender_type === 'operator'\r\n                  ? 'bg-gradient-to-br from-[#18A36C] to-[#15905f]'\r\n                  : 'bg-gray-400'\r\n                  }`}\r\n              >\r\n                {msg.sender_type === 'operator' ? (\r\n                  <Bot className=\"w-4 h-4 text-white\" />\r\n                ) : (\r\n                  <User className=\"w-4 h-4 text-white\" />\r\n                )}\r\n              </div>\r\n            )}\r\n            <div className={`max-w-[70%] ${msg.sender_type === 'patient' ? 'items-end' : 'items-start'} flex flex-col`}>\r\n              <div\r\n                className={`rounded-2xl p-3 ${msg.sender_type === 'patient'\r\n                  ? 'bg-gradient-to-br from-[#18A36C] to-[#15905f] text-white'\r\n                  : 'bg-white text-gray-800 shadow-sm border border-gray-200'\r\n                  }`}\r\n              >\r\n                <p className=\"text-sm leading-relaxed whitespace-pre-wrap\">{msg.content}</p>\r\n              </div>\r\n              <div className=\"flex items-center gap-2 mt-1 px-2\">\r\n                <Clock className=\"w-3 h-3 text-gray-400\" />\r\n                <span className=\"text-xs text-gray-500\">{formatTime(msg.created_at)}</span>\r\n                {msg.sender_type === 'patient' && msg.is_read && (\r\n                  <CheckCheck className=\"w-4 h-4 text-[#18A36C]\" />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        ))}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      {/* Input */}\r\n      {chat.status !== 'CLOSED' && (\r\n        <div className=\"p-4 bg-white border-t border-gray-200\">\r\n          <div className=\"flex gap-2\">\r\n            <input\r\n              type=\"text\"\r\n              value={message}\r\n              onChange={(e) => setMessage(e.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n              placeholder=\"Напишите сообщение...\"\r\n              disabled={sending}\r\n              className=\"flex-1 px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-[#18A36C] transition-all disabled:opacity-50\"\r\n            />\r\n            <button\r\n              onClick={handleSendMessage}\r\n              disabled={sending || !message.trim()}\r\n              className=\"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-xl flex items-center justify-center text-white hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {sending ? (\r\n                <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n              ) : (\r\n                <Send className=\"w-5 h-5\" />\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {chat.status === 'CLOSED' && (\r\n        <div className=\"p-4 bg-gray-50 border-t border-gray-200 text-center\">\r\n          <p className=\"text-sm text-gray-600\">\r\n            Чат закрыт оператором. Создайте новый чат, если у вас есть вопросы.\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport { MessageCircle, X, Send, Loader2, Bot, User, Trash2, Headphones, Star } from \"lucide-react\";\r\nimport { ResultModal } from \"./ResultModal\";\r\nimport { useSession, signIn } from \"next-auth/react\";\r\nimport { AIOnboardingModal } from \"./AIOnboardingModal\";\r\nimport { OperatorChatContent } from \"./OperatorChatContent\";\r\nimport { useAlert } from \"@/components/common/SMAlert/AlertProvider\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { AuthModals } from \"@/components/SMAuthModals/SMAuthModals\";\r\nimport { LoginData, RegisterData } from \"@/components/SMAuthModals/SMAuthModals.styles\";\r\nimport { LeaveReviewModal } from \"@/components/SMClinic/LeaveReviewModal\";\r\n\r\nconst CHAT_STORAGE_KEY = 'ai_assistant_messages';\r\nconst ONBOARDING_SEEN_KEY = 'ai_assistant_onboarding_seen';\r\n\r\ninterface CardData {\r\n  type: \"specialist\" | \"service\";\r\n  data: any;\r\n  placeholder: string;\r\n}\r\n\r\ninterface Message {\r\n  role: \"user\" | \"assistant\";\r\n  content: string;\r\n  cards?: CardData[];\r\n}\r\n\r\nconst DEFAULT_MESSAGE: Message = {\r\n  role: \"assistant\",\r\n  content: \"Здравствуйте! Я виртуальный помощник клиники Doctor Family. Чем могу помочь?\",\r\n};\r\n\r\nexport function AIAssistant() {\r\n  const { data: session, status } = useSession();\r\n  const alert = useAlert();\r\n  const pathname = usePathname();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [activeTab, setActiveTab] = useState<'ai' | 'operator'>('ai');\r\n  const [messages, setMessages] = useState<Message[]>([DEFAULT_MESSAGE]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [modalCards, setModalCards] = useState<CardData[]>([]);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n  const [showOnboarding, setShowOnboarding] = useState(false);\r\n  const [hasUnreadChat, setHasUnreadChat] = useState(false);\r\n  const [isMounted, setIsMounted] = useState(false);\r\n  const [isAuthModalOpen, setIsAuthModalOpen] = useState(false);\r\n  const [authModalType, setAuthModalType] = useState<'login' | 'register'>('login');\r\n  const [authLoading, setAuthLoading] = useState(false);\r\n  const [showClearConfirmation, setShowClearConfirmation] = useState(false);\r\n  const [showHint, setShowHint] = useState(false);\r\n  const [isReviewModalOpen, setIsReviewModalOpen] = useState(false);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Prevent hydration mismatch and show hint after delay\r\n  useEffect(() => {\r\n    setIsMounted(true);\r\n\r\n    // Show hint after 2 seconds delay on every page load\r\n    const timer = setTimeout(() => {\r\n      setShowHint(true);\r\n    }, 2000);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  // Load messages from localStorage on mount and check if onboarding was seen\r\n  useEffect(() => {\r\n    try {\r\n      const savedMessages = localStorage.getItem(CHAT_STORAGE_KEY);\r\n      if (savedMessages) {\r\n        const parsed = JSON.parse(savedMessages);\r\n        if (Array.isArray(parsed) && parsed.length > 0) {\r\n          setMessages(parsed);\r\n        }\r\n      }\r\n\r\n      // Проверяем, видел ли пользователь обучение\r\n      const onboardingSeen = localStorage.getItem(ONBOARDING_SEEN_KEY);\r\n      if (!onboardingSeen && isOpen) {\r\n        setShowOnboarding(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading chat messages from localStorage:', error);\r\n    }\r\n    setIsInitialized(true);\r\n  }, [isOpen]);\r\n\r\n  // Слушаем событие для открытия AI помощника с определенной вкладкой\r\n  useEffect(() => {\r\n    const handleOpenAIAssistant = (event: CustomEvent) => {\r\n      const { tab } = event.detail;\r\n      setIsOpen(true);\r\n      if (tab === 'operator') {\r\n        setActiveTab('operator');\r\n      } else {\r\n        setActiveTab('ai');\r\n      }\r\n    };\r\n\r\n    window.addEventListener('openAIAssistant', handleOpenAIAssistant as EventListener);\r\n    return () => {\r\n      window.removeEventListener('openAIAssistant', handleOpenAIAssistant as EventListener);\r\n    };\r\n  }, []);\r\n\r\n  // Save messages to localStorage whenever they change\r\n  useEffect(() => {\r\n    if (isInitialized && messages.length > 0) {\r\n      try {\r\n        localStorage.setItem(CHAT_STORAGE_KEY, JSON.stringify(messages));\r\n      } catch (error) {\r\n        console.error('Error saving chat messages to localStorage:', error);\r\n      }\r\n    }\r\n  }, [messages, isInitialized]);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  // Check for unread chat messages\r\n  const checkUnreadChat = useCallback(async () => {\r\n    if (status !== 'authenticated') {\r\n      setHasUnreadChat(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('/api/operator-chat/my-chat/unread', {\r\n        cache: 'no-store'\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setHasUnreadChat(data.hasUnread || false);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking unread chat:', error);\r\n    }\r\n  }, [status]);\r\n\r\n  // Check for unread messages periodically\r\n  useEffect(() => {\r\n    if (status !== 'authenticated') return;\r\n\r\n    checkUnreadChat();\r\n    const interval = setInterval(checkUnreadChat, 15000); // Every 15 seconds\r\n    return () => clearInterval(interval);\r\n  }, [status, checkUnreadChat]);\r\n\r\n  // Clear unread indicator when operator tab is opened\r\n  useEffect(() => {\r\n    if (isOpen && activeTab === 'operator') {\r\n      setHasUnreadChat(false);\r\n    }\r\n  }, [isOpen, activeTab]);\r\n\r\n  // Clear chat history\r\n  const handleClearChat = useCallback(() => {\r\n    setShowClearConfirmation(true);\r\n  }, []);\r\n\r\n  // Confirm clear chat\r\n  const confirmClearChat = useCallback(() => {\r\n    setMessages([DEFAULT_MESSAGE]);\r\n    try {\r\n      localStorage.removeItem(CHAT_STORAGE_KEY);\r\n    } catch (error) {\r\n      console.error('Error clearing chat from localStorage:', error);\r\n    }\r\n    setShowClearConfirmation(false);\r\n  }, []);\r\n\r\n  const handleCloseOnboarding = useCallback(() => {\r\n    setShowOnboarding(false);\r\n    try {\r\n      localStorage.setItem(ONBOARDING_SEEN_KEY, 'true');\r\n    } catch (error) {\r\n      console.error('Error saving onboarding state:', error);\r\n    }\r\n  }, []);\r\n\r\n  const handleSend = async () => {\r\n    if (!input.trim() || isLoading) return;\r\n\r\n    const userMessage: Message = {\r\n      role: \"user\",\r\n      content: input,\r\n    };\r\n\r\n    setMessages((prev) => [...prev, userMessage]);\r\n    setInput(\"\");\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await fetch(\"/api/chat\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          messages: [...messages, userMessage],\r\n        }),\r\n        cache: 'no-store'\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({ error: \"Unknown error\" }));\r\n        throw new Error(errorData.error || `Server error: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log(\"📨 API Response data:\", data);\r\n      console.log(\"📦 Cards in response:\", data.cards);\r\n      console.log(\"💬 Message in response:\", data.message);\r\n      console.log(\"🔄 Need operator:\", data.needOperator);\r\n\r\n      if (!data.message) {\r\n        throw new Error(\"No message in response\");\r\n      }\r\n\r\n      const assistantMessage: Message = {\r\n        role: \"assistant\",\r\n        content: data.message,\r\n        cards: data.cards || [],\r\n      };\r\n\r\n      setMessages((prev) => [...prev, assistantMessage]);\r\n\r\n      // Если есть карточки - показываем модальное окно\r\n      if (data.cards && data.cards.length > 0) {\r\n        console.log(\"🎯 Opening modal with cards:\", data.cards);\r\n        setModalCards(data.cards);\r\n        setIsModalOpen(true);\r\n      } else {\r\n        console.log(\"⚠️ No cards to display\");\r\n      }\r\n\r\n      // Если нужен оператор - автоматически переключаемся и создаем чат\r\n      if (data.needOperator) {\r\n        console.log(\"🔄 Switching to operator tab...\");\r\n        handleSwitchToOperator();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Chat error:\", error);\r\n\r\n      let errorText = \"Извините, произошла ошибка.\";\r\n\r\n      if (error instanceof Error) {\r\n        if (error.message.includes(\"API key not configured\")) {\r\n          errorText = \"Чат-бот временно недоступен. Пожалуйста, свяжитесь с нами по телефону.\";\r\n        } else if (error.message.includes(\"Failed to load clinic data\")) {\r\n          errorText = \"Не удалось загрузить данные клиники. Попробуйте позже.\";\r\n        } else {\r\n          errorText = `Произошла ошибка: ${error.message}. Попробуйте позже или позвоните нам напрямую.`;\r\n        }\r\n      }\r\n\r\n      const errorMessage: Message = {\r\n        role: \"assistant\",\r\n        content: errorText,\r\n      };\r\n      setMessages((prev) => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSwitchToOperator = async () => {\r\n    // Проверяем авторизацию\r\n    if (status !== 'authenticated') {\r\n      console.log(\"⚠️ User not authenticated, opening login modal\");\r\n      alert.info('Для связи с оператором необходимо войти в систему', 'Требуется авторизация');\r\n      handleOpenLoginModal();\r\n      return;\r\n    }\r\n\r\n    // Переключаемся на вкладку оператора\r\n    setActiveTab('operator');\r\n\r\n    // Даем время на загрузку компонента\r\n    await new Promise(resolve => setTimeout(resolve, 500));\r\n\r\n    // Проверяем, есть ли уже активный чат\r\n    try {\r\n      const chatResponse = await fetch('/api/operator-chat/my-chat', {\r\n        cache: 'no-store'\r\n      });\r\n\r\n      if (chatResponse.ok) {\r\n        // Чат уже существует, просто переключились\r\n        console.log(\"✅ Chat already exists\");\r\n        return;\r\n      }\r\n\r\n      // Чата нет - создаем новый с автоматическим сообщением\r\n      console.log(\"📝 Creating new operator chat...\");\r\n      const createResponse = await fetch('/api/operator-chat', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          message: 'Здравствуйте, мне нужна Ваша помощь'\r\n        }),\r\n        cache: 'no-store'\r\n      });\r\n\r\n      if (createResponse.ok) {\r\n        console.log(\"✅ Operator chat created successfully\");\r\n        alert.success('Вы переключены на оператора. Менеджер скоро ответит!', 'Успех');\r\n\r\n        // Перезагружаем компонент оператора через небольшую задержку\r\n        await new Promise(resolve => setTimeout(resolve, 300));\r\n        window.dispatchEvent(new CustomEvent('reloadOperatorChat'));\r\n      } else {\r\n        const errorData = await createResponse.json();\r\n        throw new Error(errorData.error || 'Failed to create chat');\r\n      }\r\n    } catch (error) {\r\n      console.error(\"❌ Error switching to operator:\", error);\r\n      alert.error('Не удалось создать чат с оператором. Попробуйте позже.', 'Ошибка');\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSend();\r\n    }\r\n  };\r\n\r\n  // Auth handlers\r\n  const handleOpenLoginModal = useCallback(() => {\r\n    setAuthModalType('login');\r\n    setIsAuthModalOpen(true);\r\n    setIsOpen(false); // Close chat\r\n  }, []);\r\n\r\n  const handleOpenRegisterModal = useCallback(() => {\r\n    setAuthModalType('register');\r\n    setIsAuthModalOpen(true);\r\n    setIsOpen(false); // Close chat\r\n  }, []);\r\n\r\n  const handleLogin = async (loginData: LoginData) => {\r\n    setAuthLoading(true);\r\n    try {\r\n      const result = await signIn('credentials', {\r\n        login: loginData.login,\r\n        password: loginData.password,\r\n        redirect: false,\r\n      });\r\n\r\n      if (result?.error) {\r\n        alert.error(result.error === 'CredentialsSignin'\r\n          ? 'Неверный логин или пароль'\r\n          : result.error, 'Ошибка входа');\r\n      } else {\r\n        setIsAuthModalOpen(false);\r\n        alert.success('Вы успешно вошли в систему', 'Успех');\r\n      }\r\n    } catch (error) {\r\n      alert.error('Произошла ошибка при входе', 'Ошибка');\r\n    } finally {\r\n      setAuthLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (registerData: RegisterData) => {\r\n    setAuthLoading(true);\r\n    try {\r\n      const response = await fetch('/api/auth/register', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(registerData),\r\n        cache: 'no-store'\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        alert.error(data.error || 'Ошибка при регистрации', 'Ошибка');\r\n        return;\r\n      }\r\n\r\n      // Auto login after registration\r\n      const result = await signIn('credentials', {\r\n        login: registerData.login,\r\n        password: registerData.password,\r\n        redirect: false,\r\n      });\r\n\r\n      if (result?.error) {\r\n        alert.error('Регистрация успешна, но не удалось войти. Попробуйте войти вручную.', 'Предупреждение');\r\n      } else {\r\n        setIsAuthModalOpen(false);\r\n        alert.success('Регистрация успешна! Вы вошли в систему.', 'Успех');\r\n      }\r\n    } catch (error) {\r\n      alert.error('Произошла ошибка при регистрации', 'Ошибка');\r\n    } finally {\r\n      setAuthLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleForgotPassword = async (email: string) => {\r\n    alert.info('Функция восстановления пароля временно недоступна', 'Информация');\r\n  };\r\n\r\n  // Don't render anything until mounted to avoid hydration mismatch\r\n  if (!isMounted) return null;\r\n\r\n  // Hide AI assistant in admin panel\r\n  if (pathname?.startsWith('/admin')) {\r\n    return null;\r\n  }\r\n\r\n  const handleDismissHint = () => {\r\n    setShowHint(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Hint Card */}\r\n      <AnimatePresence>\r\n        {!isOpen && showHint && (\r\n          <motion.div\r\n            initial={{ opacity: 0, x: 20, y: 20 }}\r\n            animate={{ opacity: 1, x: 0, y: 0 }}\r\n            exit={{ opacity: 0, x: 20, y: 20 }}\r\n            transition={{ duration: 0.4, ease: \"easeOut\" }}\r\n            className=\"fixed bottom-24 right-6 z-50 w-80 bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden\"\r\n          >\r\n            {/* Header */}\r\n            <div className=\"bg-gradient-to-r from-[#18A36C] to-[#15905f] p-4 relative\">\r\n              <button\r\n                onClick={handleDismissHint}\r\n                className=\"absolute top-2 right-2 w-6 h-6 rounded-lg bg-white/20 hover:bg-white/30 flex items-center justify-center text-white transition-colors cursor-pointer\"\r\n              >\r\n                <X className=\"w-4 h-4\" />\r\n              </button>\r\n              <h3 className=\"text-white font-semibold text-lg\">\r\n                Нужна помощь?\r\n              </h3>\r\n              <p className=\"text-white/90 text-sm\">\r\n                Мы всегда на связи!\r\n              </p>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"p-4 space-y-3\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"w-8 h-8 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-lg flex items-center justify-center flex-shrink-0\">\r\n                  <Bot className=\"w-4 h-4 text-white\" />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <h4 className=\"text-sm font-semibold text-gray-800\">AI Помощник</h4>\r\n                  <p className=\"text-xs text-gray-600\">Мгновенные ответы 24/7</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0\">\r\n                  <Headphones className=\"w-4 h-4 text-white\" />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <h4 className=\"text-sm font-semibold text-gray-800\">Оператор</h4>\r\n                  <p className=\"text-xs text-gray-600\">Живое общение со специалистом</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"w-8 h-8 bg-gradient-to-br from-amber-500 to-orange-500 rounded-lg flex items-center justify-center flex-shrink-0\">\r\n                  <Star className=\"w-4 h-4 text-white\" />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <h4 className=\"text-sm font-semibold text-gray-800\">Отзыв</h4>\r\n                  <p className=\"text-xs text-gray-600\">Поделитесь своим мнением</p>\r\n                </div>\r\n              </div>\r\n\r\n              <button\r\n                onClick={() => {\r\n                  setIsOpen(true);\r\n                  handleDismissHint();\r\n                }}\r\n                className=\"w-full mt-2 bg-gradient-to-r from-[#18A36C] to-[#15905f] text-white py-2 px-4 rounded-lg text-sm font-semibold hover:shadow-lg transition-all duration-300 cursor-pointer\"\r\n              >\r\n                Начать общение\r\n              </button>\r\n            </div>\r\n\r\n            {/* Arrow pointing to button */}\r\n            <div className=\"absolute -bottom-2 right-8 w-4 h-4 bg-white transform rotate-45 border-r border-b border-gray-100\" />\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Toggle Button */}\r\n      <AnimatePresence>\r\n        {!isOpen && (\r\n          <motion.button\r\n            initial={{ scale: 0, opacity: 0 }}\r\n            animate={{ scale: 1, opacity: 1 }}\r\n            exit={{ scale: 0, opacity: 0 }}\r\n            whileHover={{ scale: 1.1 }}\r\n            whileTap={{ scale: 0.9 }}\r\n            onClick={() => {\r\n              setIsOpen(true);\r\n              if (showHint) handleDismissHint();\r\n            }}\r\n            className=\"fixed bottom-6 right-6 z-50 w-16 h-16 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-full shadow-2xl flex items-center justify-center text-white hover:shadow-[#18A36C]/50 transition-all duration-300 cursor-pointer\"\r\n          >\r\n            <MessageCircle className=\"w-7 h-7\" />\r\n            {hasUnreadChat && (\r\n              <span className=\"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full animate-pulse\" />\r\n            )}\r\n          </motion.button>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Drawer */}\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <>\r\n            {/* Backdrop/Overlay with blur */}\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              transition={{ duration: 0.3 }}\r\n              onClick={() => setIsOpen(false)}\r\n              className=\"fixed inset-0 z-[60] bg-black/30 backdrop-blur-sm\"\r\n            />\r\n\r\n            {/* Drawer Panel */}\r\n            <motion.div\r\n              initial={{ x: '100%' }}\r\n              animate={{ x: 0 }}\r\n              exit={{ x: '100%' }}\r\n              transition={{ duration: 0.3, ease: \"easeInOut\" }}\r\n              className=\"fixed top-0 right-0 bottom-0 z-[70] w-full sm:w-[480px] bg-white shadow-2xl flex flex-col\"\r\n            >\r\n              {/* Header */}\r\n              <div className=\"bg-gradient-to-r from-[#18A36C] to-[#15905f]\">\r\n                <div className=\"p-4 flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center\">\r\n                      {activeTab === 'ai' ? (\r\n                        <Bot className=\"w-6 h-6 text-white\" />\r\n                      ) : (\r\n                        <Headphones className=\"w-6 h-6 text-white\" />\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"text-white font-semibold\">\r\n                        {activeTab === 'ai' ? 'AI Помощник' : 'Оператор'}\r\n                      </h3>\r\n                      <p className=\"text-white/80 text-xs\">Doctor Family</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {/* Clear chat button */}\r\n                    {activeTab === 'ai' && messages.length > 1 && (\r\n                      <button\r\n                        onClick={handleClearChat}\r\n                        title=\"Очистить чат\"\r\n                        className=\"w-8 h-8 rounded-lg bg-white/20 hover:bg-red-500/80 flex items-center justify-center text-white transition-colors cursor-pointer\"\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                      </button>\r\n                    )}\r\n                    {/* Review button */}\r\n                    <button\r\n                      onClick={() => setIsReviewModalOpen(true)}\r\n                      title=\"Оставить отзыв\"\r\n                      className=\"w-8 h-8 rounded-lg bg-white/20 hover:bg-amber-500/80 flex items-center justify-center text-white transition-colors cursor-pointer\"\r\n                    >\r\n                      <Star className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setIsOpen(false)}\r\n                      className=\"w-8 h-8 rounded-lg bg-white/20 hover:bg-white/30 flex items-center justify-center text-white transition-colors cursor-pointer\"\r\n                    >\r\n                      <X className=\"w-5 h-5\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Tabs */}\r\n                <div className=\"px-4 pb-4 flex gap-2\">\r\n                  <button\r\n                    onClick={() => setActiveTab('ai')}\r\n                    className={`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all cursor-pointer ${activeTab === 'ai'\r\n                        ? 'bg-white text-[#18A36C] shadow-sm'\r\n                        : 'bg-white/20 text-white/80 hover:bg-white/30'\r\n                      }`}\r\n                  >\r\n                    <div className=\"flex items-center justify-center gap-2\">\r\n                      <Bot className=\"w-4 h-4\" />\r\n                      <span>AI Помощник</span>\r\n                    </div>\r\n                  </button>\r\n                  <div className=\"relative group\">\r\n                    <button\r\n                      onClick={() => setActiveTab('operator')}\r\n                      className={`relative py-2 px-4 rounded-lg text-sm font-medium transition-all cursor-pointer ${activeTab === 'operator'\r\n                          ? 'bg-white text-[#18A36C] shadow-sm'\r\n                          : 'bg-white/20 text-white/80 hover:bg-white/30'\r\n                        }`}\r\n                    >\r\n                      <div className=\"flex items-center justify-center gap-2\">\r\n                        <Headphones className=\"w-4 h-4\" />\r\n                        <span>Оператор</span>\r\n                      </div>\r\n                      {hasUnreadChat && activeTab !== 'operator' && (\r\n                        <span className=\"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full\" />\r\n                      )}\r\n                    </button>\r\n                    {/* Tooltip */}\r\n                    <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1.5 bg-gray-900 text-white text-xs rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none\">\r\n                      Связаться с операторами\r\n                      <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Messages */}\r\n              <div className=\"flex-1 overflow-y-auto bg-gray-50\">\r\n                {activeTab === 'operator' ? (\r\n                  <OperatorChatContent\r\n                    onError={(message) => alert.error(message, 'Ошибка')}\r\n                    onOpenLoginModal={handleOpenLoginModal}\r\n                    onOpenRegisterModal={handleOpenRegisterModal}\r\n                  />\r\n                ) : (\r\n                  <div className=\"p-4 space-y-4\">\r\n                    {messages.map((message, index) => (\r\n                      <motion.div\r\n                        key={index}\r\n                        initial={{ opacity: 0, y: 10 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ duration: 0.2 }}\r\n                        className={`flex gap-3 ${message.role === \"user\" ? \"flex-row-reverse\" : \"\"}`}\r\n                      >\r\n                        <div\r\n                          className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden ${message.role === \"user\"\r\n                              ? session?.user?.image ? \"\" : \"bg-gradient-to-br from-[#18A36C] to-[#15905f]\"\r\n                              : \"bg-gradient-to-br from-[#18A36C] to-[#15905f]\"\r\n                            }`}\r\n                        >\r\n                          {message.role === \"user\" ? (\r\n                            session?.user?.image ? (\r\n                              <img\r\n                                src={session.user.image}\r\n                                alt=\"Вы\"\r\n                                className=\"w-full h-full object-cover\"\r\n                              />\r\n                            ) : (\r\n                              <User className=\"w-5 h-5 text-white\" />\r\n                            )\r\n                          ) : (\r\n                            <Bot className=\"w-5 h-5 text-white\" />\r\n                          )}\r\n                        </div>\r\n                        <div\r\n                          className={`max-w-[75%] rounded-2xl p-3 ${message.role === \"user\"\r\n                              ? \"bg-gradient-to-br from-[#18A36C] to-[#15905f] text-white\"\r\n                              : \"bg-white text-gray-800 shadow-sm\"\r\n                            }`}\r\n                        >\r\n                          <p className=\"text-sm leading-relaxed whitespace-pre-wrap\">\r\n                            {message.content}\r\n                          </p>\r\n                        </div>\r\n                      </motion.div>\r\n                    ))}\r\n\r\n                    {isLoading && (\r\n                      <motion.div\r\n                        initial={{ opacity: 0, y: 10 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        className=\"flex gap-3\"\r\n                      >\r\n                        <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-[#18A36C] to-[#15905f] flex items-center justify-center\">\r\n                          <Bot className=\"w-5 h-5 text-white\" />\r\n                        </div>\r\n                        <div className=\"bg-white rounded-2xl p-3 shadow-sm\">\r\n                          <div className=\"flex gap-1\">\r\n                            <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" />\r\n                            <div\r\n                              className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"\r\n                              style={{ animationDelay: \"0.1s\" }}\r\n                            />\r\n                            <div\r\n                              className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"\r\n                              style={{ animationDelay: \"0.2s\" }}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </motion.div>\r\n                    )}\r\n\r\n                    <div ref={messagesEndRef} />\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Input */}\r\n              {activeTab === 'ai' && (\r\n                <div className=\"p-4 bg-white border-t border-gray-200\">\r\n                  <div className=\"flex gap-2\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={input}\r\n                      onChange={(e) => setInput(e.target.value)}\r\n                      onKeyPress={handleKeyPress}\r\n                      placeholder=\"Задайте вопрос...\"\r\n                      disabled={isLoading}\r\n                      className=\"flex-1 px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-[#18A36C] transition-all disabled:opacity-50\"\r\n                    />\r\n                    <button\r\n                      onClick={handleSend}\r\n                      disabled={isLoading || !input.trim()}\r\n                      className=\"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-xl flex items-center justify-center text-white shadow-lg shadow-[#18A36C]/20 hover:shadow-xl hover:shadow-[#18A36C]/30 transition-all duration-200 disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98]\"\r\n                    >\r\n                      {isLoading ? (\r\n                        <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                      ) : (\r\n                        <Send className=\"w-5 h-5\" />\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-500 mt-2 text-center\">\r\n                    AI помощник может ошибаться. Проверяйте важную информацию.\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </motion.div>\r\n          </>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Result Modal */}\r\n      <ResultModal\r\n        isOpen={isModalOpen}\r\n        cards={modalCards}\r\n        onClose={() => setIsModalOpen(false)}\r\n      />\r\n\r\n      {/* Onboarding Modal */}\r\n      <AIOnboardingModal\r\n        isOpen={showOnboarding}\r\n        onClose={handleCloseOnboarding}\r\n      />\r\n\r\n      {/* Auth Modal */}\r\n      <AuthModals\r\n        isOpen={isAuthModalOpen}\r\n        onClose={() => setIsAuthModalOpen(false)}\r\n        onLogin={handleLogin}\r\n        onRegister={handleRegister}\r\n        onForgotPassword={handleForgotPassword}\r\n        isLoading={authLoading}\r\n        initialType={authModalType}\r\n      />\r\n\r\n      {/* Clear Chat Confirmation Modal */}\r\n      <AnimatePresence>\r\n        {showClearConfirmation && (\r\n          <>\r\n            {/* Backdrop */}\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              onClick={() => setShowClearConfirmation(false)}\r\n              className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] cursor-pointer\"\r\n            />\r\n\r\n            {/* Modal */}\r\n            <div className=\"fixed inset-0 z-[101] flex items-center justify-center p-4\">\r\n              <motion.div\r\n                initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                transition={{ type: 'spring', damping: 25, stiffness: 300 }}\r\n                className=\"relative bg-white rounded-2xl shadow-2xl p-6 max-w-md w-full\"\r\n              >\r\n                {/* Icon */}\r\n                <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                  <Trash2 className=\"w-8 h-8 text-red-600\" />\r\n                </div>\r\n\r\n                {/* Title */}\r\n                <h3 className=\"text-xl font-bold text-center text-gray-900 mb-2\">\r\n                  Очистить историю чата?\r\n                </h3>\r\n\r\n                {/* Description */}\r\n                <p className=\"text-center text-gray-600 mb-6\">\r\n                  Все сообщения будут удалены без возможности восстановления. Это действие нельзя отменить.\r\n                </p>\r\n\r\n                {/* Buttons */}\r\n                <div className=\"flex gap-3\">\r\n                  <button\r\n                    onClick={() => setShowClearConfirmation(false)}\r\n                    className=\"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-xl transition-all duration-200 cursor-pointer\"\r\n                  >\r\n                    Отмена\r\n                  </button>\r\n                  <button\r\n                    onClick={confirmClearChat}\r\n                    className=\"flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-xl transition-all duration-200 shadow-lg shadow-red-600/20 hover:shadow-xl hover:shadow-red-600/30 cursor-pointer\"\r\n                  >\r\n                    Очистить\r\n                  </button>\r\n                </div>\r\n              </motion.div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Review Modal */}\r\n      <LeaveReviewModal\r\n        isOpen={isReviewModalOpen}\r\n        onClose={() => setIsReviewModalOpen(false)}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z',\n      key: 'vktsd0',\n    },\n  ],\n  ['circle', { cx: '7.5', cy: '7.5', r: '.5', fill: 'currentColor', key: 'kqv944' }],\n];\n\n/**\n * @component @name Tag\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIuNTg2IDIuNTg2QTIgMiAwIDAgMCAxMS4xNzIgMkg0YTIgMiAwIDAgMC0yIDJ2Ny4xNzJhMiAyIDAgMCAwIC41ODYgMS40MTRsOC43MDQgOC43MDRhMi40MjYgMi40MjYgMCAwIDAgMy40MiAwbDYuNTgtNi41OGEyLjQyNiAyLjQyNiAwIDAgMCAwLTMuNDJ6IiAvPgogIDxjaXJjbGUgY3g9IjcuNSIgY3k9IjcuNSIgcj0iLjUiIGZpbGw9ImN1cnJlbnRDb2xvciIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/tag\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Tag = createLucideIcon('tag', __iconNode);\n\nexport default Tag;\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Cookie, X } from 'lucide-react';\r\n\r\nconst COOKIE_CONSENT_KEY = 'cookie-consent-accepted';\r\n\r\nexport function CookieConsent() {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [isMounted, setIsMounted] = useState(false);\r\n\r\n  // Prevent hydration mismatch\r\n  useEffect(() => {\r\n    setIsMounted(true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!isMounted) return;\r\n\r\n    // Check if user has already accepted cookies\r\n    const hasAccepted = localStorage.getItem(COOKIE_CONSENT_KEY);\r\n\r\n    if (!hasAccepted) {\r\n      // Show cookie consent immediately\r\n      const timer = setTimeout(() => setIsVisible(true), 500);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [isMounted]);\r\n\r\n  const handleAccept = () => {\r\n    localStorage.setItem(COOKIE_CONSENT_KEY, 'true');\r\n    setIsVisible(false);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    // Mark as handled even if not accepted (so onboarding can show)\r\n    localStorage.setItem(COOKIE_CONSENT_KEY, 'closed');\r\n    setIsVisible(false);\r\n  };\r\n\r\n  // Don't render anything until mounted to avoid hydration mismatch\r\n  if (!isMounted) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isVisible && (\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 100 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          exit={{ opacity: 0, y: 100 }}\r\n          transition={{ type: 'spring', stiffness: 260, damping: 20 }}\r\n          className=\"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:max-w-md z-50\"\r\n        >\r\n          <div className=\"relative overflow-hidden rounded-2xl shadow-2xl bg-gradient-to-br from-[#18A36C] via-[#15905f] to-[#128a54] shadow-[0_0_30px_rgba(24,163,108,0.4)]\">\r\n            {/* Animated gradient overlay */}\r\n            <motion.div\r\n              className=\"absolute inset-0 opacity-30\"\r\n              animate={{\r\n                background: [\r\n                  'radial-gradient(circle at 20% 50%, rgba(255,255,255,0.3) 0%, transparent 50%)',\r\n                  'radial-gradient(circle at 80% 50%, rgba(255,255,255,0.3) 0%, transparent 50%)',\r\n                  'radial-gradient(circle at 20% 50%, rgba(255,255,255,0.3) 0%, transparent 50%)',\r\n                ],\r\n              }}\r\n              transition={{\r\n                duration: 4,\r\n                repeat: Infinity,\r\n                ease: 'linear',\r\n              }}\r\n            />\r\n\r\n            {/* Content */}\r\n            <div className=\"relative p-5\">\r\n              <div className=\"flex gap-4\">\r\n                {/* Icon */}\r\n                <motion.div\r\n                  initial={{ scale: 0, rotate: -180 }}\r\n                  animate={{ scale: 1, rotate: 0 }}\r\n                  transition={{ type: 'spring', stiffness: 300, damping: 20, delay: 0.1 }}\r\n                  className=\"flex-shrink-0\"\r\n                >\r\n                  <div className=\"relative rounded-full p-2.5 bg-white/20 backdrop-blur-sm\">\r\n                    <Cookie className=\"w-6 h-6 text-white\" />\r\n                  </div>\r\n                </motion.div>\r\n\r\n                {/* Text */}\r\n                <div className=\"flex-1\">\r\n                  <motion.h4\r\n                    initial={{ opacity: 0, y: -5 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ delay: 0.2 }}\r\n                    className=\"font-bold text-base text-white mb-1\"\r\n                  >\r\n                    Мы используем Cookie\r\n                  </motion.h4>\r\n                  <motion.p\r\n                    initial={{ opacity: 0, y: -5 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ delay: 0.25 }}\r\n                    className=\"text-sm text-emerald-50 leading-relaxed\"\r\n                  >\r\n                    Мы используем файлы cookie для улучшения работы сайта и персонализации контента.\r\n                  </motion.p>\r\n                </div>\r\n\r\n                {/* Close button */}\r\n                <motion.button\r\n                  initial={{ opacity: 0, scale: 0 }}\r\n                  animate={{ opacity: 1, scale: 1 }}\r\n                  whileHover={{ scale: 1.1 }}\r\n                  whileTap={{ scale: 0.9 }}\r\n                  transition={{ delay: 0.3 }}\r\n                  onClick={handleClose}\r\n                  className=\"flex-shrink-0 rounded-lg p-1.5 hover:bg-white/20 transition-colors text-white\"\r\n                  aria-label=\"Закрыть\"\r\n                >\r\n                  <X className=\"w-5 h-5\" />\r\n                </motion.button>\r\n              </div>\r\n\r\n              {/* Action button */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.3 }}\r\n                className=\"mt-4 flex justify-end\"\r\n              >\r\n                <button\r\n                  onClick={handleAccept}\r\n                  className=\"px-5 py-2 bg-white text-[#18A36C] font-medium rounded-xl hover:bg-emerald-50 transition-colors shadow-lg\"\r\n                >\r\n                  Принять\r\n                </button>\r\n              </motion.div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5', key: 'laymnq' }],\n  ['path', { d: 'M8.5 8.5v.01', key: 'ue8clq' }],\n  ['path', { d: 'M16 15.5v.01', key: '14dtrp' }],\n  ['path', { d: 'M12 12v.01', key: 'u5ubse' }],\n  ['path', { d: 'M11 17v.01', key: '1hyl5a' }],\n  ['path', { d: 'M7 14v.01', key: 'uct60s' }],\n];\n\n/**\n * @component @name Cookie\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMmExMCAxMCAwIDEgMCAxMCAxMCA0IDQgMCAwIDEtNS01IDQgNCAwIDAgMS01LTUiIC8+CiAgPHBhdGggZD0iTTguNSA4LjV2LjAxIiAvPgogIDxwYXRoIGQ9Ik0xNiAxNS41di4wMSIgLz4KICA8cGF0aCBkPSJNMTIgMTJ2LjAxIiAvPgogIDxwYXRoIGQ9Ik0xMSAxN3YuMDEiIC8+CiAgPHBhdGggZD0iTTcgMTR2LjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/cookie\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Cookie = createLucideIcon('cookie', __iconNode);\n\nexport default Cookie;\n","'use client';\r\n\r\nimport { useEffect, useRef, useCallback } from 'react';\r\nimport { useSession } from 'next-auth/react';\r\nimport { useAlert } from '@/components/common/SMAlert/AlertProvider';\r\n\r\nconst NOTIFICATION_CHECK_INTERVAL = 30000; // 30 seconds\r\nconst LAST_CHECK_KEY = 'letter-notifications-last-check';\r\nconst NOTIFIED_LETTERS_KEY = 'letter-notifications-notified';\r\n\r\ninterface UnreadReply {\r\n  id: number;\r\n  subject: string;\r\n  replied_at: string | null;\r\n  hasNewMessages?: boolean;\r\n}\r\n\r\nexport function useLetterNotifications() {\r\n  const { data: session, status } = useSession();\r\n  const alert = useAlert();\r\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\r\n  const audioRef = useRef<HTMLAudioElement | null>(null);\r\n\r\n  // Initialize audio element\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      audioRef.current = new Audio('/sounds/notification.mp3');\r\n      audioRef.current.volume = 0.5;\r\n    }\r\n  }, []);\r\n\r\n  const playNotificationSound = useCallback(() => {\r\n    if (audioRef.current) {\r\n      audioRef.current.currentTime = 0;\r\n      audioRef.current.play().catch(() => {\r\n        // Audio play failed - browser may block autoplay\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const checkForUnreadReplies = useCallback(async () => {\r\n    if (status !== 'authenticated' || !session) return;\r\n\r\n    try {\r\n      const response = await fetch('/api/letters/unread');\r\n      if (!response.ok) return;\r\n\r\n      const data = await response.json();\r\n      const unreadReplies: UnreadReply[] = data.letters || [];\r\n\r\n      if (unreadReplies.length === 0) return;\r\n\r\n      // Get previously notified letters (we use different keys for first reply vs thread messages)\r\n      const notifiedLetters = JSON.parse(\r\n        localStorage.getItem(NOTIFIED_LETTERS_KEY) || '[]'\r\n      ) as number[];\r\n\r\n      // Find new first replies (not yet notified)\r\n      const newFirstReplies = unreadReplies.filter(\r\n        (reply) => !reply.hasNewMessages && !notifiedLetters.includes(reply.id)\r\n      );\r\n\r\n      // Find letters with new thread messages (use offset +10000 to distinguish from first reply notification)\r\n      const newThreadMessages = unreadReplies.filter(\r\n        (reply) => reply.hasNewMessages && !notifiedLetters.includes(reply.id + 10000)\r\n      );\r\n\r\n      const hasNewNotifications = newFirstReplies.length > 0 || newThreadMessages.length > 0;\r\n\r\n      if (hasNewNotifications) {\r\n        // Play notification sound\r\n        playNotificationSound();\r\n\r\n        // Show alert for new notifications\r\n        const totalNew = newFirstReplies.length + newThreadMessages.length;\r\n\r\n        if (totalNew === 1) {\r\n          const letter = newFirstReplies[0] || newThreadMessages[0];\r\n          const messageType = newThreadMessages.length > 0 ? 'новое сообщение' : 'ответил';\r\n          alert.info(\r\n            `Главный врач ${messageType} на ваше письмо \"${letter.subject}\". Просмотрите личный кабинет.`,\r\n            'Новое сообщение'\r\n          );\r\n        } else {\r\n          alert.info(\r\n            `У вас ${totalNew} новых сообщений от главного врача. Просмотрите личный кабинет.`,\r\n            'Новые сообщения'\r\n          );\r\n        }\r\n\r\n        // Mark these letters as notified\r\n        const updatedNotified = [\r\n          ...notifiedLetters,\r\n          ...newFirstReplies.map((r) => r.id),\r\n          ...newThreadMessages.map((r) => r.id + 10000), // +10000 for thread messages\r\n        ];\r\n        localStorage.setItem(\r\n          NOTIFIED_LETTERS_KEY,\r\n          JSON.stringify(updatedNotified)\r\n        );\r\n      }\r\n\r\n      // Update last check time\r\n      localStorage.setItem(LAST_CHECK_KEY, new Date().toISOString());\r\n    } catch (error) {\r\n      console.error('Error checking for letter notifications:', error);\r\n    }\r\n  }, [session, status, alert, playNotificationSound]);\r\n\r\n  // Check on first login or when user returns to site\r\n  useEffect(() => {\r\n    if (status !== 'authenticated') return;\r\n\r\n    // Small delay to let the page load first\r\n    const initialCheckTimeout = setTimeout(() => {\r\n      checkForUnreadReplies();\r\n    }, 2000);\r\n\r\n    return () => clearTimeout(initialCheckTimeout);\r\n  }, [status, checkForUnreadReplies]);\r\n\r\n  // Set up periodic checking\r\n  useEffect(() => {\r\n    if (status !== 'authenticated') {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Start periodic checks\r\n    intervalRef.current = setInterval(\r\n      checkForUnreadReplies,\r\n      NOTIFICATION_CHECK_INTERVAL\r\n    );\r\n\r\n    return () => {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n    };\r\n  }, [status, checkForUnreadReplies]);\r\n\r\n  return {\r\n    checkForUnreadReplies,\r\n  };\r\n}\r\n","'use client';\r\n\r\nimport { useEffect, useRef, useCallback } from 'react';\r\nimport { useSession } from 'next-auth/react';\r\nimport { useAlert } from '@/components/common/SMAlert/AlertProvider';\r\n\r\nconst NOTIFICATION_CHECK_INTERVAL = 30000; // 30 секунд\r\nconst NOTIFIED_LETTERS_KEY = 'chief-doctor-notifications-notified';\r\n\r\ninterface UnreadLetter {\r\n  id: number;\r\n  subject: string;\r\n  has_new_patient_message: boolean;\r\n  is_read: boolean;\r\n  patient: {\r\n    id: number;\r\n    name: string;\r\n  };\r\n}\r\n\r\nexport function useChiefDoctorNotifications() {\r\n  const { data: session, status } = useSession();\r\n  const alert = useAlert();\r\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\r\n  const audioRef = useRef<HTMLAudioElement | null>(null);\r\n\r\n  // Инициализация аудио элемента\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      audioRef.current = new Audio('/sounds/notification.mp3');\r\n      audioRef.current.volume = 0.5;\r\n    }\r\n  }, []);\r\n\r\n  const playNotificationSound = useCallback(() => {\r\n    if (audioRef.current) {\r\n      audioRef.current.currentTime = 0;\r\n      audioRef.current.play().catch(() => {\r\n        // Audio play failed - browser may block autoplay\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const checkForUnreadLetters = useCallback(async () => {\r\n    // Проверяем только если пользователь - главный врач\r\n    if (status !== 'authenticated' || !session) return;\r\n\r\n    // @ts-expect-error - role может быть undefined\r\n    const userRole = session?.user?.role;\r\n    if (userRole !== 'CHIEF_DOCTOR') return;\r\n\r\n    try {\r\n      const response = await fetch('/api/admin/letters/unread');\r\n      if (!response.ok) return;\r\n\r\n      const data = await response.json();\r\n      const unreadLetters: UnreadLetter[] = data.letters || [];\r\n\r\n      if (unreadLetters.length === 0) return;\r\n\r\n      // Получаем список уже уведомленных писем\r\n      const notifiedLetters = JSON.parse(\r\n        localStorage.getItem(NOTIFIED_LETTERS_KEY) || '[]'\r\n      ) as number[];\r\n\r\n      // Находим новые непрочитанные письма (ещё не уведомляли)\r\n      const newLetters = unreadLetters.filter(\r\n        (letter) => !notifiedLetters.includes(letter.id)\r\n      );\r\n\r\n      // Письма с новыми сообщениями от пациентов\r\n      const lettersWithNewMessages = unreadLetters.filter(\r\n        (letter) => letter.has_new_patient_message && !notifiedLetters.includes(letter.id + 10000) // +10000 чтобы различать новые письма от новых сообщений\r\n      );\r\n\r\n      const hasNewNotifications = newLetters.length > 0 || lettersWithNewMessages.length > 0;\r\n\r\n      if (hasNewNotifications) {\r\n        // Воспроизводим звук уведомления\r\n        playNotificationSound();\r\n\r\n        // Показываем уведомление\r\n        const newLettersCount = newLetters.filter(l => !l.is_read && !l.has_new_patient_message).length;\r\n        const newMessagesCount = lettersWithNewMessages.length;\r\n\r\n        if (newLettersCount > 0 && newMessagesCount > 0) {\r\n          alert.info(\r\n            `У вас ${newLettersCount} новых писем и ${newMessagesCount} новых ответов от пациентов. Просмотрите админ-панель.`,\r\n            'Новые сообщения'\r\n          );\r\n        } else if (newLettersCount > 0) {\r\n          alert.info(\r\n            newLettersCount === 1\r\n              ? `Новое письмо от пациента \"${newLetters[0].patient.name}\". Просмотрите админ-панель.`\r\n              : `У вас ${newLettersCount} новых писем от пациентов. Просмотрите админ-панель.`,\r\n            'Новые письма'\r\n          );\r\n        } else if (newMessagesCount > 0) {\r\n          alert.info(\r\n            newMessagesCount === 1\r\n              ? `Новый ответ от пациента \"${lettersWithNewMessages[0].patient.name}\" в переписке. Просмотрите админ-панель.`\r\n              : `У вас ${newMessagesCount} новых ответов от пациентов. Просмотрите админ-панель.`,\r\n            'Новые ответы'\r\n          );\r\n        }\r\n\r\n        // Отмечаем письма как уведомленные\r\n        const updatedNotified = [\r\n          ...notifiedLetters,\r\n          ...newLetters.map((l) => l.id),\r\n          ...lettersWithNewMessages.map((l) => l.id + 10000),\r\n        ];\r\n        localStorage.setItem(\r\n          NOTIFIED_LETTERS_KEY,\r\n          JSON.stringify(updatedNotified)\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking for chief doctor notifications:', error);\r\n    }\r\n  }, [session, status, alert, playNotificationSound]);\r\n\r\n  // Проверка при первом входе или возврате на сайт\r\n  useEffect(() => {\r\n    if (status !== 'authenticated') return;\r\n\r\n    // @ts-expect-error - role может быть undefined\r\n    const userRole = session?.user?.role;\r\n    if (userRole !== 'CHIEF_DOCTOR') return;\r\n\r\n    // Небольшая задержка для загрузки страницы\r\n    const initialCheckTimeout = setTimeout(() => {\r\n      checkForUnreadLetters();\r\n    }, 2000);\r\n\r\n    return () => clearTimeout(initialCheckTimeout);\r\n  }, [status, session, checkForUnreadLetters]);\r\n\r\n  // Периодическая проверка\r\n  useEffect(() => {\r\n    if (status !== 'authenticated') {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n      return;\r\n    }\r\n\r\n    // @ts-expect-error - role может быть undefined\r\n    const userRole = session?.user?.role;\r\n    if (userRole !== 'CHIEF_DOCTOR') return;\r\n\r\n    // Запускаем периодическую проверку\r\n    intervalRef.current = setInterval(\r\n      checkForUnreadLetters,\r\n      NOTIFICATION_CHECK_INTERVAL\r\n    );\r\n\r\n    return () => {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n    };\r\n  }, [status, session, checkForUnreadLetters]);\r\n\r\n  // Очистка уведомления при прочтении письма\r\n  const clearNotifiedLetter = useCallback((letterId: number) => {\r\n    const notifiedLetters = JSON.parse(\r\n      localStorage.getItem(NOTIFIED_LETTERS_KEY) || '[]'\r\n    ) as number[];\r\n    const updated = notifiedLetters.filter((id) => id !== letterId && id !== letterId + 10000);\r\n    localStorage.setItem(NOTIFIED_LETTERS_KEY, JSON.stringify(updated));\r\n  }, []);\r\n\r\n  return {\r\n    checkForUnreadLetters,\r\n    clearNotifiedLetter,\r\n  };\r\n}\r\n","'use client';\r\n\r\nimport { useLetterNotifications } from '@/hooks/useLetterNotifications';\r\nimport { useChiefDoctorNotifications } from '@/hooks/useChiefDoctorNotifications';\r\n\r\n/**\r\n * This component initializes the letter notification system.\r\n * It should be included in the main layout to enable notifications:\r\n * - For users: notifications when chief doctor replies\r\n * - For chief doctor: notifications when patients send messages\r\n */\r\nexport function LetterNotifications() {\r\n  // Initialize user notifications (for letter replies from chief doctor)\r\n  useLetterNotifications();\r\n\r\n  // Initialize chief doctor notifications (for new patient messages)\r\n  useChiefDoctorNotifications();\r\n\r\n  // This component doesn't render anything visible\r\n  return null;\r\n}\r\n","'use client';\r\n\r\nimport { useEffect, useRef, useCallback } from 'react';\r\nimport { useSession } from 'next-auth/react';\r\nimport { usePathname } from 'next/navigation';\r\nimport { useAlert } from '@/components/common/SMAlert/AlertProvider';\r\n\r\nconst NOTIFICATION_CHECK_INTERVAL = 15000; // 15 seconds\r\nconst NOTIFIED_MESSAGES_KEY = 'patient-chat-notifications-notified';\r\n\r\ninterface ChatMessage {\r\n  id: number;\r\n  sender_type: 'patient' | 'operator';\r\n  content: string;\r\n  created_at: string;\r\n}\r\n\r\ninterface Chat {\r\n  id: number;\r\n  status: 'WAITING' | 'ACTIVE' | 'CLOSED';\r\n  has_unread_patient: boolean;\r\n  operator: {\r\n    name: string;\r\n  } | null;\r\n  messages: ChatMessage[];\r\n}\r\n\r\nexport function usePatientChatNotifications() {\r\n  const { data: session, status } = useSession();\r\n  const pathname = usePathname();\r\n  const alert = useAlert();\r\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\r\n  const audioRef = useRef<HTMLAudioElement | null>(null);\r\n  const isAdminRef = useRef(false);\r\n\r\n  // Track if user is in admin panel\r\n  useEffect(() => {\r\n    isAdminRef.current = pathname?.startsWith('/admin') || false;\r\n  }, [pathname]);\r\n\r\n  // Initialize audio element\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      audioRef.current = new Audio('/sounds/notification.mp3');\r\n      audioRef.current.volume = 0.5;\r\n    }\r\n  }, []);\r\n\r\n  const playNotificationSound = useCallback(() => {\r\n    if (audioRef.current) {\r\n      audioRef.current.currentTime = 0;\r\n      audioRef.current.play().catch(() => {\r\n        // Audio play failed - browser may block autoplay\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const checkForNewMessages = useCallback(async () => {\r\n    // Only check if authenticated and NOT in admin panel\r\n    if (status !== 'authenticated' || !session || isAdminRef.current) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('/api/operator-chat/my-chat');\r\n      if (!response.ok) return;\r\n\r\n      const data = await response.json();\r\n      const chat: Chat | null = data.chat;\r\n\r\n      if (!chat || !chat.has_unread_patient) return;\r\n\r\n      // Get previously notified message IDs\r\n      const notifiedMessages = JSON.parse(\r\n        localStorage.getItem(NOTIFIED_MESSAGES_KEY) || '[]'\r\n      ) as number[];\r\n\r\n      // Find new messages from operator (not yet notified)\r\n      const newOperatorMessages = chat.messages.filter(\r\n        (msg) => msg.sender_type === 'operator' && !notifiedMessages.includes(msg.id)\r\n      );\r\n\r\n      if (newOperatorMessages.length > 0) {\r\n        // Play notification sound\r\n        playNotificationSound();\r\n\r\n        // Show alert for new messages\r\n        const operatorName = chat.operator?.name || 'Оператор';\r\n\r\n        if (newOperatorMessages.length === 1) {\r\n          const msg = newOperatorMessages[0];\r\n          const preview = msg.content.length > 50\r\n            ? msg.content.substring(0, 50) + '...'\r\n            : msg.content;\r\n\r\n          alert.info(\r\n            `${operatorName}: \"${preview}\"`,\r\n            'Новое сообщение в чате'\r\n          );\r\n        } else {\r\n          alert.info(\r\n            `У вас ${newOperatorMessages.length} новых сообщений от ${operatorName}`,\r\n            'Новые сообщения в чате'\r\n          );\r\n        }\r\n\r\n        // Mark these messages as notified\r\n        const updatedNotified = [\r\n          ...notifiedMessages,\r\n          ...newOperatorMessages.map((m) => m.id),\r\n        ];\r\n        localStorage.setItem(\r\n          NOTIFIED_MESSAGES_KEY,\r\n          JSON.stringify(updatedNotified)\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking for patient chat notifications:', error);\r\n    }\r\n  }, [session, status, alert, playNotificationSound]);\r\n\r\n  // Check on first login when NOT in admin panel\r\n  useEffect(() => {\r\n    if (status !== 'authenticated' || isAdminRef.current) return;\r\n\r\n    // Small delay to let the page load first\r\n    const initialCheckTimeout = setTimeout(() => {\r\n      checkForNewMessages();\r\n    }, 2000);\r\n\r\n    return () => clearTimeout(initialCheckTimeout);\r\n  }, [status, pathname, checkForNewMessages]);\r\n\r\n  // Set up periodic checking (only when NOT in admin panel)\r\n  useEffect(() => {\r\n    if (status !== 'authenticated' || isAdminRef.current) {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Start periodic checks\r\n    intervalRef.current = setInterval(\r\n      checkForNewMessages,\r\n      NOTIFICATION_CHECK_INTERVAL\r\n    );\r\n\r\n    return () => {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n    };\r\n  }, [status, pathname, checkForNewMessages]);\r\n\r\n  return {\r\n    checkForNewMessages,\r\n  };\r\n}\r\n","'use client';\r\n\r\nimport { usePatientChatNotifications } from '@/hooks/usePatientChatNotifications';\r\n\r\n/**\r\n * This component initializes the patient chat notification system.\r\n * It should be included in the main layout to enable notifications\r\n * for patients when operators send messages.\r\n *\r\n * Note: Operator notifications are handled in AdminProviders.\r\n */\r\nexport function ChatNotifications() {\r\n  // Initialize patient chat notifications (only when NOT in admin panel)\r\n  usePatientChatNotifications();\r\n\r\n  // This component doesn't render anything visible\r\n  return null;\r\n}\r\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Dialog, DialogContent, DialogTitle, DialogDescription } from '../common/SMDialog/SMDialog';\r\nimport { Button } from '../common/SMButton/SMButton';\r\nimport {\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  X,\r\n  Heart,\r\n  Menu,\r\n  Bot,\r\n  Search,\r\n  Star,\r\n  MessageSquare,\r\n  Smartphone,\r\n  Monitor\r\n} from 'lucide-react';\r\nimport onboardingConfig from '@/config/onboardingConfig.json';\r\n\r\ninterface OnboardingProps {\r\n  forceShow?: boolean;\r\n  onComplete?: () => void;\r\n}\r\n\r\ntype SlideIcon = 'heart' | 'menu' | 'bot' | 'search' | 'star' | 'message';\r\n\r\ninterface Slide {\r\n  id: string;\r\n  title: string;\r\n  content: string;\r\n  icon: SlideIcon;\r\n}\r\n\r\nconst COOKIE_NAME = onboardingConfig.cookieName;\r\nconst COOKIE_EXPIRE_DAYS = onboardingConfig.cookieExpireDays;\r\nconst COOKIE_CONSENT_KEY = 'cookie-consent-accepted';\r\n\r\n// Cookie utilities\r\nconst setCookie = (name: string, value: string, days: number) => {\r\n  const expires = new Date();\r\n  expires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);\r\n  document.cookie = `${name}=${value};expires=${expires.toUTCString()};path=/`;\r\n};\r\n\r\nconst getCookie = (name: string): string | null => {\r\n  const nameEQ = `${name}=`;\r\n  const ca = document.cookie.split(';');\r\n  for (let i = 0; i < ca.length; i++) {\r\n    let c = ca[i];\r\n    while (c.charAt(0) === ' ') c = c.substring(1);\r\n    if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length);\r\n  }\r\n  return null;\r\n};\r\n\r\n// Check if device is mobile/tablet\r\nconst useIsMobile = () => {\r\n  const [isMobile, setIsMobile] = useState<boolean | null>(null);\r\n\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      const width = window.innerWidth;\r\n      // Consider mobile/tablet if width < 1024px\r\n      setIsMobile(width < 1024);\r\n    };\r\n\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  return isMobile;\r\n};\r\n\r\nconst getIconComponent = (icon: SlideIcon, className: string = 'w-12 h-12') => {\r\n  switch (icon) {\r\n    case 'heart':\r\n      return <Heart className={className} />;\r\n    case 'menu':\r\n      return <Menu className={className} />;\r\n    case 'bot':\r\n      return <Bot className={className} />;\r\n    case 'search':\r\n      return <Search className={className} />;\r\n    case 'star':\r\n      return <Star className={className} />;\r\n    case 'message':\r\n      return <MessageSquare className={className} />;\r\n    default:\r\n      return <Heart className={className} />;\r\n  }\r\n};\r\n\r\nconst SlideIllustration = ({ slide, isMobile }: { slide: Slide; isMobile: boolean }) => {\r\n  switch (slide.id) {\r\n    case 'welcome':\r\n      return (\r\n        <div className=\"w-full h-48 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-2xl flex items-center justify-center relative overflow-hidden\">\r\n          <div className=\"absolute inset-0 opacity-10\">\r\n            <div className=\"absolute top-4 left-4 w-16 h-16 bg-white rounded-full\" />\r\n            <div className=\"absolute bottom-8 right-8 w-24 h-24 bg-white rounded-full\" />\r\n            <div className=\"absolute top-1/2 right-4 w-12 h-12 bg-white rounded-full\" />\r\n          </div>\r\n          <div className=\"text-center text-white z-10\">\r\n            <div className=\"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n              <Heart className=\"w-10 h-10\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-medium\">Doctor Family</h3>\r\n            <p className=\"text-sm text-white/80 mt-1\">Ваше здоровье - наша забота</p>\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    case 'menu':\r\n      return (\r\n        <div className=\"w-full h-48 bg-gray-100 rounded-2xl relative border border-gray-200 overflow-hidden\">\r\n          {/* Phone frame */}\r\n          <div className=\"absolute inset-2 bg-white rounded-xl shadow-inner overflow-hidden\">\r\n            {/* Status bar */}\r\n            <div className=\"bg-gray-50 px-3 py-1.5 flex items-center justify-between border-b border-gray-100\">\r\n              <span className=\"text-[10px] text-gray-500\">9:41</span>\r\n              <span className=\"text-[10px] text-gray-500\">100%</span>\r\n            </div>\r\n            {/* Header */}\r\n            <div className=\"bg-white px-3 py-2 flex items-center justify-between border-b border-gray-100\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"w-5 h-5 bg-[#18A36C] rounded-full\" />\r\n                <span className=\"text-[10px] text-[#18A36C] font-medium\">DOCTOR FAMILY</span>\r\n              </div>\r\n            </div>\r\n            {/* Menu button highlight */}\r\n            <div className=\"absolute top-16 left-3\">\r\n              <div className=\"relative\">\r\n                <div className=\"w-10 h-10 bg-[#18A36C] rounded-full flex items-center justify-center shadow-lg animate-pulse\">\r\n                  <Menu className=\"w-5 h-5 text-white\" />\r\n                </div>\r\n                <div className=\"absolute -right-2 -bottom-1 bg-[#18A36C] text-white text-[8px] px-1.5 py-0.5 rounded-full\">\r\n                  Меню\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    case 'ai-assistant':\r\n      return (\r\n        <div className=\"w-full h-48 bg-gray-100 rounded-2xl relative border border-gray-200 overflow-hidden\">\r\n          <div className=\"absolute inset-2 bg-white rounded-xl shadow-inner\">\r\n            {/* Content placeholder */}\r\n            <div className=\"p-3 space-y-2\">\r\n              <div className=\"h-3 bg-gray-200 rounded w-3/4\" />\r\n              <div className=\"h-3 bg-gray-200 rounded w-1/2\" />\r\n              <div className=\"h-20 bg-gray-100 rounded mt-4\" />\r\n            </div>\r\n            {/* AI button highlight */}\r\n            <div className=\"absolute bottom-3 right-3\">\r\n              <div className=\"relative\">\r\n                <div className=\"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-full flex items-center justify-center shadow-lg animate-bounce\">\r\n                  <Bot className=\"w-6 h-6 text-white\" />\r\n                </div>\r\n                <div className=\"absolute -left-8 -top-1 bg-[#18A36C] text-white text-[8px] px-1.5 py-0.5 rounded-full whitespace-nowrap\">\r\n                  AI помощник\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    case 'search':\r\n      return (\r\n        <div className=\"w-full h-48 bg-gray-100 rounded-2xl relative border border-gray-200 overflow-hidden\">\r\n          <div className=\"absolute inset-2 bg-white rounded-xl shadow-inner\">\r\n            {/* Header with search */}\r\n            <div className=\"bg-white px-3 py-2 flex items-center justify-between border-b border-gray-100\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"w-5 h-5 bg-[#18A36C] rounded-full\" />\r\n                <span className=\"text-[10px] text-[#18A36C] font-medium\">DOCTOR FAMILY</span>\r\n              </div>\r\n              <div className=\"relative\">\r\n                <div className=\"w-8 h-8 bg-[#18A36C]/10 rounded-full flex items-center justify-center animate-pulse\">\r\n                  <Search className=\"w-4 h-4 text-[#18A36C]\" />\r\n                </div>\r\n                <div className=\"absolute -left-10 top-1/2 -translate-y-1/2 bg-[#18A36C] text-white text-[8px] px-1.5 py-0.5 rounded-full\">\r\n                  Поиск\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Search results placeholder */}\r\n            <div className=\"p-3 space-y-2\">\r\n              <div className=\"h-8 bg-gray-50 rounded-lg border border-gray-200 flex items-center px-2\">\r\n                <Search className=\"w-3 h-3 text-gray-400 mr-2\" />\r\n                <span className=\"text-[10px] text-gray-400\">Стоматология...</span>\r\n              </div>\r\n              <div className=\"space-y-1.5 mt-2\">\r\n                <div className=\"h-6 bg-gray-100 rounded\" />\r\n                <div className=\"h-6 bg-gray-100 rounded\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    case 'review':\r\n      return (\r\n        <div className=\"w-full h-48 bg-gradient-to-br from-amber-400 to-amber-500 rounded-2xl flex items-center justify-center relative overflow-hidden\">\r\n          <div className=\"absolute inset-0 opacity-20\">\r\n            <Star className=\"absolute top-4 left-8 w-8 h-8 text-white\" />\r\n            <Star className=\"absolute bottom-8 right-4 w-12 h-12 text-white\" />\r\n            <Star className=\"absolute top-12 right-12 w-6 h-6 text-white\" />\r\n          </div>\r\n          <div className=\"text-center text-white z-10\">\r\n            <div className=\"flex justify-center gap-1 mb-3\">\r\n              {[1, 2, 3, 4, 5].map((i) => (\r\n                <Star key={i} className=\"w-8 h-8 fill-white\" />\r\n              ))}\r\n            </div>\r\n            <h3 className=\"text-lg font-medium\">Оставить отзыв</h3>\r\n            <p className=\"text-sm text-white/80 mt-1\">Поделитесь своим опытом</p>\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    case 'chief-doctor':\r\n      return (\r\n        <div className=\"w-full h-48 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center relative overflow-hidden\">\r\n          <div className=\"absolute inset-0 opacity-10\">\r\n            <div className=\"absolute top-4 right-4 w-20 h-20 bg-white rounded-full\" />\r\n            <div className=\"absolute bottom-4 left-4 w-16 h-16 bg-white rounded-full\" />\r\n          </div>\r\n          <div className=\"text-center text-white z-10\">\r\n            <div className=\"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n              <MessageSquare className=\"w-10 h-10\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-medium\">Главный врач</h3>\r\n            <p className=\"text-sm text-white/80 mt-1\">Личный кабинет → Связь с врачом</p>\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    default:\r\n      return (\r\n        <div className=\"w-full h-48 bg-[#18A36C] rounded-2xl flex items-center justify-center\">\r\n          <div className=\"text-center text-white\">\r\n            <div className=\"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n              {getIconComponent(slide.icon, 'w-10 h-10')}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n  }\r\n};\r\n\r\nexport function Onboarding({ forceShow = false, onComplete }: OnboardingProps) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const [isMounted, setIsMounted] = useState(false);\r\n  const isMobile = useIsMobile();\r\n\r\n  // Prevent hydration mismatch\r\n  useEffect(() => {\r\n    setIsMounted(true);\r\n  }, []);\r\n\r\n  // Get slides based on device type\r\n  const slides: Slide[] = isMobile\r\n    ? (onboardingConfig.mobile.slides as Slide[])\r\n    : (onboardingConfig.desktop.slides as Slide[]);\r\n\r\n  useEffect(() => {\r\n    if (!isMounted) return; // Wait for mount\r\n    if (isMobile === null) return; // Wait for device detection\r\n\r\n    // Check if user has seen onboarding\r\n    const hasSeenOnboarding = getCookie(COOKIE_NAME);\r\n\r\n    if (forceShow || !hasSeenOnboarding) {\r\n      // Check if cookie consent was handled (accepted or closed)\r\n      const cookieConsentHandled = localStorage.getItem(COOKIE_CONSENT_KEY);\r\n\r\n      if (cookieConsentHandled) {\r\n        // Cookie consent already handled, show onboarding immediately\r\n        const timer = setTimeout(() => setIsOpen(true), 500);\r\n        return () => clearTimeout(timer);\r\n      } else {\r\n        // Poll for cookie consent using interval\r\n        const intervalId = setInterval(() => {\r\n          const cookieConsentHandledNow = localStorage.getItem(COOKIE_CONSENT_KEY);\r\n          if (cookieConsentHandledNow) {\r\n            // Cookie consent handled, clear interval and show onboarding\r\n            clearInterval(intervalId);\r\n            setTimeout(() => setIsOpen(true), 500);\r\n          }\r\n        }, 1000); // Check every second\r\n\r\n        // Cleanup interval on unmount\r\n        return () => clearInterval(intervalId);\r\n      }\r\n    }\r\n  }, [isMobile, forceShow, isMounted]);\r\n\r\n  const handleClose = () => {\r\n    setIsOpen(false);\r\n    setCurrentSlide(0);\r\n    // Mark as seen\r\n    setCookie(COOKIE_NAME, 'true', COOKIE_EXPIRE_DAYS);\r\n    onComplete?.();\r\n  };\r\n\r\n  const handleSkip = () => {\r\n    handleClose();\r\n  };\r\n\r\n  const nextSlide = () => {\r\n    if (currentSlide < slides.length - 1) {\r\n      setCurrentSlide(currentSlide + 1);\r\n    }\r\n  };\r\n\r\n  const prevSlide = () => {\r\n    if (currentSlide > 0) {\r\n      setCurrentSlide(currentSlide - 1);\r\n    }\r\n  };\r\n\r\n  const handleFinish = () => {\r\n    handleClose();\r\n  };\r\n\r\n  // Don't render anything until mounted to avoid hydration mismatch\r\n  if (!isMounted || isMobile === null) return null;\r\n\r\n  const isFirstSlide = currentSlide === 0;\r\n  const isLastSlide = currentSlide === slides.length - 1;\r\n  const currentSlideData = slides[currentSlide];\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={handleClose}>\r\n      <DialogContent className=\"sm:max-w-md mx-auto p-0 overflow-hidden border-0 shadow-2xl rounded-2xl\" hideCloseButton>\r\n        <DialogTitle className=\"sr-only\">Обучение по использованию сайта</DialogTitle>\r\n        <DialogDescription className=\"sr-only\">\r\n          Руководство по основным функциям сайта Doctor Family\r\n        </DialogDescription>\r\n\r\n        <div className=\"relative bg-white\">\r\n          {/* Header with progress and close */}\r\n          <div className=\"flex items-center justify-between p-4 border-b border-gray-100\">\r\n            {/* Progress dots */}\r\n            <div className=\"flex gap-1.5\">\r\n              {slides.map((_, index) => (\r\n                <div\r\n                  key={index}\r\n                  className={`h-1.5 rounded-full transition-all duration-300 ${\r\n                    index === currentSlide\r\n                      ? 'bg-[#18A36C] w-6'\r\n                      : index < currentSlide\r\n                        ? 'bg-[#18A36C]/50 w-1.5'\r\n                        : 'bg-gray-200 w-1.5'\r\n                  }`}\r\n                />\r\n              ))}\r\n            </div>\r\n\r\n            {/* Skip & Close buttons */}\r\n            <div className=\"flex items-center gap-2\">\r\n              {!isLastSlide && (\r\n                <button\r\n                  onClick={handleSkip}\r\n                  className=\"text-sm text-gray-500 hover:text-gray-700 transition-colors\"\r\n                >\r\n                  {onboardingConfig.buttons.skip}\r\n                </button>\r\n              )}\r\n              <button\r\n                onClick={handleClose}\r\n                className=\"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors\"\r\n              >\r\n                <X className=\"w-5 h-5 text-gray-400\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Slide content */}\r\n          <AnimatePresence mode=\"wait\">\r\n            <motion.div\r\n              key={currentSlide}\r\n              initial={{ opacity: 0, x: 20 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              exit={{ opacity: 0, x: -20 }}\r\n              transition={{ duration: 0.3 }}\r\n              className=\"p-6\"\r\n            >\r\n              {/* Illustration */}\r\n              <div className=\"mb-6\">\r\n                <SlideIllustration slide={currentSlideData} isMobile={isMobile} />\r\n              </div>\r\n\r\n              {/* Text content */}\r\n              <div className=\"text-center space-y-3\">\r\n                <h2 className=\"text-xl font-semibold text-gray-800\">\r\n                  {currentSlideData.title}\r\n                </h2>\r\n                <p className=\"text-sm text-gray-600 leading-relaxed\">\r\n                  {currentSlideData.content}\r\n                </p>\r\n              </div>\r\n            </motion.div>\r\n          </AnimatePresence>\r\n\r\n          {/* Navigation */}\r\n          <div className=\"p-4 pt-0\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={prevSlide}\r\n                disabled={isFirstSlide}\r\n                className={`flex items-center gap-1 px-4 ${\r\n                  isFirstSlide ? 'opacity-0 pointer-events-none' : 'hover:border-[#18A36C] hover:text-[#18A36C]'\r\n                }`}\r\n              >\r\n                <ChevronLeft className=\"w-4 h-4\" />\r\n                {onboardingConfig.buttons.back}\r\n              </Button>\r\n\r\n              {/* Page indicator */}\r\n              <span className=\"text-xs text-gray-400\">\r\n                {currentSlide + 1} / {slides.length}\r\n              </span>\r\n\r\n              {isLastSlide ? (\r\n                <Button\r\n                  size=\"sm\"\r\n                  onClick={handleFinish}\r\n                  className=\"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white px-6\"\r\n                >\r\n                  {onboardingConfig.buttons.finish}\r\n                </Button>\r\n              ) : (\r\n                <Button\r\n                  size=\"sm\"\r\n                  onClick={nextSlide}\r\n                  className=\"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white flex items-center gap-1 px-4\"\r\n                >\r\n                  {onboardingConfig.buttons.next}\r\n                  <ChevronRight className=\"w-4 h-4\" />\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n// Export a hook for manually triggering onboarding\r\nexport function useOnboarding() {\r\n  const resetOnboarding = () => {\r\n    document.cookie = `${COOKIE_NAME}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\r\n  };\r\n\r\n  return { resetOnboarding };\r\n}\r\n","'use client';\r\n\r\nimport { useEffect, Suspense } from 'react';\r\nimport { usePathname, useSearchParams } from 'next/navigation';\r\n\r\nfunction ScrollToTopInner() {\r\n  const pathname = usePathname();\r\n  const searchParams = useSearchParams();\r\n\r\n  useEffect(() => {\r\n    // Скролл наверх при изменении пути или параметров\r\n    window.scrollTo({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: 'instant' // Мгновенный скролл без анимации\r\n    });\r\n  }, [pathname, searchParams]);\r\n\r\n  return null;\r\n}\r\n\r\nexport function ScrollToTop() {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <ScrollToTopInner />\r\n    </Suspense>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[1,16,18]}