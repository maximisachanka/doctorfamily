(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94351,e=>{"use strict";let s=(0,e.i(75254).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);e.s(["Home",()=>s],94351)},81997,e=>{"use strict";let s=(0,e.i(75254).default)("messages-square",[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]]);e.s(["MessagesSquare",()=>s],81997)},73250,e=>{"use strict";var s=e.i(43476);function t({className:e=""}){return(0,s.jsx)("div",{className:`animate-pulse bg-gray-200 rounded ${e}`})}function a(){return(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,s.jsx)(t,{className:"w-16 h-16 rounded-xl flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,s.jsx)(t,{className:"h-5 w-3/4"}),(0,s.jsx)(t,{className:"h-4 w-full"}),(0,s.jsx)(t,{className:"h-4 w-2/3"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(t,{className:"h-6 w-20 rounded-full"}),(0,s.jsx)(t,{className:"h-6 w-16 rounded-full"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[(0,s.jsx)(t,{className:"h-4 w-24"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(t,{className:"h-8 w-8 rounded-lg"}),(0,s.jsx)(t,{className:"h-8 w-8 rounded-lg"})]})]})]})}function r({count:e=12}){return(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Array.from({length:e}).map((e,t)=>(0,s.jsx)(a,{},t))})}function l(){return(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex gap-4 mb-3",children:[(0,s.jsx)(t,{className:"w-14 h-14 rounded-full flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,s.jsx)(t,{className:"h-5 w-2/5"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(t,{className:"h-4 w-24"}),(0,s.jsx)(t,{className:"h-3 w-20"})]}),(0,s.jsx)(t,{className:"h-4 w-full"}),(0,s.jsx)(t,{className:"h-4 w-4/5"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(t,{className:"h-6 w-32 rounded-full"}),(0,s.jsx)(t,{className:"h-6 w-28 rounded-full"})]}),(0,s.jsx)("div",{className:"flex items-center justify-end pt-4 border-t border-gray-100",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(t,{className:"h-8 w-8 rounded-lg"}),(0,s.jsx)(t,{className:"h-8 w-8 rounded-lg"})]})})]})}function i({count:e=12}){return(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:e}).map((e,t)=>(0,s.jsx)(l,{},t))})}function n(){return(0,s.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(t,{className:"h-5 w-3/4 mb-2"}),(0,s.jsx)(t,{className:"h-4 w-full mb-2"}),(0,s.jsx)(t,{className:"h-4 w-5/6 mb-3"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(t,{className:"h-6 w-24 rounded-full"}),(0,s.jsx)(t,{className:"h-6 w-32 rounded-full"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(t,{className:"h-8 w-8 rounded-lg"}),(0,s.jsx)(t,{className:"h-8 w-8 rounded-lg"})]})]})})}function o({count:e=12}){return(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,t)=>(0,s.jsx)(n,{},t))})}function d(){return(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 lg:p-8 border border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,s.jsx)(t,{className:"w-12 h-12 rounded-xl"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t,{className:"h-7 w-40 mb-2"}),(0,s.jsx)(t,{className:"h-4 w-64"})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[Array.from({length:7}).map((e,a)=>(0,s.jsxs)("div",{children:[(0,s.jsx)(t,{className:"h-4 w-32 mb-2"}),(0,s.jsx)(t,{className:"h-11 w-full rounded-lg"})]},a)),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsx)(t,{className:"h-11 w-48 rounded-lg"})})]})]})}function c(){return(0,s.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 backdrop-blur-md",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-sm"}),(0,s.jsxs)("div",{className:"relative z-10 text-center",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("div",{className:"w-16 h-16 mx-auto border-4 border-gray-200 border-t-[#18A36C] rounded-full animate-spin"})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Проверка доступа..."}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Пожалуйста, подождите"})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-2 mt-6",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-[#18A36C] rounded-full animate-pulse",style:{animationDelay:"0ms"}}),(0,s.jsx)("div",{className:"w-2 h-2 bg-[#18A36C] rounded-full animate-pulse",style:{animationDelay:"150ms"}}),(0,s.jsx)("div",{className:"w-2 h-2 bg-[#18A36C] rounded-full animate-pulse",style:{animationDelay:"300ms"}})]})]})]})}e.s(["AdminAccessSkeleton",()=>c,"AdminContactsSkeleton",()=>d,"AdminFeedbacksGridSkeleton",()=>i,"AdminGridSkeleton",()=>r,"AdminQuestionsGridSkeleton",()=>o])},49685,e=>{"use strict";let s=(0,e.i(75254).default)("handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);e.s(["Handshake",()=>s],49685)},32811,e=>{"use strict";let s=(0,e.i(75254).default)("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["UserCog",()=>s],32811)},75961,4125,18026,45347,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(18566),r=e.i(98919),l=e.i(61911),i=e.i(63059),n=e.i(94351),o=e.i(78583),d=e.i(49685),c=e.i(63727),m=e.i(74875),x=e.i(86311),h=e.i(50965),u=e.i(43432),g=e.i(63488),p=e.i(32811),f=e.i(81997),y=e.i(26299),j=e.i(9056),b=e.i(42002);let w=[{id:"chat",title:"Чат",icon:(0,s.jsx)(f.MessagesSquare,{className:"w-4 h-4"}),href:"/admin/chat",operatorAccess:!0},{id:"specialists",title:"Специалисты",icon:(0,s.jsx)(l.Users,{className:"w-4 h-4"}),href:"/admin"},{id:"services",title:"Услуги",icon:(0,s.jsx)(h.ShoppingBag,{className:"w-4 h-4"}),href:"/admin/services"},{id:"materials",title:"Материалы",icon:(0,s.jsx)(o.FileText,{className:"w-4 h-4"}),href:"/admin/materials"},{id:"partners",title:"Партнёры",icon:(0,s.jsx)(d.Handshake,{className:"w-4 h-4"}),href:"/admin/partners"},{id:"vacancies",title:"Вакансии",icon:(0,s.jsx)(c.Briefcase,{className:"w-4 h-4"}),href:"/admin/vacancies"},{id:"questions",title:"Вопросы (FAQ)",icon:(0,s.jsx)(m.HelpCircle,{className:"w-4 h-4"}),href:"/admin/questions"},{id:"feedbacks",title:"Отзывы",icon:(0,s.jsx)(x.MessageSquare,{className:"w-4 h-4"}),href:"/admin/feedbacks"},{id:"contacts",title:"Контакты",icon:(0,s.jsx)(u.Phone,{className:"w-4 h-4"}),href:"/admin/contacts"},{id:"letters",title:"Письма",icon:(0,s.jsx)(g.Mail,{className:"w-4 h-4"}),href:"/admin/letters",chiefDoctorOnly:!0},{id:"users",title:"Пользователи",icon:(0,s.jsx)(p.UserCog,{className:"w-4 h-4"}),href:"/admin/users"}];function v({onNavigate:e}){let l=(0,a.useRouter)(),o=(0,a.usePathname)(),[d,c]=(0,t.useState)(!1),[m,x]=(0,t.useState)(null),{counts:h}=(0,b.useUnreadCountsContext)();(0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/admin/auth"),s=await e.json();x(s.role||null)}catch(e){x(null)}})()},[]);let u=(0,t.useMemo)(()=>m?w.filter(e=>"OPERATOR"===m?!0===e.operatorAccess:"CHIEF_DOCTOR"===m||"ADMIN"===m&&!e.chiefDoctorOnly):[],[m]),g=()=>{l.push("/"),c(!1)},p=e=>"/admin"===e?"/admin"===o||"/admin/specialists"===o:o===e||o?.startsWith(e+"/"),f=()=>(0,s.jsxs)("div",{className:"bg-white h-full flex flex-col",children:[(0,s.jsx)("div",{className:"p-4 lg:p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:(0,s.jsx)(r.Shield,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{className:"text-left flex-1",children:[(0,s.jsx)("h2",{className:"text-lg lg:text-xl font-semibold text-gray-800",children:"Админ-панель"}),(0,s.jsx)("p",{className:"text-xs lg:text-sm text-gray-500 mt-0.5",children:"Управление контентом"})]})]})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,s.jsx)("nav",{className:"py-4 px-2",children:u.map(t=>{var a;let r="feedbacks"===(a=t.id)?h.feedbacks:"letters"===a?h.letters:"chat"===a&&h.chats||0;return(0,s.jsxs)("button",{onClick:()=>{e?e(t.href):l.push(t.href),c(!1)},className:`w-full flex items-center justify-between px-4 py-3 text-left transition-all duration-300 group rounded-lg mx-1 mb-1 cursor-pointer ${p(t.href)?"bg-[#18A36C]/10 text-[#18A36C] shadow-sm":"hover:bg-gray-50"}`,style:{width:"calc(100% - 8px)"},children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:`flex-shrink-0 transition-all duration-300 relative ${p(t.href)?"text-[#18A36C] scale-110":"text-gray-500 group-hover:text-[#18A36C] group-hover:scale-110"}`,children:[t.icon,r>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[18px] h-[18px] bg-red-500 text-white text-[10px] font-bold rounded-full px-1",children:r>99?"99+":r})]}),(0,s.jsx)("span",{className:`font-medium transition-colors duration-300 ${p(t.href)?"text-[#18A36C]":"text-gray-700 group-hover:text-[#18A36C]"}`,children:t.title})]}),p(t.href)&&(0,s.jsx)(i.ChevronRight,{className:"w-4 h-4 text-[#18A36C]"})]},t.id)})})}),(0,s.jsxs)("div",{className:"p-4 border-t border-gray-100 space-y-3",children:[(0,s.jsxs)("button",{onClick:g,className:"w-full flex items-center gap-3 px-4 py-3 text-left transition-all duration-300 group rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,s.jsx)(n.Home,{className:"w-4 h-4 text-gray-500 group-hover:text-[#18A36C] transition-colors"}),(0,s.jsx)("span",{className:"font-medium text-gray-700 group-hover:text-[#18A36C] transition-colors",children:"На сайт"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center font-medium",children:"Doctor Family © 2025"})]})]});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"hidden lg:block w-80 flex-shrink-0 sticky top-0 h-screen overflow-y-auto bg-white border-r border-gray-200 shadow-lg",children:(0,s.jsx)(f,{})}),(0,s.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,s.jsxs)(j.Sheet,{open:d,onOpenChange:c,children:[(0,s.jsx)(j.SheetTrigger,{asChild:!0,children:(0,s.jsx)(y.Button,{size:"sm",className:"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white shadow-xl rounded-full w-14 h-14 p-0 transition-all duration-300 hover:scale-110 active:scale-95 cursor-pointer",children:(0,s.jsx)(r.Shield,{className:"w-6 h-6"})})}),(0,s.jsxs)(j.SheetContent,{side:"left",className:"w-80 p-0",children:[(0,s.jsxs)(j.SheetHeader,{className:"sr-only",children:[(0,s.jsx)(j.SheetTitle,{children:"Админ-панель"}),(0,s.jsx)(j.SheetDescription,{children:"Управление контентом сайта"})]}),(0,s.jsx)(f,{})]})]})})]})}e.s(["AdminMenu",()=>v],75961);var N=e.i(46932);let C=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var k=e.i(55436),A=e.i(31278),S=e.i(87316),D=e.i(73375),M=e.i(73250);function F({title:e,icon:t,count:a,loading:r,searchValue:l,onSearchChange:i,onAdd:n,children:o,addButtonText:d="Добавить",loadingSkeleton:c}){return(0,s.jsxs)(N.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white p-6 border-b border-gray-100",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-xl flex items-center justify-center shadow-lg shadow-[#18A36C]/20",children:(0,s.jsx)(t,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:e}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-0.5",children:["Всего записей: ",(0,s.jsx)("span",{className:"font-medium text-[#18A36C]",children:a})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto",children:[(0,s.jsxs)("div",{className:"relative flex-1 sm:flex-initial",children:[(0,s.jsx)(k.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",name:"admin-search-query",placeholder:"Поиск...",value:l,onChange:e=>i(e.target.value),autoComplete:"off",className:"pl-10 pr-4 py-2.5 w-full sm:w-64 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all"})]}),n&&(0,s.jsxs)(y.Button,{onClick:n,className:"bg-gradient-to-r from-[#18A36C] to-[#15905f] hover:from-[#15905f] hover:to-[#128a54] text-white shadow-lg shadow-[#18A36C]/20 rounded-xl px-5 py-2.5 transition-all hover:shadow-xl hover:shadow-[#18A36C]/30 whitespace-nowrap cursor-pointer",children:[(0,s.jsx)(C,{className:"w-4 h-4 mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:d}),(0,s.jsx)("span",{className:"sm:hidden",children:"Добавить"})]})]})]})}),(0,s.jsx)("div",{className:"p-6",children:r?c||(0,s.jsx)(M.AdminGridSkeleton,{count:12}):o})]})}function Y({icon:e,title:t,description:a,actionText:r,onAction:l}){return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-2xl flex items-center justify-center mb-6",children:(0,s.jsx)(e,{className:"w-10 h-10 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:t}),(0,s.jsx)("p",{className:"text-gray-500 text-center max-w-md mb-6",children:a}),r&&l&&(0,s.jsxs)(y.Button,{onClick:l,className:"bg-[#18A36C] hover:bg-[#15905f] text-white rounded-xl cursor-pointer",children:[(0,s.jsx)(C,{className:"w-4 h-4 mr-2"}),r]})]})}function L({children:e,onClick:t}){return(0,s.jsx)(N.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},whileHover:{y:-2},transition:{duration:.2},onClick:t,className:`bg-white border border-gray-100 rounded-xl p-5 hover:shadow-lg hover:border-[#18A36C]/20 transition-all duration-300 ${t?"cursor-pointer":""}`,children:e})}function $({onEdit:e,onDelete:t}){return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:s=>{s.stopPropagation(),e()},className:"p-2 text-gray-400 hover:text-[#18A36C] hover:bg-[#18A36C]/10 rounded-lg transition-all duration-200 transform hover:scale-110 active:scale-95 cursor-pointer",title:"Редактировать",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),t()},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all duration-200 transform hover:scale-110 active:scale-95 cursor-pointer",title:"Удалить",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}function B({isOpen:e,onClose:t,title:a,children:r,onSubmit:l,submitText:i="Сохранить",loading:n=!1,disabled:o=!1}){return e?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)(N.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,s.jsxs)(N.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-2xl max-h-[90vh] bg-white rounded-2xl shadow-2xl overflow-hidden mx-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:a}),(0,s.jsx)("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200 transform hover:scale-110 active:scale-95 cursor-pointer",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:r}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-100 bg-gray-50",children:[(0,s.jsx)(y.Button,{variant:"outline",onClick:t,className:"rounded-xl cursor-pointer",children:"Отмена"}),(0,s.jsx)(y.Button,{onClick:l,disabled:n||o,className:"bg-gradient-to-r from-[#18A36C] to-[#15905f] text-white rounded-xl min-w-[120px] cursor-pointer",children:n?(0,s.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin"}):i})]})]})]}):null}function E({label:e,required:t,children:a,error:r}){return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e,t&&(0,s.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),a,r&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:r})]})}function H({...e}){return(0,s.jsx)("input",{...e,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all"})}function O({...e}){return(0,s.jsx)("textarea",{...e,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all resize-none"})}let T=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],q=["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],I=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"];function P({value:e,onChange:a,placeholder:r}){let[l,n]=(0,t.useState)(!1),[o,d]=(0,t.useState)("days"),[c,m]=(0,t.useState)(()=>e?new Date(e):new Date),x=(0,t.useRef)(null);(0,t.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&(n(!1),d("days"))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let h=(e=>{let s=e.getFullYear(),t=e.getMonth(),a=new Date(s,t,1),r=new Date(s,t+1,0).getDate(),l=a.getDay()-1;l<0&&(l=6);let i=[];for(let e=0;e<l;e++)i.push(null);for(let e=1;e<=r;e++)i.push(e);return i})(c),u=12*Math.floor(c.getFullYear()/12),g=Array.from({length:12},(e,s)=>u+s);return(0,s.jsxs)("div",{className:"relative",ref:x,children:[(0,s.jsx)("button",{type:"button",onClick:()=>n(!l),className:`w-full px-4 py-2.5 pr-10 border rounded-xl text-sm text-left transition-all bg-white cursor-pointer ${l?"border-[#18A36C] ring-2 ring-[#18A36C]/20":"border-gray-200 hover:border-gray-300"} ${e?"text-gray-900":"text-gray-400"}`,children:e?new Date(e).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}):r||"Выберите дату"}),(0,s.jsx)(S.Calendar,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#18A36C] pointer-events-none"}),l&&(0,s.jsxs)(N.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute top-full left-0 mt-2 bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden z-50 w-[320px]",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-[#18A36C] to-[#15905f] px-4 py-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("button",{type:"button",onClick:"days"===o?()=>{m(new Date(c.getFullYear(),c.getMonth()-1,1))}:"months"===o?()=>{m(new Date(c.getFullYear()-1,c.getMonth(),1))}:()=>{m(new Date(c.getFullYear()-12,c.getMonth(),1))},className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors cursor-pointer",children:(0,s.jsx)(D.ChevronLeft,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("button",{type:"button",onClick:()=>d("days"===o?"months":"years"),className:"px-3 py-1 hover:bg-white/20 rounded-lg transition-colors cursor-pointer",children:(0,s.jsxs)("span",{className:"font-semibold text-white",children:["days"===o&&`${T[c.getMonth()]} ${c.getFullYear()}`,"months"===o&&c.getFullYear(),"years"===o&&`${u} - ${u+11}`]})}),(0,s.jsx)("button",{type:"button",onClick:"days"===o?()=>{m(new Date(c.getFullYear(),c.getMonth()+1,1))}:"months"===o?()=>{m(new Date(c.getFullYear()+1,c.getMonth(),1))}:()=>{m(new Date(c.getFullYear()+12,c.getMonth(),1))},className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors cursor-pointer",children:(0,s.jsx)(i.ChevronRight,{className:"w-5 h-5 text-white"})})]})}),(0,s.jsxs)("div",{className:"p-4",children:["days"===o&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:I.map((e,t)=>(0,s.jsx)("div",{className:`text-center text-xs font-semibold py-2 ${t>=5?"text-red-400":"text-gray-400"}`,children:e},e))}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1",children:h.map((t,r)=>{let l;return(0,s.jsx)("div",{className:"aspect-square p-0.5",children:null!==t&&(0,s.jsx)("button",{type:"button",onClick:()=>{a(new Date(c.getFullYear(),c.getMonth(),t).toISOString().split("T")[0]),n(!1),d("days")},className:`w-full h-full flex items-center justify-center text-sm rounded-xl transition-all font-medium cursor-pointer ${(s=>{if(!e)return!1;let t=new Date(e);return t.getDate()===s&&t.getMonth()===c.getMonth()&&t.getFullYear()===c.getFullYear()})(t)?"bg-gradient-to-br from-[#18A36C] to-[#15905f] text-white shadow-lg shadow-[#18A36C]/30":(l=new Date).getDate()===t&&l.getMonth()===c.getMonth()&&l.getFullYear()===c.getFullYear()?"bg-[#18A36C]/10 text-[#18A36C] ring-2 ring-[#18A36C]/30":"text-gray-700 hover:bg-gray-100"}`,children:t})},r)})})]}),"months"===o&&(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:q.map((t,a)=>{let r;return(0,s.jsx)("button",{type:"button",onClick:()=>{m(new Date(c.getFullYear(),a,1)),d("days")},className:`py-3 px-2 rounded-xl text-sm font-medium transition-all cursor-pointer ${(s=>{if(!e)return!1;let t=new Date(e);return t.getMonth()===s&&t.getFullYear()===c.getFullYear()})(a)?"bg-gradient-to-br from-[#18A36C] to-[#15905f] text-white shadow-lg shadow-[#18A36C]/30":(r=new Date).getMonth()===a&&r.getFullYear()===c.getFullYear()?"bg-[#18A36C]/10 text-[#18A36C] ring-2 ring-[#18A36C]/30":"text-gray-700 hover:bg-gray-100"}`,children:t},t)})}),"years"===o&&(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:g.map(t=>(0,s.jsx)("button",{type:"button",onClick:()=>{m(new Date(t,c.getMonth(),1)),d("months")},className:`py-3 px-2 rounded-xl text-sm font-medium transition-all cursor-pointer ${e&&new Date(e).getFullYear()===t?"bg-gradient-to-br from-[#18A36C] to-[#15905f] text-white shadow-lg shadow-[#18A36C]/30":new Date().getFullYear()===t?"bg-[#18A36C]/10 text-[#18A36C] ring-2 ring-[#18A36C]/30":"text-gray-700 hover:bg-gray-100"}`,children:t},t))})]})]})]})}function z({children:e,...t}){return(0,s.jsx)("select",{...t,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all bg-white",children:e})}function R({children:e,variant:t="primary"}){return(0,s.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium ${{primary:"bg-[#18A36C]/10 text-[#18A36C]",secondary:"bg-gray-100 text-gray-600",success:"bg-green-100 text-green-700",warning:"bg-amber-100 text-amber-700",danger:"bg-red-100 text-red-700"}[t]}`,children:e})}e.s(["AdminSection",()=>F,"Badge",()=>R,"CardActions",()=>$,"EmptyState",()=>Y,"FormDateInput",()=>P,"FormField",()=>E,"FormInput",()=>H,"FormModal",()=>B,"FormSelect",()=>z,"FormTextarea",()=>O,"ItemCard",()=>L],4125);var U=e.i(70756),G=e.i(86536),W=e.i(77705),J=e.i(19964);function K({onSuccess:e}){let[a,l]=(0,t.useState)(""),[i,n]=(0,t.useState)(!1),[o,d]=(0,t.useState)(""),[c,m]=(0,t.useState)(!1),x=async s=>{s.preventDefault(),m(!0),d("");try{let s=await fetch("/api/admin/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a})}),t=await s.json();s.ok?e():d(t.error||"Ошибка авторизации")}catch(e){d("Ошибка сервера")}finally{m(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-gray-50 to-gray-100",children:(0,s.jsx)(N.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:(0,s.jsxs)(J.Card,{className:"p-8 shadow-xl border-0",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-[#18A36C]/30",children:(0,s.jsx)(r.Shield,{className:"w-10 h-10 text-white"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Админ-панель"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Введите пароль для доступа"})]}),(0,s.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Пароль"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(U.Lock,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:i?"text":"password",value:a,onChange:e=>l(e.target.value),className:"w-full pl-12 pr-12 py-3.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all",placeholder:"Введите пароль"}),(0,s.jsx)("button",{type:"button",onClick:()=>n(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:i?(0,s.jsx)(W.EyeOff,{className:"w-5 h-5"}):(0,s.jsx)(G.Eye,{className:"w-5 h-5"})})]})]}),o&&(0,s.jsx)(N.motion.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm bg-red-50 px-4 py-3 rounded-xl",children:o}),(0,s.jsx)(y.Button,{type:"submit",disabled:c||!a,className:"w-full bg-gradient-to-r from-[#18A36C] to-[#15905f] hover:from-[#15905f] hover:to-[#128a54] text-white py-3.5 rounded-xl shadow-lg shadow-[#18A36C]/20 transition-all hover:shadow-xl",children:c?(0,s.jsx)(A.Loader2,{className:"w-5 h-5 animate-spin"}):"Войти"})]})]})})})}e.s(["AdminAuthForm",()=>K],18026);let Q="admin_session";function V(){let[e,s]=(0,t.useState)(null),[a,r]=(0,t.useState)(!0),l=(0,t.useCallback)(e=>!!e&&!!e.verified&&Date.now()-e.lastActivity<864e5,[]);(0,t.useEffect)(()=>{try{let e=localStorage.getItem(Q);if(e){let t=JSON.parse(e);l(t)?(i(),s(!0)):(localStorage.removeItem(Q),s(!1))}else s(!1)}catch(e){s(!1)}finally{r(!1)}},[l]);let i=(0,t.useCallback)(()=>{try{let e={verified:!0,lastActivity:Date.now()};localStorage.setItem(Q,JSON.stringify(e))}catch(e){}},[]),n=(0,t.useCallback)(()=>{i(),s(!0)},[i]),o=(0,t.useCallback)(()=>{localStorage.removeItem(Q),s(!1)},[]);return(0,t.useEffect)(()=>{if(!e)return;let s=()=>{i()};window.addEventListener("click",s),window.addEventListener("keydown",s);let t=setInterval(()=>{"visible"===document.visibilityState&&i()},3e5);return()=>{window.removeEventListener("click",s),window.removeEventListener("keydown",s),clearInterval(t)}},[e,i]),{sessionVerified:e,isLoading:a,verifySession:n,clearSession:o,updateActivity:i}}e.s(["useAdminSession",()=>V],45347)},69524,e=>{"use strict";var s=e.i(43476),t=e.i(46932),a=e.i(88653),r=e.i(78894),l=e.i(37727),i=e.i(26299);function n({isOpen:e,onClose:n,onConfirm:o,title:d,message:c,confirmText:m="Удалить",cancelText:x="Отмена",variant:h="danger",loading:u=!1}){return e?(0,s.jsx)(a.AnimatePresence,{children:e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998]"}),(0,s.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:(0,s.jsxs)(t.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.3},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{className:`px-6 py-5 border-b border-gray-100 ${"danger"===h?"bg-red-50":"bg-yellow-50"}`,children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${"danger"===h?"bg-red-100":"bg-yellow-100"}`,children:(0,s.jsx)(r.AlertTriangle,{className:`w-6 h-6 ${"danger"===h?"text-red-600":"text-yellow-600"}`})}),(0,s.jsx)("div",{children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:d})})]}),(0,s.jsx)("button",{onClick:n,disabled:u,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50 cursor-pointer",children:(0,s.jsx)(l.X,{className:"w-5 h-5"})})]})}),(0,s.jsx)("div",{className:"px-6 py-5",children:(0,s.jsx)("p",{className:"text-gray-600 leading-relaxed",children:c})}),(0,s.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex items-center justify-end gap-3",children:[(0,s.jsx)(i.Button,{onClick:n,disabled:u,variant:"ghost",className:"px-5 py-2.5 cursor-pointer",children:x}),(0,s.jsx)("button",{onClick:()=>{o()},disabled:u,className:`px-5 py-2.5 rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer ${"danger"===h?"bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-600/30":"bg-yellow-600 hover:bg-yellow-700 text-white shadow-lg shadow-yellow-600/30"}`,children:u?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Удаление..."})]}):m})]})]})})]})}):null}e.s(["ConfirmDialog",()=>n])},91900,e=>{"use strict";var s=e.i(71645);function t(){let[e,t]=(0,s.useState)(!1),[a,r]=(0,s.useState)(!1),[l,i]=(0,s.useState)({title:"",message:""}),[n,o]=(0,s.useState)(null),d=(0,s.useCallback)(e=>(i(e),t(!0),r(!1),new Promise(e=>{o({resolve:e})})),[]);return{confirm:d,isOpen:e,loading:a,options:l,handleConfirm:(0,s.useCallback)(async()=>{n&&(r(!0),await new Promise(e=>setTimeout(e,300)),n.resolve(!0),t(!1),r(!1),o(null))},[n]),handleCancel:(0,s.useCallback)(()=>{n&&(n.resolve(!1),t(!1),r(!1),o(null))},[n])}}e.s(["useConfirmDialog",()=>t])}]);