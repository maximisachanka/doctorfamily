(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},56909,e=>{"use strict";let s=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>s],56909)},93595,e=>{"use strict";var s=e.i(43476),a=e.i(71645),r=e.i(17255),l=e.i(43432),t=e.i(31278),i=e.i(46897),n=e.i(3116),d=e.i(63488),c=e.i(56909),o=e.i(75961),m=e.i(4125),h=e.i(29306),u=e.i(18026),x=e.i(45347),p=e.i(86633),g=e.i(73250);function j(){let{status:e}=(0,r.useSession)(),{sessionVerified:j,isLoading:f,verifySession:b}=(0,x.useAdminSession)(),[v,y]=(0,a.useState)(null),{success:_,error:w}=(0,p.useAlert)(),[N,F]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!1),[A,S]=(0,a.useState)({address:"",map_geo:"",work_hours_main:"",work_hours_sunday:"",phone_number:"",phone_number_sec:"",email:""});(0,a.useEffect)(()=>{"authenticated"===e?M():"unauthenticated"===e&&y(!1)},[e]),(0,a.useEffect)(()=>{j&&v&&P()},[j,v]);let M=async()=>{try{let e=await fetch("/api/admin/auth"),s=await e.json();y(s.isAdmin)}catch(e){y(!1)}},P=async()=>{F(!0);try{let e=await fetch("/api/admin/contacts");if(e.ok){let s=await e.json();S({address:s.address||"",map_geo:s.map_geo||"",work_hours_main:s.work_hours_main||"",work_hours_sunday:s.work_hours_sunday||"",phone_number:s.phone_number||"",phone_number_sec:s.phone_number_sec||"",email:s.email||""})}}catch(e){console.error("Error loading contacts:",e),w("Ошибка загрузки контактов")}finally{F(!1)}},T=async()=>{if(!A.address||!A.phone_number||!A.email)return void w("Заполните обязательные поля");C(!0);try{let e=await fetch("/api/admin/contacts",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(e.ok)_("Контакты успешно сохранены");else{let s=await e.json();w(s.error||"Ошибка сохранения")}}catch(e){w("Ошибка сохранения")}finally{C(!1)}};return"loading"===e||null===v||f?(0,s.jsx)(g.AdminAccessSkeleton,{}):"unauthenticated"!==e&&v?j?(0,s.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,s.jsx)(o.AdminMenu,{}),(0,s.jsx)("div",{className:"flex-1 p-4 lg:p-8 overflow-auto",children:(0,s.jsx)("div",{className:"max-w-7xl",children:N?(0,s.jsx)(g.AdminContactsSkeleton,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-[#18A36C]/10 rounded-xl flex items-center justify-center",children:(0,s.jsx)(l.Phone,{className:"w-6 h-6 text-[#18A36C]"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Контакты"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Редактирование контактной информации клиники"})]})]})}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,s.jsx)(i.MapPin,{className:"w-5 h-5 text-blue-500"})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(m.FormField,{label:"Адрес",required:!0,children:(0,s.jsx)(m.FormTextarea,{value:A.address,onChange:e=>S({...A,address:e.target.value}),rows:2,placeholder:"г. Минск, пр. Победителей, д. 119"})})})]}),(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,s.jsx)(i.MapPin,{className:"w-5 h-5 text-green-500"})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(m.FormField,{label:"Координаты карты (Google Maps embed или координаты)",children:(0,s.jsx)(m.FormInput,{type:"text",value:A.map_geo,onChange:e=>S({...A,map_geo:e.target.value}),placeholder:"53.9045,27.5615 или iframe код"})})})]}),(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-orange-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,s.jsx)(n.Clock,{className:"w-5 h-5 text-orange-500"})}),(0,s.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(m.FormField,{label:"Режим работы (Пн-Сб)",children:(0,s.jsx)(m.FormInput,{type:"text",value:A.work_hours_main,onChange:e=>S({...A,work_hours_main:e.target.value}),placeholder:"09:00-20:00"})}),(0,s.jsx)(m.FormField,{label:"Режим работы (Воскресенье)",children:(0,s.jsx)(m.FormInput,{type:"text",value:A.work_hours_sunday,onChange:e=>S({...A,work_hours_sunday:e.target.value}),placeholder:"10:00-18:00"})})]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-purple-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,s.jsx)(l.Phone,{className:"w-5 h-5 text-purple-500"})}),(0,s.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(m.FormField,{label:"Основной телефон",required:!0,children:(0,s.jsx)(m.FormInput,{type:"text",value:A.phone_number,onChange:e=>S({...A,phone_number:e.target.value}),placeholder:"+375(29)161-01-01"})}),(0,s.jsx)(m.FormField,{label:"Дополнительный телефон",children:(0,s.jsx)(m.FormInput,{type:"text",value:A.phone_number_sec,onChange:e=>S({...A,phone_number_sec:e.target.value}),placeholder:"+375(29)162-02-02"})})]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-red-50 rounded-lg flex items-center justify-center flex-shrink-0 mt-6",children:(0,s.jsx)(d.Mail,{className:"w-5 h-5 text-red-500"})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(m.FormField,{label:"Email",required:!0,children:(0,s.jsx)(m.FormInput,{type:"email",value:A.email,onChange:e=>S({...A,email:e.target.value}),placeholder:"info@clinic.by"})})})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-gray-100",children:(0,s.jsx)("button",{onClick:T,disabled:k,className:"w-full md:w-auto px-6 py-3 bg-[#18A36C] hover:bg-[#149259] disabled:bg-gray-300 text-white font-medium rounded-xl transition-colors flex items-center justify-center gap-2",children:k?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.Loader2,{className:"w-5 h-5 animate-spin"}),"Сохранение..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Save,{className:"w-5 h-5"}),"Сохранить изменения"]})})})]})]})})})]}):(0,s.jsx)(u.AdminAuthForm,{onSuccess:()=>{b()}}):(0,s.jsx)(h.default,{})}e.s(["default",()=>j])}]);