(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9056,e=>{"use strict";var t=e.i(43476),s=e.i(26999),a=e.i(95926),r=e.i(46932),l=e.i(80809);function i({...e}){return(0,t.jsx)(s.Root,{"data-slot":"sheet",...e})}function n({...e}){return(0,t.jsx)(s.Trigger,{"data-slot":"sheet-trigger",...e})}function o({...e}){return(0,t.jsx)(s.Portal,{"data-slot":"sheet-portal",...e})}let d={hidden:{opacity:0},visible:{opacity:1}},c={left:{hidden:{x:"-100%"},visible:{x:0}},right:{hidden:{x:"100%"},visible:{x:0}},top:{hidden:{y:"-100%"},visible:{y:0}},bottom:{hidden:{y:"100%"},visible:{y:0}}};function h({className:e,children:i,side:n="right",...h}){return(0,t.jsxs)(o,{children:[(0,t.jsx)(s.Overlay,{asChild:!0,children:(0,t.jsx)(r.motion.div,{"data-slot":"sheet-overlay",className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",initial:"hidden",animate:"visible",exit:"hidden",variants:d,transition:{duration:.3,ease:"easeOut"}})}),(0,t.jsx)(s.Content,{asChild:!0,...h,children:(0,t.jsxs)(r.motion.div,{"data-slot":"sheet-content",className:(0,l.cn)("bg-background fixed z-50 flex flex-col shadow-2xl","right"===n&&"inset-y-0 right-0 h-full w-3/4 border-none sm:max-w-sm","left"===n&&"inset-y-0 left-0 h-full w-3/4 border-none sm:max-w-sm","top"===n&&"inset-x-0 top-0 h-auto border-b","bottom"===n&&"inset-x-0 bottom-0 h-auto border-t",e),initial:"hidden",animate:"visible",exit:"hidden",variants:c[n],transition:{type:"spring",damping:30,stiffness:300,mass:.8},children:[i,(0,t.jsxs)(s.Close,{className:"ring-offset-background focus:ring-ring absolute top-4 right-4 rounded-full w-8 h-8 flex items-center justify-center bg-gray-100 hover:bg-gray-200 transition-all duration-200 hover:scale-110 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none z-10",children:[(0,t.jsx)(a.XIcon,{className:"size-4 text-gray-600"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})})]})}function m({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"sheet-header",className:(0,l.cn)("flex flex-col gap-1.5 p-4",e),...s})}function x({className:e,...a}){return(0,t.jsx)(s.Title,{"data-slot":"sheet-title",className:(0,l.cn)("text-foreground font-semibold",e),...a})}function u({className:e,...a}){return(0,t.jsx)(s.Description,{"data-slot":"sheet-description",className:(0,l.cn)("text-muted-foreground text-sm",e),...a})}e.s(["Sheet",()=>i,"SheetContent",()=>h,"SheetDescription",()=>u,"SheetHeader",()=>m,"SheetTitle",()=>x,"SheetTrigger",()=>n])},19964,e=>{"use strict";var t=e.i(43476),s=e.i(80809);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function l({className:e,...a}){return(0,t.jsx)("h4",{"data-slot":"card-title",className:(0,s.cn)("leading-none",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6 [&:last-child]:pb-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>i,"CardHeader",()=>r,"CardTitle",()=>l])},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},94351,e=>{"use strict";let t=(0,e.i(75254).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);e.s(["Home",()=>t],94351)},81997,e=>{"use strict";let t=(0,e.i(75254).default)("messages-square",[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]]);e.s(["MessagesSquare",()=>t],81997)},73250,e=>{"use strict";var t=e.i(43476);function s({className:e=""}){return(0,t.jsx)("div",{className:`animate-pulse bg-gray-200 rounded ${e}`})}function a(){return(0,t.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsx)(s,{className:"w-16 h-16 rounded-xl flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,t.jsx)(s,{className:"h-5 w-3/4"}),(0,t.jsx)(s,{className:"h-4 w-full"}),(0,t.jsx)(s,{className:"h-4 w-2/3"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(s,{className:"h-6 w-20 rounded-full"}),(0,t.jsx)(s,{className:"h-6 w-16 rounded-full"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[(0,t.jsx)(s,{className:"h-4 w-24"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(s,{className:"h-8 w-8 rounded-lg"}),(0,t.jsx)(s,{className:"h-8 w-8 rounded-lg"})]})]})]})}function r({count:e=12}){return(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Array.from({length:e}).map((e,s)=>(0,t.jsx)(a,{},s))})}function l(){return(0,t.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-3",children:[(0,t.jsx)(s,{className:"w-14 h-14 rounded-full flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,t.jsx)(s,{className:"h-5 w-2/5"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(s,{className:"h-4 w-24"}),(0,t.jsx)(s,{className:"h-3 w-20"})]}),(0,t.jsx)(s,{className:"h-4 w-full"}),(0,t.jsx)(s,{className:"h-4 w-4/5"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(s,{className:"h-6 w-32 rounded-full"}),(0,t.jsx)(s,{className:"h-6 w-28 rounded-full"})]}),(0,t.jsx)("div",{className:"flex items-center justify-end pt-4 border-t border-gray-100",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(s,{className:"h-8 w-8 rounded-lg"}),(0,t.jsx)(s,{className:"h-8 w-8 rounded-lg"})]})})]})}function i({count:e=12}){return(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:e}).map((e,s)=>(0,t.jsx)(l,{},s))})}function n(){return(0,t.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(s,{className:"h-5 w-3/4 mb-2"}),(0,t.jsx)(s,{className:"h-4 w-full mb-2"}),(0,t.jsx)(s,{className:"h-4 w-5/6 mb-3"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s,{className:"h-6 w-24 rounded-full"}),(0,t.jsx)(s,{className:"h-6 w-32 rounded-full"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(s,{className:"h-8 w-8 rounded-lg"}),(0,t.jsx)(s,{className:"h-8 w-8 rounded-lg"})]})]})})}function o({count:e=12}){return(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,s)=>(0,t.jsx)(n,{},s))})}function d(){return(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 lg:p-8 border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,t.jsx)(s,{className:"w-12 h-12 rounded-xl"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(s,{className:"h-7 w-40 mb-2"}),(0,t.jsx)(s,{className:"h-4 w-64"})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[Array.from({length:7}).map((e,a)=>(0,t.jsxs)("div",{children:[(0,t.jsx)(s,{className:"h-4 w-32 mb-2"}),(0,t.jsx)(s,{className:"h-11 w-full rounded-lg"})]},a)),(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsx)(s,{className:"h-11 w-48 rounded-lg"})})]})]})}function c(){return(0,t.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 backdrop-blur-md",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"relative z-10 text-center",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("div",{className:"w-16 h-16 mx-auto border-4 border-gray-200 border-t-[#18A36C] rounded-full animate-spin"})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Проверка доступа..."}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Пожалуйста, подождите"})]}),(0,t.jsxs)("div",{className:"flex justify-center gap-2 mt-6",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-[#18A36C] rounded-full animate-pulse",style:{animationDelay:"0ms"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-[#18A36C] rounded-full animate-pulse",style:{animationDelay:"150ms"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-[#18A36C] rounded-full animate-pulse",style:{animationDelay:"300ms"}})]})]})]})}e.s(["AdminAccessSkeleton",()=>c,"AdminContactsSkeleton",()=>d,"AdminFeedbacksGridSkeleton",()=>i,"AdminGridSkeleton",()=>r,"AdminQuestionsGridSkeleton",()=>o])},49685,e=>{"use strict";let t=(0,e.i(75254).default)("handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);e.s(["Handshake",()=>t],49685)},32811,e=>{"use strict";let t=(0,e.i(75254).default)("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["UserCog",()=>t],32811)},73014,e=>{"use strict";let t=(0,e.i(75254).default)("folder-tree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);e.s(["FolderTree",()=>t],73014)},75961,4125,18026,45347,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(98919),l=e.i(61911),i=e.i(63059),n=e.i(94351),o=e.i(78583),d=e.i(49685),c=e.i(63727),h=e.i(74875),m=e.i(86311),x=e.i(50965),u=e.i(43432),g=e.i(63488),f=e.i(32811),p=e.i(81997),y=e.i(73014),j=e.i(26299),b=e.i(9056),w=e.i(42002);let v=[{id:"chat",title:"Чат",icon:(0,t.jsx)(p.MessagesSquare,{className:"w-4 h-4"}),href:"/admin/chat",operatorAccess:!0},{id:"specialists",title:"Специалисты",icon:(0,t.jsx)(l.Users,{className:"w-4 h-4"}),href:"/admin"},{id:"services",title:"Услуги",icon:(0,t.jsx)(x.ShoppingBag,{className:"w-4 h-4"}),href:"/admin/services"},{id:"service-categories",title:"Категории услуг",icon:(0,t.jsx)(y.FolderTree,{className:"w-4 h-4"}),href:"/admin/service-categories"},{id:"materials",title:"Материалы",icon:(0,t.jsx)(o.FileText,{className:"w-4 h-4"}),href:"/admin/materials"},{id:"partners",title:"Партнёры",icon:(0,t.jsx)(d.Handshake,{className:"w-4 h-4"}),href:"/admin/partners"},{id:"vacancies",title:"Вакансии",icon:(0,t.jsx)(c.Briefcase,{className:"w-4 h-4"}),href:"/admin/vacancies"},{id:"questions",title:"Вопросы (FAQ)",icon:(0,t.jsx)(h.HelpCircle,{className:"w-4 h-4"}),href:"/admin/questions"},{id:"question-categories",title:"Категории вопросов",icon:(0,t.jsx)(y.FolderTree,{className:"w-4 h-4"}),href:"/admin/question-categories"},{id:"feedbacks",title:"Отзывы",icon:(0,t.jsx)(m.MessageSquare,{className:"w-4 h-4"}),href:"/admin/feedbacks"},{id:"contacts",title:"Контакты",icon:(0,t.jsx)(u.Phone,{className:"w-4 h-4"}),href:"/admin/contacts"},{id:"letters",title:"Письма",icon:(0,t.jsx)(g.Mail,{className:"w-4 h-4"}),href:"/admin/letters",chiefDoctorOnly:!0},{id:"users",title:"Пользователи",icon:(0,t.jsx)(f.UserCog,{className:"w-4 h-4"}),href:"/admin/users"}];function N({onNavigate:e}){let l=(0,a.useRouter)(),o=(0,a.usePathname)(),[d,c]=(0,s.useState)(!1),[h,m]=(0,s.useState)(null),{counts:x}=(0,w.useUnreadCountsContext)();(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/admin/auth"),t=await e.json();m(t.role||null)}catch(e){m(null)}})()},[]);let u=(0,s.useMemo)(()=>h?v.filter(e=>"OPERATOR"===h?!0===e.operatorAccess:"CHIEF_DOCTOR"===h||"ADMIN"===h&&!e.chiefDoctorOnly):[],[h]),g=()=>{l.push("/"),c(!1)},f=e=>"/admin"===e?"/admin"===o||"/admin/specialists"===o:o===e||o?.startsWith(e+"/"),p=()=>(0,t.jsxs)("div",{className:"bg-white h-full flex flex-col",children:[(0,t.jsx)("div",{className:"p-4 lg:p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:(0,t.jsx)(r.Shield,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"text-left flex-1",children:[(0,t.jsx)("h2",{className:"text-lg lg:text-xl font-semibold text-gray-800",children:"Админ-панель"}),(0,t.jsx)("p",{className:"text-xs lg:text-sm text-gray-500 mt-0.5",children:"Управление контентом"})]})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,t.jsx)("nav",{className:"py-4 px-2",children:u.map(s=>{var a;let r="feedbacks"===(a=s.id)?x.feedbacks:"letters"===a?x.letters:"chat"===a&&x.chats||0;return(0,t.jsxs)("button",{onClick:()=>{e?e(s.href):l.push(s.href),c(!1)},className:`w-full flex items-center justify-between px-4 py-3 text-left transition-all duration-300 group rounded-lg mx-1 mb-1 cursor-pointer ${f(s.href)?"bg-[#18A36C]/10 text-[#18A36C] shadow-sm":"hover:bg-gray-50"}`,style:{width:"calc(100% - 8px)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:`flex-shrink-0 transition-all duration-300 relative ${f(s.href)?"text-[#18A36C] scale-110":"text-gray-500 group-hover:text-[#18A36C] group-hover:scale-110"}`,children:[s.icon,r>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[18px] h-[18px] bg-red-500 text-white text-[10px] font-bold rounded-full px-1",children:r>99?"99+":r})]}),(0,t.jsx)("span",{className:`font-medium transition-colors duration-300 ${f(s.href)?"text-[#18A36C]":"text-gray-700 group-hover:text-[#18A36C]"}`,children:s.title})]}),f(s.href)&&(0,t.jsx)(i.ChevronRight,{className:"w-4 h-4 text-[#18A36C]"})]},s.id)})})}),(0,t.jsxs)("div",{className:"p-4 border-t border-gray-100 space-y-3",children:[(0,t.jsxs)("button",{onClick:g,className:"w-full flex items-center gap-3 px-4 py-3 text-left transition-all duration-300 group rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)(n.Home,{className:"w-4 h-4 text-gray-500 group-hover:text-[#18A36C] transition-colors"}),(0,t.jsx)("span",{className:"font-medium text-gray-700 group-hover:text-[#18A36C] transition-colors",children:"На сайт"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 text-center font-medium",children:"Doctor Family © 2025"})]})]});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"hidden lg:block w-80 flex-shrink-0 sticky top-0 h-screen overflow-y-auto bg-white border-r border-gray-200 shadow-lg",children:(0,t.jsx)(p,{})}),(0,t.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,t.jsxs)(b.Sheet,{open:d,onOpenChange:c,children:[(0,t.jsx)(b.SheetTrigger,{asChild:!0,children:(0,t.jsx)(j.Button,{size:"sm",className:"bg-[#18A36C] hover:bg-[#18A36C]/90 text-white shadow-xl rounded-full w-14 h-14 p-0 transition-all duration-300 hover:scale-110 active:scale-95 cursor-pointer",children:(0,t.jsx)(r.Shield,{className:"w-6 h-6"})})}),(0,t.jsxs)(b.SheetContent,{side:"left",className:"w-80 p-0",children:[(0,t.jsxs)(b.SheetHeader,{className:"sr-only",children:[(0,t.jsx)(b.SheetTitle,{children:"Админ-панель"}),(0,t.jsx)(b.SheetDescription,{children:"Управление контентом сайта"})]}),(0,t.jsx)(p,{})]})]})})]})}e.s(["AdminMenu",()=>N],75961);var C=e.i(46932);let k=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var A=e.i(55436),S=e.i(31278),M=e.i(87316),D=e.i(73375),F=e.i(73250);function L({title:e,icon:s,count:a,loading:r,searchValue:l,onSearchChange:i,onAdd:n,children:o,addButtonText:d="Добавить",loadingSkeleton:c}){return(0,t.jsxs)(C.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-white p-6 border-b border-gray-100",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-xl flex items-center justify-center shadow-lg shadow-[#18A36C]/20",children:(0,t.jsx)(s,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:e}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-0.5",children:["Всего записей: ",(0,t.jsx)("span",{className:"font-medium text-[#18A36C]",children:a})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto",children:[(0,t.jsxs)("div",{className:"relative flex-1 sm:flex-initial",children:[(0,t.jsx)(A.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,t.jsx)("input",{type:"text",name:"admin-search-query",placeholder:"Поиск...",value:l,onChange:e=>i(e.target.value),autoComplete:"off",className:"pl-10 pr-4 py-2.5 w-full sm:w-64 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all"})]}),n&&(0,t.jsxs)(j.Button,{onClick:n,className:"bg-gradient-to-r from-[#18A36C] to-[#15905f] hover:from-[#15905f] hover:to-[#128a54] text-white shadow-lg shadow-[#18A36C]/20 rounded-xl px-5 py-2.5 transition-all hover:shadow-xl hover:shadow-[#18A36C]/30 whitespace-nowrap cursor-pointer",children:[(0,t.jsx)(k,{className:"w-4 h-4 mr-2"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:d}),(0,t.jsx)("span",{className:"sm:hidden",children:"Добавить"})]})]})]})}),(0,t.jsx)("div",{className:"p-6",children:r?c||(0,t.jsx)(F.AdminGridSkeleton,{count:12}):o})]})}function Y({icon:e,title:s,description:a,actionText:r,onAction:l}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-2xl flex items-center justify-center mb-6",children:(0,t.jsx)(e,{className:"w-10 h-10 text-gray-400"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:s}),(0,t.jsx)("p",{className:"text-gray-500 text-center max-w-md mb-6",children:a}),r&&l&&(0,t.jsxs)(j.Button,{onClick:l,className:"bg-[#18A36C] hover:bg-[#15905f] text-white rounded-xl cursor-pointer",children:[(0,t.jsx)(k,{className:"w-4 h-4 mr-2"}),r]})]})}function T({children:e,onClick:s}){return(0,t.jsx)(C.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},whileHover:{y:-2},transition:{duration:.2},onClick:s,className:`bg-white border border-gray-100 rounded-xl p-5 hover:shadow-lg hover:border-[#18A36C]/20 transition-all duration-300 ${s?"cursor-pointer":""}`,children:e})}function H({onEdit:e,onDelete:s}){return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),e()},className:"p-2 text-gray-400 hover:text-[#18A36C] hover:bg-[#18A36C]/10 rounded-lg transition-all duration-200 transform hover:scale-110 active:scale-95 cursor-pointer",title:"Редактировать",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),s()},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all duration-200 transform hover:scale-110 active:scale-95 cursor-pointer",title:"Удалить",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}function O({isOpen:e,onClose:s,title:a,children:r,onSubmit:l,submitText:i="Сохранить",loading:n=!1,disabled:o=!1}){return e?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,t.jsx)(C.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,t.jsxs)(C.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-2xl max-h-[90vh] bg-white rounded-2xl shadow-2xl overflow-hidden mx-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:a}),(0,t.jsx)("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200 transform hover:scale-110 active:scale-95 cursor-pointer",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:r}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-100 bg-gray-50",children:[(0,t.jsx)(j.Button,{variant:"outline",onClick:s,className:"rounded-xl cursor-pointer",children:"Отмена"}),(0,t.jsx)(j.Button,{onClick:l,disabled:n||o,className:"bg-gradient-to-r from-[#18A36C] to-[#15905f] text-white rounded-xl min-w-[120px] cursor-pointer",children:n?(0,t.jsx)(S.Loader2,{className:"w-4 h-4 animate-spin"}):i})]})]})]}):null}function $({label:e,required:s,children:a,error:r}){return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e,s&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),a,r&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:r})]})}function q({...e}){return(0,t.jsx)("input",{...e,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all"})}function E({...e}){return(0,t.jsx)("textarea",{...e,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all resize-none"})}let z=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],B=["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],I=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"];function R({value:e,onChange:a,placeholder:r}){let[l,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)("days"),[c,h]=(0,s.useState)(()=>e?new Date(e):new Date),m=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&(n(!1),d("days"))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let x=(e=>{let t=e.getFullYear(),s=e.getMonth(),a=new Date(t,s,1),r=new Date(t,s+1,0).getDate(),l=a.getDay()-1;l<0&&(l=6);let i=[];for(let e=0;e<l;e++)i.push(null);for(let e=1;e<=r;e++)i.push(e);return i})(c),u=12*Math.floor(c.getFullYear()/12),g=Array.from({length:12},(e,t)=>u+t);return(0,t.jsxs)("div",{className:"relative",ref:m,children:[(0,t.jsx)("button",{type:"button",onClick:()=>n(!l),className:`w-full px-4 py-2.5 pr-10 border rounded-xl text-sm text-left transition-all bg-white cursor-pointer ${l?"border-[#18A36C] ring-2 ring-[#18A36C]/20":"border-gray-200 hover:border-gray-300"} ${e?"text-gray-900":"text-gray-400"}`,children:e?new Date(e).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}):r||"Выберите дату"}),(0,t.jsx)(M.Calendar,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#18A36C] pointer-events-none"}),l&&(0,t.jsxs)(C.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute top-full left-0 mt-2 bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden z-50 w-[320px]",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#18A36C] to-[#15905f] px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("button",{type:"button",onClick:"days"===o?()=>{h(new Date(c.getFullYear(),c.getMonth()-1,1))}:"months"===o?()=>{h(new Date(c.getFullYear()-1,c.getMonth(),1))}:()=>{h(new Date(c.getFullYear()-12,c.getMonth(),1))},className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors cursor-pointer",children:(0,t.jsx)(D.ChevronLeft,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("button",{type:"button",onClick:()=>d("days"===o?"months":"years"),className:"px-3 py-1 hover:bg-white/20 rounded-lg transition-colors cursor-pointer",children:(0,t.jsxs)("span",{className:"font-semibold text-white",children:["days"===o&&`${z[c.getMonth()]} ${c.getFullYear()}`,"months"===o&&c.getFullYear(),"years"===o&&`${u} - ${u+11}`]})}),(0,t.jsx)("button",{type:"button",onClick:"days"===o?()=>{h(new Date(c.getFullYear(),c.getMonth()+1,1))}:"months"===o?()=>{h(new Date(c.getFullYear()+1,c.getMonth(),1))}:()=>{h(new Date(c.getFullYear()+12,c.getMonth(),1))},className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors cursor-pointer",children:(0,t.jsx)(i.ChevronRight,{className:"w-5 h-5 text-white"})})]})}),(0,t.jsxs)("div",{className:"p-4",children:["days"===o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:I.map((e,s)=>(0,t.jsx)("div",{className:`text-center text-xs font-semibold py-2 ${s>=5?"text-red-400":"text-gray-400"}`,children:e},e))}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-1",children:x.map((s,r)=>{let l;return(0,t.jsx)("div",{className:"aspect-square p-0.5",children:null!==s&&(0,t.jsx)("button",{type:"button",onClick:()=>{a(new Date(c.getFullYear(),c.getMonth(),s).toISOString().split("T")[0]),n(!1),d("days")},className:`w-full h-full flex items-center justify-center text-sm rounded-xl transition-all font-medium cursor-pointer ${(t=>{if(!e)return!1;let s=new Date(e);return s.getDate()===t&&s.getMonth()===c.getMonth()&&s.getFullYear()===c.getFullYear()})(s)?"bg-gradient-to-br from-[#18A36C] to-[#15905f] text-white shadow-lg shadow-[#18A36C]/30":(l=new Date).getDate()===s&&l.getMonth()===c.getMonth()&&l.getFullYear()===c.getFullYear()?"bg-[#18A36C]/10 text-[#18A36C] ring-2 ring-[#18A36C]/30":"text-gray-700 hover:bg-gray-100"}`,children:s})},r)})})]}),"months"===o&&(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:B.map((s,a)=>{let r;return(0,t.jsx)("button",{type:"button",onClick:()=>{h(new Date(c.getFullYear(),a,1)),d("days")},className:`py-3 px-2 rounded-xl text-sm font-medium transition-all cursor-pointer ${(t=>{if(!e)return!1;let s=new Date(e);return s.getMonth()===t&&s.getFullYear()===c.getFullYear()})(a)?"bg-gradient-to-br from-[#18A36C] to-[#15905f] text-white shadow-lg shadow-[#18A36C]/30":(r=new Date).getMonth()===a&&r.getFullYear()===c.getFullYear()?"bg-[#18A36C]/10 text-[#18A36C] ring-2 ring-[#18A36C]/30":"text-gray-700 hover:bg-gray-100"}`,children:s},s)})}),"years"===o&&(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:g.map(s=>(0,t.jsx)("button",{type:"button",onClick:()=>{h(new Date(s,c.getMonth(),1)),d("months")},className:`py-3 px-2 rounded-xl text-sm font-medium transition-all cursor-pointer ${e&&new Date(e).getFullYear()===s?"bg-gradient-to-br from-[#18A36C] to-[#15905f] text-white shadow-lg shadow-[#18A36C]/30":new Date().getFullYear()===s?"bg-[#18A36C]/10 text-[#18A36C] ring-2 ring-[#18A36C]/30":"text-gray-700 hover:bg-gray-100"}`,children:s},s))})]})]})]})}function P({children:e,...s}){return(0,t.jsx)("select",{...s,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all bg-white",children:e})}function U({children:e,variant:s="primary"}){return(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium ${{primary:"bg-[#18A36C]/10 text-[#18A36C]",secondary:"bg-gray-100 text-gray-600",success:"bg-green-100 text-green-700",warning:"bg-amber-100 text-amber-700",danger:"bg-red-100 text-red-700"}[s]}`,children:e})}e.s(["AdminSection",()=>L,"Badge",()=>U,"CardActions",()=>H,"EmptyState",()=>Y,"FormDateInput",()=>R,"FormField",()=>$,"FormInput",()=>q,"FormModal",()=>O,"FormSelect",()=>P,"FormTextarea",()=>E,"ItemCard",()=>T],4125);var G=e.i(70756),V=e.i(86536),W=e.i(77705),_=e.i(19964);function J({onSuccess:e}){let[a,l]=(0,s.useState)(""),[i,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)(""),[c,h]=(0,s.useState)(!1),m=async t=>{t.preventDefault(),h(!0),d("");try{let t=await fetch("/api/admin/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a})}),s=await t.json();t.ok?e():d(s.error||"Ошибка авторизации")}catch(e){d("Ошибка сервера")}finally{h(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-gray-50 to-gray-100",children:(0,t.jsx)(C.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:(0,t.jsxs)(_.Card,{className:"p-8 shadow-xl border-0",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-[#18A36C] to-[#15905f] rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-[#18A36C]/30",children:(0,t.jsx)(r.Shield,{className:"w-10 h-10 text-white"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Админ-панель"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Введите пароль для доступа"})]}),(0,t.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Пароль"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(G.Lock,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,t.jsx)("input",{type:i?"text":"password",value:a,onChange:e=>l(e.target.value),className:"w-full pl-12 pr-12 py-3.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#18A36C]/20 focus:border-[#18A36C] transition-all",placeholder:"Введите пароль"}),(0,t.jsx)("button",{type:"button",onClick:()=>n(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:i?(0,t.jsx)(W.EyeOff,{className:"w-5 h-5"}):(0,t.jsx)(V.Eye,{className:"w-5 h-5"})})]})]}),o&&(0,t.jsx)(C.motion.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm bg-red-50 px-4 py-3 rounded-xl",children:o}),(0,t.jsx)(j.Button,{type:"submit",disabled:c||!a,className:"w-full bg-gradient-to-r from-[#18A36C] to-[#15905f] hover:from-[#15905f] hover:to-[#128a54] text-white py-3.5 rounded-xl shadow-lg shadow-[#18A36C]/20 transition-all hover:shadow-xl",children:c?(0,t.jsx)(S.Loader2,{className:"w-5 h-5 animate-spin"}):"Войти"})]})]})})})}e.s(["AdminAuthForm",()=>J],18026);let K="admin_session";function Q(){let[e,t]=(0,s.useState)(null),[a,r]=(0,s.useState)(!0),l=(0,s.useCallback)(e=>!!e&&!!e.verified&&Date.now()-e.lastActivity<864e5,[]);(0,s.useEffect)(()=>{try{let e=localStorage.getItem(K);if(e){let s=JSON.parse(e);l(s)?(i(),t(!0)):(localStorage.removeItem(K),t(!1))}else t(!1)}catch(e){t(!1)}finally{r(!1)}},[l]);let i=(0,s.useCallback)(()=>{try{let e={verified:!0,lastActivity:Date.now()};localStorage.setItem(K,JSON.stringify(e))}catch(e){}},[]),n=(0,s.useCallback)(()=>{i(),t(!0)},[i]),o=(0,s.useCallback)(()=>{localStorage.removeItem(K),t(!1)},[]);return(0,s.useEffect)(()=>{if(!e)return;let t=()=>{i()};window.addEventListener("click",t),window.addEventListener("keydown",t);let s=setInterval(()=>{"visible"===document.visibilityState&&i()},3e5);return()=>{window.removeEventListener("click",t),window.removeEventListener("keydown",t),clearInterval(s)}},[e,i]),{sessionVerified:e,isLoading:a,verifySession:n,clearSession:o,updateActivity:i}}e.s(["useAdminSession",()=>Q],45347)}]);